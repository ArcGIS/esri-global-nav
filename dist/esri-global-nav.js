!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("sortablejs")):"function"==typeof define&&define.amd?define(["sortablejs"],t):e.esriGlobalNav=t(e.Sortable)}(this,function(R){"use strict";function G(e){var t=e instanceof Node?e:document.createElement(e);return[].slice.call(arguments,1).forEach(function(e){e instanceof Node?t.appendChild(e):"string"==typeof e?t.innerHTML=e:function e(t,a,n){for(var r in a)"function"==typeof a[r]?t.addEventListener(n+r,a[r]):Object(a[r])===a[r]?e(t,a[r],n+r+"-"):t.setAttribute(n+r,a[r])}(t,e,"")}),t}function U(e){for(;e.lastChild;)e.removeChild(e.lastChild);var t,a;return e.appendChild((t=arguments,a=document.createDocumentFragment(),[].slice.call(t,1).forEach(function(e){e instanceof Node?a.appendChild(e):a.appendChild(document.createTextNode(e))}),a)),e}R=R&&R.hasOwnProperty("default")?R.default:R;!function(){function d(e){this.value=e}function e(r){var i,o;function s(e,t){try{var a=r[e](t),n=a.value;n instanceof d?Promise.resolve(n.value).then(function(e){s("next",e)},function(e){s("throw",e)}):l(a.done?"return":"normal",a.value)}catch(e){l("throw",e)}}function l(e,t){switch(e){case"return":i.resolve({value:t,done:!0});break;case"throw":i.reject(t);break;default:i.resolve({value:t,done:!1})}(i=i.next)?s(i.key,i.arg):o=null}this._invoke=function(n,r){return new Promise(function(e,t){var a={key:n,arg:r,resolve:e,reject:t,next:null};o?o=o.next=a:(i=o=a,s(n,r))})},"function"!=typeof r.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(e.prototype[Symbol.asyncIterator]=function(){return this}),e.prototype.next=function(e){return this._invoke("next",e)},e.prototype.throw=function(e){return this._invoke("throw",e)},e.prototype.return=function(e){return this._invoke("return",e)}}();var w=function(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)};function J(e,t,a){var n=document.createEvent("CustomEvent");n.initCustomEvent(t,!0,!0,a),e.dispatchEvent(n)}function E(e){var t=void 0,a=[];e.addEventListener("blur",function(){a.forEach(function(e){e.removeAttribute("js-focus"),e.removeAttribute("js-focus-ring")})},!0),e.addEventListener("focus",function(){var e=document.activeElement;e instanceof Element&&(e.setAttribute("js-focus",""),t&&e.setAttribute("js-focus-ring",""),a.push(e))},!0),e.addEventListener("keydown",function(){t=clearTimeout(t)||setTimeout(function(){t=0},100)},!0)}function K(e){var t=e.imgDef,a=void 0===t?"":t,n=e.imgClass,r=void 0===n?"":n,i=e.imgWidth,o=e.imgHeight,s=e.viewBox,l=e.id,d=e.$targetElm,c=G("span"),u={class:r,role:"presentation"};if(i&&o&&(u.width=i,u.height=o),s&&(u.viewBox=s),l&&(u.id=l),"string"==typeof a)a.indexOf(".svg")===a.length-4?function(e,t){var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:function(){},n=new XMLHttpRequest;n.addEventListener("readystatechange",function(){4===n.readyState&&(200===n.status?t(n.responseText):a())}),n.open("GET",e),n.send()}(a,function(e){c.innerHTML=e,G(c.firstElementChild,u)},function(){m({$imgWrapper:c,id:l,imgDef:a,imgClass:r,imgWidth:i,imgHeight:o})}):m({$imgWrapper:c,id:l,imgDef:a,imgClass:r,imgWidth:i,imgHeight:o});else{var p=G(document.createElementNS("http://www.w3.org/2000/svg","svg"),u,G.apply(void 0,[document.createDocumentFragment()].concat(w(a.map(function(e){return G(document.createElementNS("http://www.w3.org/2000/svg","path"),{d:e})})))));c.appendChild(p)}return d&&(d.innerHTML="",d.appendChild(c)),c;function m(e){var t=e.$imgWrapper,a=e.id,n=e.imgDef,r=e.imgClass,i=e.imgWidth,o=e.imgHeight;t.appendChild(G("img",{id:a,src:n,class:r,style:(i?"width:"+i+"px":"")+"; "+(o?"height:"+o+"px":"")}))}}var C="esri-header-account",A="esri-header-brand",t="esri-header-branding-stripe",u="esri-header-menus",k=function(e){var t=e.variant,c=void 0===t?"desktop":t,n=G("div",{class:u,id:u+"-"+c});if(n.classList.add("-"+c),"mobile"===c){var a=G("button",{class:u+"-toggle",id:u+"-"+c+"-toggle",aria:{controls:u+"-content",expanded:!1,haspopup:!0,labelledby:"esri-header-brand"}});a.addEventListener("click",function(e){J(a,"header:menu:toggle",{control:a,content:r,root:!0,state:"menu",target:n,type:"root-toggle",event:e})}),G(n,a)}var r=G("div",{class:u+"-content",aria:{hidden:!0,expanded:!1}});return G(n,r),n.addEventListener("header:update:menus",function(e){var t=e.detail;U.apply(void 0,[r].concat(w(t.map(function(e,d){return G("div",{class:u+"-menu",role:"group"},G.apply(void 0,["ul",{class:u+"-list",role:"navigation",aria:{labelledby:"esri-header-brand"}}].concat(w(e.map(function(e,t){var a=e.icon?K({imgDef:e.icon.path,imgClass:u+"-link-icon",imgWidth:e.icon.width||"16px",imgHeight:e.icon.height||"16px"}):null,n=G("a",{class:u+"-link "+(e.hideLabelInDesktop?"-hide-label":""),id:u+"-link-"+d+"-"+t,href:e.href||"javascript:;"},a,G("span",{class:u+"-link-label"},e.label));e.data&&n({data:e.data});var r=G("li",{class:u+"-item"},n),i=e.menus&&e.menus.length,o=e.tiles&&e.tiles.length;if(i||o){var s=G("button",{class:u+"-submenu-toggle"},e.label),l=G("div",{class:u+"-submenu",id:u+"-"+c+"-submenu-"+d+"-"+t,role:"group",aria:{hidden:!0,expanded:!1},data:{filled:e.menus&&10<e.menus.length?e.menus.slice(0,18).length:""}},s);i&&G(l,G.apply(void 0,["ul",{class:u+"-sublist",role:"navigation",aria:{labelledby:u+"-"+c+"-link-"+d+"-"+t}}].concat(w(e.menus.slice(0,18).map(function(e){var t=G("a",{class:u+"-sublink",href:e.href},e.label);return e.data&&G(t,{data:e.data}),e.newContext&&G(t,{target:"_blank",rel:"noopener"}),G("li",{class:u+"-subitem"},t)}))))),o&&G(l,G.apply(void 0,["ul",{class:u+"-sublist--featured",role:"navigation",aria:{labelledby:u+"-link-"+d+"-"+t},data:{filled:""+e.tiles.slice(0,4).length}}].concat(w(e.tiles.slice(0,4).map(function(e){var t=G("a",{class:u+"-sublink--featured",href:e.href},K({imgDef:e.icon,imgClass:u+"-sublink-image",imgWidth:e.width,imgHeight:e.height}),G("span",{class:u+"-sublink-text"},e.label));return e.data&&G(t,{data:e.data}),e.newContext&&G(t,{target:"_blank",rel:"noopener"}),G("li",{class:u+"-subitem--featured"},t)}))))),G(r,l),n.addEventListener("click",function(){J(n,"header:menu:toggle",{control:n,content:l,submenu:!0,state:"menu",type:"menu-toggle"})}),s.addEventListener("click",function(){J(s,"header:menu:close",{control:n,submenu:!0,content:l,type:"menu-close"})})}return r})))))}))))}),n.addEventListener("header:update:collapseMenus",function(e){var t=e.detail;if(t&&-1<t.indexOf(!0)){document.querySelector(".esri-header-menus-toggle").classList.add("-visible"),document.getElementById("esri-header-brand").classList.add("-fit-burger"),document.getElementById("esri-header-menus-mobile").classList.add("-always-visible");var a=[].slice.call(n.querySelectorAll(".esri-header-menus-menu"));t.forEach(function(e,t){e&&a[t].classList.add("-collapsed")})}}),n},o="esri-header-search",D=function(){var r=G("button",{class:o+"-control",id:o+"-control",aria:{expanded:!1,controls:o+"-content"}});r.addEventListener("click",function(e){J(r,"header:click:search",{event:e}),J(r,"header:menu:toggle",{control:r,content:i,state:"search",target:t,type:"search-toggle",event:e})});var i=G("div",{class:o+"-content",id:o+"-content",aria:{expanded:!1,labelledby:o+"-control"}}),t=G("div",{class:o},r,i);return t.addEventListener("header:update:search",function(e){var t=e.detail;if(!t.hide&&(G(r,{aria:{label:t.label}}),K({imgDef:t.image,imgClass:o+"-image",id:o+"-image",$targetElm:r}),t.dialog)){t.dialog.prefix="esri-header-search-dialog";var a=function(n){var r=G("label",{class:n.prefix+"-label",for:n.prefix+"-query-control"},n.queryLabel),i=G("input",{class:n.prefix+"-control",id:n.prefix+"-control",type:"search",name:"q",autocapitalize:"off",autocomplete:"off",autocorrect:"off",spellcheck:"false"}),o=document.createTextNode(""),s=G("div",{class:n.prefix+"-measure-text",aria:{hidden:!0}},o),l=G("div",{class:n.prefix+"-measure"},s),d=G("button",{class:n.prefix+"-submit",type:"submit",aria:{label:n.submitLabel}}),c=G("form",{class:n.prefix+"-form",action:n.action,role:"search",aria:{label:n.label}},r,i,l,d);c.addEventListener(n.prefix+":focus",function(){i.focus()});var u=!1,p="";function e(e){e&&"reset"===e.type&&(i.value="");var t=i.value;t!==p&&(p=t,J(c,n.prefix+":input",{value:p,event:e})),u&&!t?(u=!1,r.removeAttribute("data-filled"),d.removeAttribute("data-filled")):!u&&t&&(u=!0,G(r,{data:{filled:""}}),G(d,{data:{filled:""}})),o.nodeValue=t;var a=s.scrollWidth+"px";l.style.width=a}function t(e){J(c,n.prefix+":submit",{value:i.value,event:e})}return c.addEventListener("DOMNodeInserted",function e(){c.parentNode&&(c.removeEventListener("DOMNodeInserted",e),J(c,n.prefix+":update",n))}),c.addEventListener(n.prefix+":update",function(){c.ownerDocument.defaultView.matchMedia(n.matchMedia||"(max-width: 720px)").addListener(e),i.addEventListener("input",e),c.addEventListener("reset",e),c.addEventListener("submit",t),c.addEventListener(n.prefix+":unload",onunload)}),c}(t.dialog),n=G("button",{class:"esri-header-search-dialog-cancel",type:"reset"},G("span",t.dialog.cancelLabel));n.addEventListener("click",function(e){J(r,"header:menu:close",{control:r,content:i,state:"search",type:"search-close",event:e})}),G(a,n),U(i,a),r.addEventListener("click",function(e){"true"===r.getAttribute("aria-expanded")&&J(a,t.dialog.prefix+":focus",{event:e})})}}),t},Q="esri-header-apps",Z="rtl"===document.dir,N=function(){var d=G("div",{class:Q+"-content",id:Q+"-content",aria:{expanded:!1,labelledby:Q+"-control"}}),c=G("span",{title:"App Launcher","aria-label":"App Launcher Icon"}),e=G("button",{class:Q+"-control empty-padding",id:Q+"-control"},c),r=function(e){s(),N(),v.showMoreButton.classList.remove("hide"),m.setAttribute("aria-expanded","false"),J(u,"header:menu:toggle",{state:"menu",target:p,type:"root-toggle",control:u,content:d,event:e})},u=e;e.addEventListener("click",function(e){r(e)});var p=G("div",{class:Q},u),m=G("div",{class:Q+" secondary-dropdown-menu",aria:{expanded:!1}},G("hr")),h=G("div",{class:Q+" bottom-container"}),v={maxDragErrorTollerance:1},l=40,g=38,f=39,b=37,y=32,L=function(e,t){var a=["0px","32px","24px","20px","18px","16px","14px"],n=v.browserIsEdge?"user-select-none":"",r=G("li",{alt:"",class:"block link-off-black appLinkContainer grabbable "+(t.canAccess?"with-hover":"no-hover"),mousedown:k.bind(null,t),keyup:M.bind(null,t),keydown:I,role:"menuitem","data-id":t.itemId});if(t.canAccess){t.isNew&&r.appendChild(G("div",{class:"app-indicator app-indicator-new"}));var i=G("a",{href:t.url,target:"_blank",blur:H.bind(null,t),class:"appLink"});if(t.image){var o=G("div",{class:"appIconImage "+n});o.appendChild(j()),o.appendChild(G("img",{class:"appIconPng",alt:"",src:t.image})),i.appendChild(o)}else{var s=Math.round(A(t.abbr||"","avenir")/5),l=a[s];6<s&&(t.abbr=t.abbr.substr(0,4),l=a[4]);var d=G("div",{class:"appIconImage"});d.appendChild(j());var c=G("span",{style:"font-size: "+l,class:"avenir appIconSvgText "+n},t.abbr);d.appendChild(c),d.appendChild(G("img",{src:t.placeHolderIcon,alt:"",class:n})),i.appendChild(d)}r.appendChild(i);var u=G("p",{style:"margin:0 auto; text-align:center",class:n},t.label);i.appendChild(u)}else x(t,r,n);e.appendChild(r)},x=function(e,t,a){var n=G("div",{class:"app-indicator app-indicator-removed",tabindex:0,click:o.bind(null,e.uid,t),keyup:o.bind(null,e.uid,t),keydown:I});n.innerHTML=i();var r=G("div",{class:"missing-app-icon appIconImage",tabindex:0,blur:H.bind(null,e),title:v.i18n.removed});r.appendChild(j()),t.appendChild(n),t.appendChild(r),t.appendChild(G("p",{style:"margin:0 auto; text-align:center",class:a},e.label))},E=function(e,t,a){J(u,"header:apps:reorder",{icons:{primaryApps:e,secondaryApps:t,revisions:a||{}}})},w=function(){m.setAttribute("aria-expanded","true"),v.showMoreButton.classList.add("hide")},C=function(e){e===v.bottomAppContainer&&1===v.secondarySortable.toArray().length?(v.bottomAppContainer.classList.remove("drag-apps-here-box"),v.dragAppsHereText.classList.add("hide")):v.secondarySortable.toArray().length||(v.bottomAppContainer.classList.add("drag-apps-here-box"),v.dragAppsHereText.classList.remove("hide"))},A=function e(t,a){var n=(e.canvas||(e.canvas=document.createElement("canvas"))).getContext("2d");return n.font=a,n.measureText(t).width},i=function(){return'<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 32 32"><path d="M18.404 16l9.9 9.9-2.404 2.404-9.9-9.9-9.9 9.9L3.696 25.9l9.9-9.9-9.9-9.898L6.1 3.698l9.9 9.899 9.9-9.9 2.404 2.406-9.9 9.898z"/></svg>'},k=function(e,t){if(0===t.button){if(v.startClientX=t.clientX,v.startClientY=t.clientY,v.startApp=e,v.startElement=t.currentTarget,setTimeout(function(e){v.startElement.classList.remove("sortable-drag-class")},1),e.isNew){var a=v.primarySortable.toArray();v.duplicateValueIndex&&a.splice(v.duplicateValueIndex,1),E(a,v.secondarySortable.toArray(),{targetUid:t.currentTarget.getAttribute("data-id"),isNew:!0,targetValue:null}),t.currentTarget.classList.remove("sortable-drag-class")}else t.currentTarget.classList.remove("sortable-drag-class");if(e.canAccess)v.dropdownNav.addEventListener("mouseup",r),v.listenForMouseOverElement=t.currentTarget.parentNode,v.listenForMouseOverElement.addEventListener("mousemove",T);else{var n="app-indicator app-indicator-removed";t.target.classList.className!==n&&t.target.parentNode.className!==n&&t.target.parentNode.parentNode.className!==n||(v.removeStartApp=!0)}}},t=function(e,t,a){e.canAccess?(r(),window.open(e.url,"_blank")):a?(v.removeStartApp=!1,o(e.itemId||e.title,t)):n(e.itemId||e.title,t)},o=function(e,t,a){var n;a&&!S(a.keyCode)||((n=t).parentNode&&n.parentNode.removeChild(n),setTimeout(function(){E(v.primarySortable.toArray(),v.secondarySortable.toArray())},0))},n=function(e,t,a){v.removedAppWithFoucs||a&&!S(a.keyCode)?v.removedAppWithFoucs=null:v.removedAppWithFoucs={uid:e,el:t}},a=function(e,t){var a=e.item.children[1]&&"A"===e.item.children[1].nodeName?e.item.children[1]:e.item.children[0];t?(v.recentlyRemovedHref=a.href,a.removeAttribute("href")):setTimeout(function(){a.href=v.recentlyRemovedHref},1)},D=function(e){v.dragAndDropIntro.classList.add("hide"),E(v.primarySortable.toArray(),v.secondarySortable.toArray())},s=function(){v.dropdownNav&&v.dropdownNav.removeEventListener&&v.dropdownNav.removeEventListener("mouseup",r,!1)},N=function(){v.listenForMouseOverElement&&v.listenForMouseOverElement.removeEventListener("mousemove",T,!1)},T=function(e){(Math.abs(e.clientX-v.startClientX)>v.maxDragErrorTollerance||Math.abs(e.clientY-v.startClientY)>v.maxDragErrorTollerance)&&(v.simulatedDragEvent=!0,v.dropdownWrapper.classList.add("dragging"),N())},S=function(e){return!e||13===e},M=function(e,t){if("app-indicator app-indicator-removed"===!t.target.className&&(t.preventDefault(),t.keyCode===y)){if(v.activeAccessibleListElement)return H(e,t);var a=e.canAccess?t.target.firstChild.firstChild:t.target.firstChild,n=t.target.parentNode,r=n.parentNode,i=F(n),o=v.primarySortable.toArray().length;w();var s=q(i,r,o);v.activeAccessibleListElement=n,v.activeAccessibleListElementEvent=V.bind(null,e,z(s,r),n,r,i),n.addEventListener("keydown",v.activeAccessibleListElementEvent),$(a,i,r,o)}return!1},H=function(e,t){var a=t.target||t,n=e.canAccess?a.firstChild.firstChild:a.firstChild;n.classList.remove("arrow-keys-enabled"),n.classList.add("arrow-keys-disabled"),v.activeAccessibleListElement&&(v.activeAccessibleListElement.removeEventListener("keydown",v.activeAccessibleListElementEvent,!1),v.activeAccessibleListElement=null)},I=function(e){e.keyCode!==y&&e.keyCode!==l&&e.keyCode!==g||e.preventDefault()},V=function(e,t,a,n,r,i){var o,s=(o=i).keyCode===l?"bottom":o.keyCode===g?"top":o.keyCode===f?Z?"left":"right":o.keyCode===b?Z?"right":"left":void 0;"bottom"===s&&-1<t.indexOf("bottom")&&W(a,r,n,3,e,i),"top"===s&&-1<t.indexOf("top")&&W(a,r,n,-3,e,i),"right"===s&&-1<t.indexOf("right")&&W(a,r,n,1,e,i),"left"===s&&-1<t.indexOf("left")&&W(a,r,n,-1,e,i)},W=function(e,t,a,n,r,i){var o=t+n,s=a===v.bottomAppContainer?a.children.length-1:a.children.length,l=a===v.topAppContainer;if(l&&o<s||!l&&o<=s&&0<o){var d=n<0?a.children[o]:a.children[o].nextSibling;a.insertBefore(e,d)}else l?(B(e,t,n),C(v.bottomAppContainer)):(O(e,t,n),C(v.topAppContainer));H(r,i),r.canAccess&&!r.isNew?e.children[0].focus():e.children[1].focus(),setTimeout(function(){r.isNew?E(v.primarySortable.toArray(),v.secondarySortable.toArray(),{targetUid:r.itemId||r.title,isNew:!0,targetValue:null}):E(v.primarySortable.toArray(),v.secondarySortable.toArray())},0)},O=function(e,t,a){var n=v.topAppContainer,r=t%3||3,i=o%3||3,o=v.topAppContainer.children.length;return 1===Math.abs(a)||3===i?n.appendChild(e):2===r&&1<i?n.insertBefore(e,n.children[o-(i-1)]):1===r&&o?n.insertBefore(e,n.children[o-i]):void n.appendChild(e)},B=function(e,t,a){var n=v.bottomAppContainer,r=v.bottomAppContainer.children.length-1,i=(t+1)%3||3;return r?1===Math.abs(a)?n.insertBefore(e,n.children[1]):2===i&&1<r?n.insertBefore(e,n.children[2]):3===i&&2===r?n.insertBefore(e,n.children[3]):void n.insertBefore(e,n.children[1]):n.appendChild(e)},q=function(e,t,a){return e+(t===v.bottomAppContainer?a+1:1)},F=function(e){var t=e.parentNode;return Array.prototype.indexOf.call(t.children,e)},j=function(){return G("span",{class:"arrow-keys-disabled"})},$=function(e,t,a,n){e.classList.add("arrow-keys-enabled"),e.classList.remove("arrow-keys-disabled");var r=q(t,a,n);e.innerHTML=_(z(r,a),a)},_=function(e){return e.reduce(function(e,t){return e+Y(t)},"")},Y=function(e){return'<div class="app-arrow app-arrow-'+e+'"></div>'},z=function(e,t){var a=[],n=v.topAppContainer.children.length,r=v.bottomAppContainer.children.length,i=n+r;return 0<e-1&&a.push("left"),(e+1<=i||!r)&&e!==n&&a.push("right"),0<e-3&&a.push("top"),(e-n+2<r||t===v.topAppContainer)&&a.push("bottom"),a},X={group:"Apps",sort:!0,disabled:!1,animation:150,forceFallback:!0,delay:0,fallbackTolerance:0,ghostClass:"sortable-ghost-class",dragClass:"sortable-drag-class",onStart:function(e){v.dragAppsHereText.classList.add("hide"),s(),a(e,!0)},onEnd:function(e){return e.preventDefault(),N(),a(e,!1),v.dropdownWrapper.classList.remove("dragging"),v.bottomAppContainer.classList.remove("on-drag-over"),C(e.to),!1},onMove:function(e,t){e.to===v.bottomAppContainer?v.bottomAppContainer.classList.add("on-drag-over"):v.bottomAppContainer.classList.remove("on-drag-over")},store:{get:function(e){return e.options.group.name&&e.options.group.name.split("!")||[]},set:function(e){v.simulatedDragEvent?E(e.toArray(),v.secondarySortable.toArray()):t(v.startApp,v.startElement,v.removeStartApp),v.startElement.classList.remove("sortable-drag-class"),v.simulatedDragEvent=!1}}},P={group:"Apps",sort:!0,disabled:!1,animation:150,forceFallback:!0,delay:0,fallbackTolerance:0,ghostClass:"sortable-ghost-class",dragClass:"sortable-drag-class",onStart:function(e){s(),a(e,!0)},onEnd:function(e){e.preventDefault(),N(),a(e,!1),v.dropdownWrapper.classList.remove("dragging"),e.to!==v.topAppContainer||v.secondarySortable.toArray().length||(v.bottomAppContainer.classList.add("drag-apps-here-box"),v.dragAppsHereText.classList.remove("hide"))},store:{get:function(e){return e.options.group.name&&e.options.group.name.split("!")||[]},set:function(e){v.simulatedDragEvent?E(v.primarySortable.toArray(),e.toArray()):t(v.startApp,v.startElement,v.removeStartApp),v.startElement.classList.remove("sortable-drag-class"),v.simulatedDragEvent=!1}}};return p.addEventListener("header:update:apps",function(e){var t,a=e.detail;K({imgDef:a.image.path,imgWidth:a.image.width,imgHeight:a.image.height,"shape-rendering":"crispEdges",imgClass:Q+" svg-grid-icon",$targetElm:c});if(a.ieVersion&&("edge"===(t=a.ieVersion)?v.browserIsEdge=!0:"ie11"===t&&(X.ghostClass="sortable-ghost-class-with-pointer-events",P.ghostClass="sortable-ghost-class-with-pointer-events")),a.disableDragAndDrop&&(v.disabled=!0),a.text&&(v.i18n=a.text||{}),a.primary){p.appendChild(d),u.className=Q+"-control",G(u,{aria:{label:a.label}});var n=a.primary.length,r=" dropdown-width-"+(n<3?n:3);v.topAppContainer=G("ul",{class:Q+" appContainer primary",role:"menu"}),v.bottomAppContainer=G("ul",{class:Q+" appContainer secondary",role:"menu"}),v.disabled||(v.dragAppsHereText=G("p",{class:"hide"},v.i18n.dragAppsHere),v.bottomAppContainer.appendChild(v.dragAppsHereText),v.primarySortable=R.create(v.topAppContainer,X),v.secondarySortable=R.create(v.bottomAppContainer,P)),a.primary.forEach(function(e,t){L(v.topAppContainer,e)}),a.secondary.forEach(function(e,t){L(v.bottomAppContainer,e)}),h.appendChild(v.bottomAppContainer),m.appendChild(h);var i=G("div",{class:"dropdown"}),o=G("p",{class:Q+" drag-and-drop-intro"},v.i18n.intro),s=G("button",{class:Q+" dismiss-intro-button",click:D},v.i18n.confirm);v.dragAndDropIntro=a.displayIntro?G("div",{class:Q+" intro-container"},o,s):"";var l=G("span");l.innerHTML=' <svg xmlns="http://www.w3.org/2000/svg" width="13" height="13" viewBox="0 0 32 32" class="down-carrot-svg js-prevent-dropdown__app-switcher"><path d="M28 9v5L16 26 4 14V9l12 12L28 9z"></path></svg>',v.showMoreButton=G("button",{class:Q+" show-more-button",click:w},v.i18n.showMore,l),v.dropdownWrapper=G("div",{},v.dragAndDropIntro,v.topAppContainer,v.showMoreButton,m),v.dropdownNav=G("nav",{class:Q+" dropdown-menu dropdown-right app-switcher-dropdown-menu "+r,role:"menu"},v.dropdownWrapper),i.appendChild(v.dropdownNav),d.appendChild(i),U(p,u,d)}}),p},r=function(l){var d=void 0,c=void 0,n=G("button",{class:"esri-header-canvas",tabindex:"-1",data:{open:!1}});n.addEventListener("click",function(){J(n,"header:menu:close")});var a,i,r=((a=G("div",{class:t,id:t})).addEventListener("header:update:brand",function(e){var t=e.detail;a.style.backgroundColor=t.topStripe,a.classList.add("-visible")}),a),o=((i=G("a",{class:A,id:A})).addEventListener("click",function(e){J(i,"header:click:brand",{event:e})}),i.addEventListener("header:update:brand",function(e){var t=e.detail;if(G(i,{href:t.href}),t.distributorImage){var a=G("span",{class:"distributor-image"});K({imgDef:t.distributorImage,imgClass:A+"-image",imgWidth:t.distributorImageWidth,imgHeight:t.distributorImageHeight,$targetElm:a}),G(i,a,G("span",{class:"distributor-image-border"}))}if(t.image){var n=G("span",{class:"brand-image"});G(i,{aria:{label:t.label}}),K({imgDef:t.image,imgClass:A+"-image",imgWidth:t.width,imgHeight:t.height,$targetElm:n}),G(i,n)}if(t.brandText){var r=G("span",{class:t.image?A+"-text -has-image":A+"-text"},t.brandText);G(i,r)}}),i),u=function(){var a=G("div",{class:C}),n=document.createTextNode(""),r=G("button",{class:C+"-control "+C+"-control--signin"},n);r.addEventListener("click",function(e){J(r,"header:click:signin",{event:e})});var i=G("span"),o=document.createTextNode(""),e=G("span",{class:C+"-name"},o),s=document.createTextNode(""),t=G("span",{class:C+"-id"},s),l=G("button",{class:C+"-control "+C+"-control--signedin",id:C+"-control",aria:{controls:C+"-menu",expanded:!1,haspopup:!0}},i,e,t);l.addEventListener("click",function(e){J(l,"header:click:account",{event:e}),J(l,"header:menu:toggle",{account:!0,control:l,content:E,state:"menu",target:a,type:"account-toggle"})});var d=document.createTextNode(""),c=G("button",{class:C+"-content-toggle"},d);c.addEventListener("click",function(){J(c,"header:menu:close",{control:l,content:E,type:"account-close"})});var u=G("span"),p=document.createTextNode(""),m=document.createTextNode(""),h=document.createTextNode(""),v=G("div",{class:C+"-content-info"},u,G("span",{class:C+"-content-name"},p),G("span",{class:C+"-content-id"},m),G("span",{class:C+"-content-group"},h)),g=G("ul",{class:C+"-content-menu",role:"navigation",aria:{labelledby:C+"-control"}}),f=document.createTextNode(""),b=G("button",{class:C+"-signin-control -switch"},f);b.addEventListener("click",function(e){J(b,"header:click:switch",{event:e})});var y=document.createTextNode(""),L=G("button",{class:C+"-signin-control -logout"},y);L.addEventListener("click",function(e){J(L,"header:click:signout",{event:e})});var x=G("ul",{class:C+"-signin-menu",role:"group"},G("li",{class:C+"-signin-item"},b),G("li",{class:C+"-signin-item"},L)),E=G("div",{class:C+"-menu",id:C+"-menu",role:"group",aria:{expanded:!1,hidden:!0}},c,v,g,x);return a.addEventListener("header:update:account",function(e){var t=e.detail;G(l,{aria:{label:t.label}}),d.nodeValue=t.label,n.nodeValue=t.controls.signin,f.nodeValue=t.controls.switch,y.nodeValue=t.controls.signout,t.user?(o.nodeValue=p.nodeValue=t.user.name,s.nodeValue=m.nodeValue=t.user.id,h.nodeValue=t.user.group,K({imgDef:t.user.image,imgClass:C+"-image",$targetElm:i}),K({imgDef:t.user.image,imgClass:C+"-content-image",$targetElm:u}),U.apply(void 0,[g].concat(w(t.menus.map(function(e){return G("li",{class:C+"-content-item"},G("a",{class:C+"-content-link",href:e.href},e.label))})))),U(a,l,E)):U(a,r)}),a}(),p=k({variant:"mobile"}),m=k({variant:"desktop"}),s=D(),h=N(),v=G("div",{class:"esri-header-client"},u),e=G("div",{class:"esri-header-lineBreak"}),g=G("div",{class:"esri-header -"+(l.theme||"web")},n,r,o,p,m,s,e,h,v);E(g),g.addEventListener("header:update",function(e){var t=e.detail;t.brand&&(t.brand.topStripe&&(J(r,"header:update:brand",t.brand),g.style.marginTop="3px"),J(o,"header:update:brand",t.brand)),t.menus&&(J(m,"header:update:menus",t.menus),J(p,"header:update:menus",t.menus)),t.collapseMenus&&(J(m,"header:update:collapseMenus",t.collapseMenus),J(p,"header:update:collapseMenus",t.collapseMenus)),t.search&&J(s,"header:update:search",t.search),t.account&&J(v.lastChild,"header:update:account",t.account),t.account&&J(v.lastChild,"header:update:account",t.account),t.apps&&J(h,"header:update:apps",t.apps),g.ownerDocument.defaultView.addEventListener("keydown",function(e){27===e.keyCode&&J(g,"header:menu:close")})}),g.addEventListener("header:apps:reorder",function(e){var t=e.detail;J(h,"header::apps:reorder",t.icons)}),g.addEventListener("header:menu:toggle",function(e){var t=e.detail,a="true"!==t.control.getAttribute("aria-expanded")?"header:menu:open":"header:menu:close";J(t.control,a,t)});var f=null,b=null,y=null,L=null,x=null;return g.addEventListener("header:menu:open",function(e){var t=e.detail,a="menu-toggle"===t.type;G(t.control,{aria:{expanded:!0}}),G(t.content,{aria:{expanded:!0,hidden:!1}}),L&&L.control!==t.control&&J(L.control,"header:menu:close",L),"menu-toggle"===t.type&&(L=t),s===t.target?b=t:b&&(J(s,"header:menu:close",b),b=null),m===t.target||p===t.target?y=t:!y||a||d.matches||(J(m,"header:menu:close",y),J(p,"header:menu:close",y),y=null),u===t.target?f=t:f&&(J(u,"header:menu:close",f),f=null),h===t.target?x=t:x&&(J(h,"header:menu:close",x),x=null),G(n,{data:{open:!0,state:t.state}}),G(g.ownerDocument.documentElement,{data:{"header-is-open":!0}})}),g.addEventListener("header:menu:close",function(e){var t=e.detail||y||b||f||x||L;if(t){G(t.control,{aria:{expanded:!1}}),G(t.content,{aria:{expanded:!1,hidden:!0}});var a=!c.matches||"menu-close"!==t.type&&"account-close"!==t.type;b&&b.control===t.control&&J(b.content.lastChild,"reset"),a&&(G(n,{data:{open:!1}}),g.ownerDocument.documentElement.removeAttribute("data-header-is-open"))}}),g.addEventListener("DOMNodeInserted",function e(){var n=g.ownerDocument,r=n.defaultView,i=G("style"),o=void 0;function t(){var e=n.documentElement.clientWidth,t=n.documentElement.clientHeight,a=n.documentElement.scrollHeight;o=getComputedStyle(n.documentElement).overflowY.replace("visible",t<a?"scroll":"visible"),U(i,":root{--esri-vw:"+e+"px;--esri-vh:"+t+"px}[data-header-is-open]{width:"+e+"px;height:"+t+"px;overflow-y:"+o+"}"),(c=r.matchMedia("(max-width: 1023px)")).matches?(m.querySelector(".esri-header-menus-content").classList.add("hidden"),p.querySelector(".esri-header-menus-content").classList.remove("hidden")):(m.querySelector(".esri-header-menus-content").classList.remove("hidden"),p.querySelector(".esri-header-menus-content").classList.add("hidden"))}function a(){d.matches?(J(g,"header:breakpoint:s"),p.lastChild.appendChild(u),m.lastChild.appendChild(u)):(J(g,"header:breakpoint:not:s"),v.appendChild(u))}function s(){c.matches?(J(g,"header:breakpoint:sm"),G(m.lastChild,{aria:{hidden:"false"===m.lastChild.getAttribute("aria-expanded")}})):(J(g,"header:breakpoint:not:sm"),G(m.lastChild,{aria:{hidden:!1}}))}g.parentNode&&(g.removeEventListener("DOMNodeInserted",e),J(g,"header:update",l),G(n.head,i),r.addEventListener("orientationchange",t),r.addEventListener("resize",t),d=r.matchMedia("(max-width: 767px)"),c=r.matchMedia("(max-width: 1023px)"),d.addListener(a),c.addListener(s),a(),s(),t())}),g},v=function(e,t){document.createTextNode(e.buttonLabel);var a=document.createElement("button");a.classList.add(t+"-language-control"),a.setAttribute("ariaDescribedby",t+"-language"),a.innerHTML=e.buttonLabel;var n=G("div",{class:t+"-language"},a);a.addEventListener("click",function(e){e.preventDefault(),G(u,{aria:{expanded:!0}})}),e.prefix=t+"-language-dialog";var r,i,o,s=(i=G.apply(void 0,["select",{class:(r=e).prefix+"-choice",autofocus:"",aria:{label:r.optionsLabel}}].concat(w(r.options.map(function(e){var t=document.createElement("option");return t.value=e.value,t.innerHTML=e.label,t})))),(o=G("form",{class:r.prefix,aria:{labelledby:r.prefix+"-message",describedby:"dialog-description"}},G("p",{class:r.prefix+"-message",id:r.prefix+"-message"},G("strong",r.greetingLabel)," ",r.messageLabel),i,G("button",{class:r.prefix+"-submit",type:"submit",aria:{label:r.submitLabel+" "+r.optionsLabel}},r.submitLabel))).addEventListener("submit",function(e){e.preventDefault(),window.location.href=i.value}),o),l=G("button",{class:t+"-language-dialog-close",id:"dialog-description",ariaLabel:e.closeLabel});l.addEventListener("click",c),G(s,l);var d=G("button",{class:t+"-language-dialog-cancel-canvas",type:"button",tabindex:-1});function c(e){e.preventDefault(),G(u,{aria:{expanded:!1}})}d.addEventListener("click",c);var u=G("div",{class:t+"-language-dialog-barrier",aria:{expanded:!1}},s,d);return a.addEventListener("click",function(){J(a,"footer:click:language",e)}),n.addEventListener("footer:update:language",function(e){var t=e.detail;a.innerHTML=t.buttonLabel,n.ownerDocument.body.appendChild(u),n.ownerDocument.defaultView.addEventListener("keydown",function(){27===(0<arguments.length&&void 0!==arguments[0]?arguments[0]:event).keyCode&&c(event)})}),n},g=function(e,a){var t=matchMedia("(max-width: 719px)"),r=!1;t.addListener(o);var n=e.menu.map(function(e,t){return G("li",{class:a+"-menu-item",id:a+"-menu-link--"+t},G("span",{class:a+"-menu-link",role:"heading"},e.label),G("div",{class:a+"-menu--sub",id:a+"-menu--sub--"+t,aria:{labelledby:a+"-menu-link--"+t}},G.apply(void 0,["ul",{class:a+"-menu-list--sub",role:"presentation"}].concat(w(e.menu.map(function(e){return G("li",{class:a+"-menu-item--sub"},G("a",{class:a+"-menu-link--sub",href:e.href},e.label))}))))))}),i=G("div",{class:a+"-menu",aria:{label:e.label}},G.apply(void 0,["ul",{class:a+"-menu-list",role:"presentation"}].concat(w(n))));return o(),i;function o(){r!==t.matches&&(r=t.matches,n.forEach(function(e){var t,a,n;r?(a=e.firstChild,n="true"!==a.nextElementSibling.getAttribute("aria-hidden"),G(a,{tabindex:0,role:"button",aria:{expanded:!n,haspopup:!n}}),a.addEventListener("click",s),a.addEventListener("keypress",l),G(a.nextElementSibling,{aria:{hidden:!0}})):((t=e.firstChild).removeAttribute("aria-controls"),t.removeAttribute("aria-expanded"),t.removeAttribute("aria-haspopup"),t.removeAttribute("role"),t.removeAttribute("tabindex"),t.addEventListener("click",s),t.addEventListener("keypress",l),t.nextElementSibling.removeAttribute("aria-hidden"))}))}function s(e){var t=e.currentTarget,a=t.nextElementSibling,n="true"!==a.getAttribute("aria-hidden");G(t,{aria:{expanded:!n,haspopup:!n}}),G(a,{aria:{hidden:n}}),G(t,n?{aria:{controls:0}}:{aria:{controls:a.id}})}function l(e){13!==e.keyCode&&32!==e.keyCode||(e.preventDefault(),J(e.currentTarget,"click"))}},i=function(t){var e,a,n,r,i,o,s,l=t.prefix||"esri-footer",d=(e=t.brand,G("div",{class:(a=l)+"-brand"},G("a",{class:a+"-brand-link",href:e.href,aria:{label:e.label}},K({imgDef:e.path,imgClass:a+"-brand-image"})))),c=(n=t.info,G("div",{class:(r=l)+"-info",aria:{label:n.label}},G.apply(void 0,["ul",{class:r+"-info-list",role:"presentation"}].concat(w(n.menu.map(function(e,t){return G("li",{class:r+"-info-item",id:r+"-info-link--"+t},G("a",{class:r+"-info-link",href:e.href},e.label))})))))),u=t.language?v(t.language,l):G("div",{class:"esri-footer-language"}),p=g(t.menu,l),m=(i=t.social,o=l,s=document.createDocumentFragment(),i.menu.forEach(function(e){return G(s,G("li",{class:o+"-social-item"},G("a",{class:o+"-social-link -"+e.label.toLowerCase(),href:e.href,aria:{label:e.label}},K({imgDef:e.image.path,imgClass:o+"-social-image",imgWidth:30,imgHeight:30,viewBox:e.image.viewBox}))))}),G("div",{class:o+"-social",aria:{label:i.label}},G("ul",{class:o+"-social-list",role:"presentation"},s))),h=G("footer",{class:l+" "+(t.hideMenus?"skinny-footer":""),role:"navigation",aria:{label:t.label}},G("div",{class:l+"-section--1 "+(t.hideMenus?"hidden":"")},d,m),G("div",{class:l+"-section--2 "+(t.hideMenus?"hidden":"")},p),G("div",{class:l+"-section--3"},u,c));return h.addEventListener("DOMNodeInserted",function e(){h.removeEventListener("DOMNodeInserted",e),h.addEventListener("focusin",function(){var e=h.ownerDocument.documentElement.scrollHeight-h.scrollHeight;e>h.ownerDocument.defaultView.pageYOffset&&h.ownerDocument.defaultView.scrollTo(0,e)}),t.hideMenus&&document.querySelector(".esri-footer-barrier").classList.add("skinny-footer"),J(h,"footer:update",t)}),E(h),h.addEventListener("footer:update",function(e){var t=e.detail;function a(){var e=window.pageYOffset<0;G(h,{data:{hidden:e}})}t.brand&&J(d,"footer:update:brand",t.brand),t.info&&J(c,"footer:update:info",t.info),t.language&&J(u,"footer:update:language",t.language),t.menu&&J(p,"footer:update:menu",t.menu),t.social&&J(m,"footer:update:social",t.social),h.ownerDocument.defaultView.addEventListener("scroll",a),a()}),h};function s(e){var t=e.targetElm,a=e.menuData;document.querySelector(t).classList.add("esri-header-barrier");var n=r(a.header);document.querySelector(t).appendChild(n)}function l(e){var t=e.targetElm,a=e.menuData;document.querySelector(t).classList.add("esri-footer-barrier");var n=i(a.footer);document.querySelector(t).appendChild(n)}return window.esriHeader={create:r},window.esriFooter={create:i},{createHeader:s,createFooter:l,create:function(e){var t=e.headerElm,a=e.footerElm,n=e.menuData;s({menuData:n,targetElm:t}),l({menuData:n,targetElm:a})}}});
//# sourceMappingURL=esri-global-nav.js.map
