!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.esriGlobalNav=t()}(this,function(){"use strict";function J(e){var t=e instanceof Node?e:document.createElement(e);return[].slice.call(arguments,1).forEach(function(e){e instanceof Node?t.appendChild(e):"string"==typeof e?t.innerHTML=e:function e(t,n,a){for(var r in n)"function"==typeof n[r]?t.addEventListener(a+r,n[r]):Object(n[r])===n[r]?e(t,n[r],a+r+"-"):t.setAttribute(a+r,n[r])}(t,e,"")}),t}function K(e){for(;e.lastChild;)e.removeChild(e.lastChild);var t,n;return e.appendChild((t=arguments,n=document.createDocumentFragment(),[].slice.call(t,1).forEach(function(e){e instanceof Node?n.appendChild(e):n.appendChild(document.createTextNode(e))}),n)),e}var le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},L=(function(){function d(e){this.value=e}function e(r){var i,o;function s(e,t){try{var n=r[e](t),a=n.value;a instanceof d?Promise.resolve(a.value).then(function(e){s("next",e)},function(e){s("throw",e)}):l(n.done?"return":"normal",n.value)}catch(e){l("throw",e)}}function l(e,t){switch(e){case"return":i.resolve({value:t,done:!0});break;case"throw":i.reject(t);break;default:i.resolve({value:t,done:!1})}(i=i.next)?s(i.key,i.arg):o=null}this._invoke=function(a,r){return new Promise(function(e,t){var n={key:a,arg:r,resolve:e,reject:t,next:null};o?o=o.next=n:(i=o=n,s(a,r))})},"function"!=typeof r.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(e.prototype[Symbol.asyncIterator]=function(){return this}),e.prototype.next=function(e){return this._invoke("next",e)},e.prototype.throw=function(e){return this._invoke("throw",e)},e.prototype.return=function(e){return this._invoke("return",e)}}(),function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)});function ee(e,t,n){var a=document.createEvent("CustomEvent");a.initCustomEvent(t,!0,!0,n),e.dispatchEvent(a)}function D(e){var t=void 0,n=[];e.addEventListener("blur",function(){n.forEach(function(e){e.removeAttribute("js-focus"),e.removeAttribute("js-focus-ring")})},!0),e.addEventListener("focus",function(){var e=document.activeElement;e instanceof Element&&(e.setAttribute("js-focus",""),t&&e.setAttribute("js-focus-ring",""),n.push(e))},!0),e.addEventListener("keydown",function(){t=clearTimeout(t)||setTimeout(function(){t=0},100)},!0)}function te(e){var t=e.imgDef,n=void 0===t?"":t,a=e.imgClass,r=void 0===a?"":a,i=e.imgWidth,o=e.imgHeight,s=e.viewBox,l=e.id,d=e.$targetElm,c=J("span"),u={class:r,role:"presentation"};if(i&&o&&(u.width=i,u.height=o),s&&(u.viewBox=s),l&&(u.id=l),"string"==typeof n)n.indexOf(".svg")===n.length-4?function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:function(){},a=new XMLHttpRequest;a.addEventListener("readystatechange",function(){4===a.readyState&&(200===a.status?t(a.responseText):n())}),a.open("GET",e),a.send()}(n,function(e){c.innerHTML=e,J(c.firstElementChild,u)},function(){h({$imgWrapper:c,id:l,imgDef:n,imgClass:r,imgWidth:i,imgHeight:o})}):h({$imgWrapper:c,id:l,imgDef:n,imgClass:r,imgWidth:i,imgHeight:o});else{var p=J(document.createElementNS("http://www.w3.org/2000/svg","svg"),u,J.apply(void 0,[document.createDocumentFragment()].concat(L(n.map(function(e){return J(document.createElementNS("http://www.w3.org/2000/svg","path"),{d:e})})))));c.appendChild(p)}return d&&(d.innerHTML="",d.appendChild(c)),c;function h(e){var t=e.$imgWrapper,n=e.id,a=e.imgDef,r=e.imgClass,i=e.imgWidth,o=e.imgHeight;t.appendChild(J("img",{id:n,src:a,class:r,style:(i?"width:"+i+"px":"")+"; "+(o?"height:"+o+"px":"")}))}}var k="esri-header-account",A="esri-header-brand",t="esri-header-branding-stripe",u="esri-header-menus",_=function(e){var t=e.variant,c=void 0===t?"desktop":t,a=J("div",{class:u,id:u+"-"+c});if(a.classList.add("-"+c),"mobile"===c){var n=J("button",{class:u+"-toggle",id:u+"-"+c+"-toggle",aria:{controls:u+"-content",expanded:!1,haspopup:!0,labelledby:"esri-header-brand"}});n.addEventListener("click",function(e){ee(n,"header:menu:toggle",{control:n,content:r,root:!0,state:"menu",target:a,type:"root-toggle",event:e})}),J(a,n)}var r=J("div",{class:u+"-content",aria:{hidden:!0,expanded:!1}});return J(a,r),a.addEventListener("header:update:menus",function(e){var t=e.detail;K.apply(void 0,[r].concat(L(t.map(function(e,d){return J("div",{class:u+"-menu",role:"group"},J.apply(void 0,["ul",{class:u+"-list",role:"navigation",aria:{labelledby:"esri-header-brand"}}].concat(L(e.map(function(e,t){var n=e.icon?te({imgDef:e.icon.path,imgClass:u+"-link-icon",imgWidth:e.icon.width||"16px",imgHeight:e.icon.height||"16px"}):null,a=J("a",{class:u+"-link "+(e.hideLabelInDesktop?"-hide-label":""),id:u+"-link-"+d+"-"+t,href:e.href||"javascript:;"},n,J("span",{class:u+"-link-label"},e.label));e.data&&a({data:e.data});var r=J("li",{class:u+"-item"},a),i=e.menus&&e.menus.length,o=e.tiles&&e.tiles.length;if(i||o){var s=J("button",{class:u+"-submenu-toggle"},e.label),l=J("div",{class:u+"-submenu",id:u+"-"+c+"-submenu-"+d+"-"+t,role:"group",aria:{hidden:!0,expanded:!1},data:{filled:e.menus&&10<e.menus.length?e.menus.slice(0,18).length:""}},s);i&&J(l,J.apply(void 0,["ul",{class:u+"-sublist",role:"navigation",aria:{labelledby:u+"-"+c+"-link-"+d+"-"+t}}].concat(L(e.menus.slice(0,18).map(function(e){var t=J("a",{class:u+"-sublink",href:e.href},e.label);return e.data&&J(t,{data:e.data}),e.newContext&&J(t,{target:"_blank",rel:"noopener"}),J("li",{class:u+"-subitem"},t)}))))),o&&J(l,J.apply(void 0,["ul",{class:u+"-sublist--featured",role:"navigation",aria:{labelledby:u+"-link-"+d+"-"+t},data:{filled:""+e.tiles.slice(0,4).length}}].concat(L(e.tiles.slice(0,4).map(function(e){var t=J("a",{class:u+"-sublink--featured",href:e.href},te({imgDef:e.icon,imgClass:u+"-sublink-image",imgWidth:e.width,imgHeight:e.height}),J("span",{class:u+"-sublink-text"},e.label));return e.data&&J(t,{data:e.data}),e.newContext&&J(t,{target:"_blank",rel:"noopener"}),J("li",{class:u+"-subitem--featured"},t)}))))),J(r,l),a.addEventListener("click",function(){ee(a,"header:menu:toggle",{control:a,content:l,submenu:!0,state:"menu",type:"menu-toggle"})}),s.addEventListener("click",function(){ee(s,"header:menu:close",{control:a,submenu:!0,content:l,type:"menu-close"})})}return r})))))}))))}),a.addEventListener("header:update:collapseMenus",function(e){var t=e.detail;if(t&&-1<t.indexOf(!0)){document.querySelector(".esri-header-menus-toggle").classList.add("-visible"),document.getElementById("esri-header-brand").classList.add("-fit-burger"),document.getElementById("esri-header-menus-mobile").classList.add("-always-visible");var n=[].slice.call(a.querySelectorAll(".esri-header-menus-menu"));t.forEach(function(e,t){e&&n[t].classList.add("-collapsed")})}}),a},o="esri-header-search",T=function(){var r=J("button",{class:o+"-control",id:o+"-control",aria:{expanded:!1,controls:o+"-content"}});r.addEventListener("click",function(e){ee(r,"header:click:search",{event:e}),ee(r,"header:menu:toggle",{control:r,content:i,state:"search",target:t,type:"search-toggle",event:e})});var i=J("div",{class:o+"-content",id:o+"-content",aria:{expanded:!1,labelledby:o+"-control"}}),t=J("div",{class:o},r,i);return t.addEventListener("header:update:search",function(e){var t=e.detail;if(!t.hide&&(J(r,{aria:{label:t.label}}),te({imgDef:t.image,imgClass:o+"-image",id:o+"-image",$targetElm:r}),t.dialog)){t.dialog.prefix="esri-header-search-dialog";var n=function(a){var r=J("label",{class:a.prefix+"-label",for:a.prefix+"-query-control"},a.queryLabel),i=J("input",{class:a.prefix+"-control",id:a.prefix+"-control",type:"search",name:"q",autocapitalize:"off",autocomplete:"off",autocorrect:"off",spellcheck:"false"}),o=document.createTextNode(""),s=J("div",{class:a.prefix+"-measure-text",aria:{hidden:!0}},o),l=J("div",{class:a.prefix+"-measure"},s),d=J("button",{class:a.prefix+"-submit",type:"submit",aria:{label:a.submitLabel}}),c=J("form",{class:a.prefix+"-form",action:a.action,role:"search",aria:{label:a.label}},r,i,l,d);c.addEventListener(a.prefix+":focus",function(){i.focus()});var u=!1,p="";function e(e){e&&"reset"===e.type&&(i.value="");var t=i.value;t!==p&&(p=t,ee(c,a.prefix+":input",{value:p,event:e})),u&&!t?(u=!1,r.removeAttribute("data-filled"),d.removeAttribute("data-filled")):!u&&t&&(u=!0,J(r,{data:{filled:""}}),J(d,{data:{filled:""}})),o.nodeValue=t;var n=s.scrollWidth+"px";l.style.width=n}function t(e){ee(c,a.prefix+":submit",{value:i.value,event:e})}return c.addEventListener("DOMNodeInserted",function e(){c.parentNode&&(c.removeEventListener("DOMNodeInserted",e),ee(c,a.prefix+":update",a))}),c.addEventListener(a.prefix+":update",function(){c.ownerDocument.defaultView.matchMedia(a.matchMedia||"(max-width: 720px)").addListener(e),i.addEventListener("input",e),c.addEventListener("reset",e),c.addEventListener("submit",t),c.addEventListener(a.prefix+":unload",onunload)}),c}(t.dialog),a=J("button",{class:"esri-header-search-dialog-cancel",type:"reset"},J("span",t.dialog.cancelLabel));a.addEventListener("click",function(e){ee(r,"header:menu:close",{control:r,content:i,state:"search",type:"search-close",event:e})}),J(n,a),K(i,n),r.addEventListener("click",function(e){"true"===r.getAttribute("aria-expanded")&&ee(n,t.dialog.prefix+":focus",{event:e})})}}),t};var e,ne=(function(e){var t;t=function(){if("undefined"==typeof window||!window.document)return function(){throw new Error("Sortable.js requires a window with a document")};var D,k,A,_,T,S,u,g,v,b,N,M,I,d,a,B,H,c,l,O,e,y={},r=/\s+/g,W=/left|right|inline/,Y="Sortable"+(new Date).getTime(),E=window,p=E.document,i=E.parseInt,V=E.setTimeout,t=E.jQuery||E.Zepto,n=E.Polymer,o=!1,s=!1,h="draggable"in p.createElement("div"),m=!navigator.userAgent.match(/(?:Trident.*rv[ :]?11\.|msie)/i)&&((e=p.createElement("x")).style.cssText="pointer-events:auto","auto"===e.style.pointerEvents),X=!1,w=Math.abs,f=Math.min,x=[],C=[],P=ae(function(e,t,n){if(n&&t.scroll){var a,r,i,o,s,l,d=n[Y],c=t.scrollSensitivity,u=t.scrollSpeed,p=e.clientX,h=e.clientY,m=window.innerWidth,f=window.innerHeight;if(v!==n&&(g=t.scroll,v=n,b=t.scrollFn,!0===g)){g=n;do{if(g.offsetWidth<g.scrollWidth||g.offsetHeight<g.scrollHeight)break}while(g=g.parentNode)}g&&(r=(a=g).getBoundingClientRect(),i=(w(r.right-p)<=c)-(w(r.left-p)<=c),o=(w(r.bottom-h)<=c)-(w(r.top-h)<=c)),i||o||(o=(f-h<=c)-(h<=c),((i=(m-p<=c)-(p<=c))||o)&&(a=E)),y.vx===i&&y.vy===o&&y.el===a||(y.el=a,y.vx=i,y.vy=o,clearInterval(y.pid),a&&(y.pid=setInterval(function(){if(l=o?o*u:0,s=i?i*u:0,"function"==typeof b)return b.call(d,s,l,e);a===E?E.scrollTo(E.pageXOffset+s,E.pageYOffset+l):(a.scrollTop+=l,a.scrollLeft+=s)},24)))}},30),L=function(e){function t(a,r){return void 0!==a&&!0!==a||(a=n.name),"function"==typeof a?a:function(e,t){var n=t.options.group.name;return r?a:a&&(a.join?-1<a.indexOf(n):n==a)}}var n={},a=e.group;a&&"object"==(void 0===a?"undefined":le(a))||(a={name:a}),n.name=a.name,n.checkPull=t(a.pull,!0),n.checkPut=t(a.put),n.revertClone=a.revertClone,e.group=n};try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){o={capture:s=!1,passive:s}}}))}catch(e){}function F(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be HTMLElement, and not "+{}.toString.call(e);this.el=e,this.options=t=re({},t),e[Y]=this;var n={group:Math.random(),sort:!0,disabled:!1,store:null,handle:null,scroll:!0,scrollSensitivity:30,scrollSpeed:10,draggable:/[uo]l/i.test(e.nodeName)?"li":">*",ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==F.supportPointer};for(var a in n)!(a in t)&&(t[a]=n[a]);for(var r in L(t),this)"_"===r.charAt(0)&&"function"==typeof this[r]&&(this[r]=this[r].bind(this));this.nativeDraggable=!t.forceFallback&&h,j(e,"mousedown",this._onTapStart),j(e,"touchstart",this._onTapStart),t.supportPointer&&j(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(j(e,"dragover",this),j(e,"dragenter",this)),C.push(this._onDragOver),t.store&&this.sort(t.store.get(this))}function R(e,t){"clone"!==e.lastPullMode&&(t=!0),_&&_.state!==t&&(z(_,"display",t?"none":""),t||_.state&&(e.options.group.revertClone?(T.insertBefore(_,S),e._animate(D,_)):T.insertBefore(_,D)),_.state=t)}function q(e,t,n){if(e){n=n||p;do{if(">*"===t&&e.parentNode===n||ne(e,t))return e}while(void 0,e=(r=(a=e).host)&&r.nodeType?r:a.parentNode)}var a,r;return null}function j(e,t,n){e.addEventListener(t,n,o)}function $(e,t,n){e.removeEventListener(t,n,o)}function U(e,t,n){if(e)if(e.classList)e.classList[n?"add":"remove"](t);else{var a=(" "+e.className+" ").replace(r," ").replace(" "+t+" "," ");e.className=(a+(n?" "+t:"")).replace(r," ")}}function z(e,t,n){var a=e&&e.style;if(a){if(void 0===n)return p.defaultView&&p.defaultView.getComputedStyle?n=p.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),void 0===t?n:n[t];t in a||(t="-webkit-"+t),a[t]=n+("string"==typeof n?"":"px")}}function G(e,t,n){if(e){var a=e.getElementsByTagName(t),r=0,i=a.length;if(n)for(;r<i;r++)n(a[r],r);return a}return[]}function Q(e,t,n,a,r,i,o,s){e=e||t[Y];var l=p.createEvent("Event"),d=e.options,c="on"+n.charAt(0).toUpperCase()+n.substr(1);l.initEvent(n,!0,!0),l.to=r||t,l.from=i||t,l.item=a||t,l.clone=_,l.oldIndex=o,l.newIndex=s,t.dispatchEvent(l),d[c]&&d[c].call(e,l)}function Z(e,t,n,a,r,i,o,s){var l,d,c=e[Y],u=c.options.onMove;return(l=p.createEvent("Event")).initEvent("move",!0,!0),l.to=t,l.from=e,l.dragged=n,l.draggedRect=a,l.related=r||t,l.relatedRect=i||t.getBoundingClientRect(),l.willInsertAfter=s,e.dispatchEvent(l),u&&(d=u.call(c,l,o)),d}function J(e){e.draggable=!1}function K(){X=!1}function ee(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,a=0;n--;)a+=t.charCodeAt(n);return a.toString(36)}function te(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e&&(e=e.previousElementSibling);)"TEMPLATE"===e.nodeName.toUpperCase()||">*"!==t&&!ne(e,t)||n++;return n}function ne(e,t){if(e){var n=(t=t.split(".")).shift().toUpperCase(),a=new RegExp("\\s("+t.join("|")+")(?=\\s)","g");return!(""!==n&&e.nodeName.toUpperCase()!=n||t.length&&((" "+e.className+" ").match(a)||[]).length!=t.length)}return!1}function ae(e,t){var n,a;return function(){void 0===n&&(n=arguments,a=this,V(function(){1===n.length?e.call(a,n[0]):e.apply(a,n),n=void 0},t))}}function re(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function ie(e){return n&&n.dom?n.dom(e).cloneNode(!0):t?t(e).clone(!0)[0]:e.cloneNode(!0)}function oe(e){return V(e,0)}function se(e){return clearTimeout(e)}return F.prototype={constructor:F,_onTapStart:function(e){var t,n=this,a=this.el,r=this.options,i=r.preventOnFilter,o=e.type,s=e.touches&&e.touches[0],l=(s||e).target,d=e.target.shadowRoot&&e.path&&e.path[0]||l,c=r.filter;if(function(e){var t=e.getElementsByTagName("input"),n=t.length;for(;n--;){var a=t[n];a.checked&&x.push(a)}}(a),!D&&!(/mousedown|pointerdown/.test(o)&&0!==e.button||r.disabled)&&!d.isContentEditable&&(l=q(l,r.draggable,a))&&u!==l){if(t=te(l,r.draggable),"function"==typeof c){if(c.call(this,e,l,this))return Q(n,d,"filter",l,a,a,t),void(i&&e.preventDefault())}else if(c&&(c=c.split(",").some(function(e){if(e=q(d,e.trim(),a))return Q(n,e,"filter",l,a,a,t),!0})))return void(i&&e.preventDefault());r.handle&&!q(d,r.handle,a)||this._prepareDragStart(e,s,l,t)}},_prepareDragStart:function(e,t,n,a){var r,i=this,o=i.el,s=i.options,l=o.ownerDocument;n&&!D&&n.parentNode===o&&(c=e,T=o,k=(D=n).parentNode,S=D.nextSibling,u=n,B=s.group,d=a,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,D.style["will-change"]="all",r=function(){i._disableDelayedDrag(),D.draggable=i.nativeDraggable,U(D,s.chosenClass,!0),i._triggerDragStart(e,t),Q(i,T,"choose",D,T,T,d)},s.ignore.split(",").forEach(function(e){G(D,e.trim(),J)}),j(l,"mouseup",i._onDrop),j(l,"touchend",i._onDrop),j(l,"touchcancel",i._onDrop),j(l,"selectstart",i),s.supportPointer&&j(l,"pointercancel",i._onDrop),s.delay?(j(l,"mouseup",i._disableDelayedDrag),j(l,"touchend",i._disableDelayedDrag),j(l,"touchcancel",i._disableDelayedDrag),j(l,"mousemove",i._disableDelayedDrag),j(l,"touchmove",i._disableDelayedDrag),s.supportPointer&&j(l,"pointermove",i._disableDelayedDrag),i._dragStartTimer=V(r,s.delay)):r())},_disableDelayedDrag:function(){var e=this.el.ownerDocument;clearTimeout(this._dragStartTimer),$(e,"mouseup",this._disableDelayedDrag),$(e,"touchend",this._disableDelayedDrag),$(e,"touchcancel",this._disableDelayedDrag),$(e,"mousemove",this._disableDelayedDrag),$(e,"touchmove",this._disableDelayedDrag),$(e,"pointermove",this._disableDelayedDrag)},_triggerDragStart:function(e,t){(t=t||("touch"==e.pointerType?e:null))?(c={target:D,clientX:t.clientX,clientY:t.clientY},this._onDragStart(c,"touch")):this.nativeDraggable?(j(D,"dragend",this),j(T,"dragstart",this._onDragStart)):this._onDragStart(c,!0);try{p.selection?oe(function(){p.selection.empty()}):window.getSelection().removeAllRanges()}catch(e){}},_dragStarted:function(){if(T&&D){var e=this.options;U(D,e.ghostClass,!0),U(D,e.dragClass,!1),Q(F.active=this,T,"start",D,T,T,d)}else this._nulling()},_emulateDragOver:function(){if(l){if(this._lastX===l.clientX&&this._lastY===l.clientY)return;this._lastX=l.clientX,this._lastY=l.clientY,m||z(A,"display","none");var e=p.elementFromPoint(l.clientX,l.clientY),t=e,n=C.length;if(e&&e.shadowRoot&&(t=e=e.shadowRoot.elementFromPoint(l.clientX,l.clientY)),t)do{if(t[Y]){for(;n--;)C[n]({clientX:l.clientX,clientY:l.clientY,target:e,rootEl:t});break}e=t}while(t=t.parentNode);m||z(A,"display","")}},_onTouchMove:function(e){if(c){var t=this.options,n=t.fallbackTolerance,a=t.fallbackOffset,r=e.touches?e.touches[0]:e,i=r.clientX-c.clientX+a.x,o=r.clientY-c.clientY+a.y,s=e.touches?"translate3d("+i+"px,"+o+"px,0)":"translate("+i+"px,"+o+"px)";if(!F.active){if(n&&f(w(r.clientX-this._lastX),w(r.clientY-this._lastY))<n)return;this._dragStarted()}this._appendGhost(),O=!0,l=r,z(A,"webkitTransform",s),z(A,"mozTransform",s),z(A,"msTransform",s),z(A,"transform",s),e.preventDefault()}},_appendGhost:function(){if(!A){var e,t=D.getBoundingClientRect(),n=z(D),a=this.options;U(A=D.cloneNode(!0),a.ghostClass,!1),U(A,a.fallbackClass,!0),U(A,a.dragClass,!0),z(A,"top",t.top-i(n.marginTop,10)),z(A,"left",t.left-i(n.marginLeft,10)),z(A,"width",t.width),z(A,"height",t.height),z(A,"opacity","0.8"),z(A,"position","fixed"),z(A,"zIndex","100000"),z(A,"pointerEvents","none"),a.fallbackOnBody&&p.body.appendChild(A)||T.appendChild(A),e=A.getBoundingClientRect(),z(A,"width",2*t.width-e.width),z(A,"height",2*t.height-e.height)}},_onDragStart:function(e,t){var n=this,a=e.dataTransfer,r=n.options;n._offUpEvents(),B.checkPull(n,n,D,e)&&((_=ie(D)).draggable=!1,_.style["will-change"]="",z(_,"display","none"),U(_,n.options.chosenClass,!1),n._cloneId=oe(function(){T.insertBefore(_,D),Q(n,T,"clone",D)})),U(D,r.dragClass,!0),t?("touch"===t?(j(p,"touchmove",n._onTouchMove),j(p,"touchend",n._onDrop),j(p,"touchcancel",n._onDrop),r.supportPointer&&(j(p,"pointermove",n._onTouchMove),j(p,"pointerup",n._onDrop))):(j(p,"mousemove",n._onTouchMove),j(p,"mouseup",n._onDrop)),n._loopId=setInterval(n._emulateDragOver,50)):(a&&(a.effectAllowed="move",r.setData&&r.setData.call(n,a,D)),j(p,"drop",n),n._dragStartId=oe(n._dragStarted))},_onDragOver:function(e){var t,n,a,r,i,o,s=this.el,l=this.options,d=l.group,c=F.active,u=B===d,p=!1,h=l.sort;if((void 0!==e.preventDefault&&(e.preventDefault(),!l.dragoverBubble&&e.stopPropagation()),!D.animated)&&(O=!0,c&&!l.disabled&&(u?h||(r=!T.contains(D)):H===this||(c.lastPullMode=B.checkPull(this,c,D,e))&&d.checkPut(this,c,D,e))&&(void 0===e.rootEl||e.rootEl===this.el))){if(P(e,l,this.el),X)return;if(t=q(e.target,l.draggable,s),n=D.getBoundingClientRect(),H!==this&&(H=this,p=!0),r)return R(c,!0),k=T,void(_||S?T.insertBefore(D,_||S):h||T.appendChild(D));if(0===s.children.length||s.children[0]===A||s===e.target&&(i=e,o=s.lastElementChild.getBoundingClientRect(),5<i.clientY-(o.top+o.height)||5<i.clientX-(o.left+o.width))){if(0!==s.children.length&&s.children[0]!==A&&s===e.target&&(t=s.lastElementChild),t){if(t.animated)return;a=t.getBoundingClientRect()}R(c,u),!1!==Z(T,s,D,n,t,a,e)&&(D.contains(s)||(s.appendChild(D),k=s),this._animate(n,D),t&&this._animate(a,t))}else if(t&&!t.animated&&t!==D&&void 0!==t.parentNode[Y]){N!==t&&(M=z(N=t),I=z(t.parentNode));var m=(a=t.getBoundingClientRect()).right-a.left,f=a.bottom-a.top,g=W.test(M.cssFloat+M.display)||"flex"==I.display&&0===I["flex-direction"].indexOf("row"),v=t.offsetWidth>D.offsetWidth,b=t.offsetHeight>D.offsetHeight,y=.5<(g?(e.clientX-a.left)/m:(e.clientY-a.top)/f),E=t.nextElementSibling,w=!1;if(g){var x=D.offsetTop,C=t.offsetTop;w=x===C?t.previousElementSibling===D&&!v||y&&v:t.previousElementSibling===D||D.previousElementSibling===t?.5<(e.clientY-a.top)/f:x<C}else p||(w=E!==D&&!b||y&&b);var L=Z(T,s,D,n,t,a,e,w);!1!==L&&(1!==L&&-1!==L||(w=1===L),X=!0,V(K,30),R(c,u),D.contains(s)||(w&&!E?s.appendChild(D):t.parentNode.insertBefore(D,w?E:t)),k=D.parentNode,this._animate(n,D),this._animate(a,t))}}},_animate:function(e,t){var n=this.options.animation;if(n){var a=t.getBoundingClientRect();1===e.nodeType&&(e=e.getBoundingClientRect()),z(t,"transition","none"),z(t,"transform","translate3d("+(e.left-a.left)+"px,"+(e.top-a.top)+"px,0)"),t.offsetWidth,z(t,"transition","all "+n+"ms"),z(t,"transform","translate3d(0,0,0)"),clearTimeout(t.animated),t.animated=V(function(){z(t,"transition",""),z(t,"transform",""),t.animated=!1},n)}},_offUpEvents:function(){var e=this.el.ownerDocument;$(p,"touchmove",this._onTouchMove),$(p,"pointermove",this._onTouchMove),$(e,"mouseup",this._onDrop),$(e,"touchend",this._onDrop),$(e,"pointerup",this._onDrop),$(e,"touchcancel",this._onDrop),$(e,"pointercancel",this._onDrop),$(e,"selectstart",this)},_onDrop:function(e){var t=this.el,n=this.options;clearInterval(this._loopId),clearInterval(y.pid),clearTimeout(this._dragStartTimer),se(this._cloneId),se(this._dragStartId),$(p,"mouseover",this),$(p,"mousemove",this._onTouchMove),this.nativeDraggable&&($(p,"drop",this),$(t,"dragstart",this._onDragStart)),this._offUpEvents(),e&&(O&&(e.preventDefault(),!n.dropBubble&&e.stopPropagation()),A&&A.parentNode&&A.parentNode.removeChild(A),T!==k&&"clone"===F.active.lastPullMode||_&&_.parentNode&&_.parentNode.removeChild(_),D&&(this.nativeDraggable&&$(D,"dragend",this),J(D),D.style["will-change"]="",U(D,this.options.ghostClass,!1),U(D,this.options.chosenClass,!1),Q(this,T,"unchoose",D,k,T,d),T!==k?0<=(a=te(D,n.draggable))&&(Q(null,k,"add",D,k,T,d,a),Q(this,T,"remove",D,k,T,d,a),Q(null,k,"sort",D,k,T,d,a),Q(this,T,"sort",D,k,T,d,a)):D.nextSibling!==S&&0<=(a=te(D,n.draggable))&&(Q(this,T,"update",D,k,T,d,a),Q(this,T,"sort",D,k,T,d,a)),F.active&&(null!=a&&-1!==a||(a=d),Q(this,T,"end",D,k,T,d,a),this.save()))),this._nulling()},_nulling:function(){T=D=k=A=S=_=u=g=v=c=l=O=a=N=M=H=B=F.active=null,x.forEach(function(e){e.checked=!0}),x.length=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragover":case"dragenter":D&&(this._onDragOver(e),function(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move");e.preventDefault()}(e));break;case"mouseover":this._onDrop(e);break;case"selectstart":e.preventDefault()}},toArray:function(){for(var e,t=[],n=this.el.children,a=0,r=n.length,i=this.options;a<r;a++)q(e=n[a],i.draggable,this.el)&&t.push(e.getAttribute(i.dataIdAttr)||ee(e));return t},sort:function(e){var a={},r=this.el;this.toArray().forEach(function(e,t){var n=r.children[t];q(n,this.options.draggable,r)&&(a[e]=n)},this),e.forEach(function(e){a[e]&&(r.removeChild(a[e]),r.appendChild(a[e]))})},save:function(){var e=this.options.store;e&&e.set(this)},closest:function(e,t){return q(e,t||this.options.draggable,this.el)},option:function(e,t){var n=this.options;if(void 0===t)return n[e];n[e]=t,"group"===e&&L(n)},destroy:function(){var e=this.el;e[Y]=null,$(e,"mousedown",this._onTapStart),$(e,"touchstart",this._onTapStart),$(e,"pointerdown",this._onTapStart),this.nativeDraggable&&($(e,"dragover",this),$(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(e){e.removeAttribute("draggable")}),C.splice(C.indexOf(this._onDragOver),1),this._onDrop(),this.el=e=null}},j(p,"touchmove",function(e){F.active&&e.preventDefault()}),F.utils={on:j,off:$,css:z,find:G,is:function(e,t){return!!q(e,t,e)},extend:re,throttle:ae,closest:q,toggleClass:U,clone:ie,index:te,nextTick:oe,cancelNextTick:se},F.create=function(e,t){return new F(e,t)},F.version="1.7.0",F},e.exports=t()}(e={exports:{}},e.exports),e.exports),ae="esri-header-apps",re="rtl"===document.dir,S=function(){var d=J("div",{class:ae+"-content",id:ae+"-content",aria:{expanded:!1,labelledby:ae+"-control"}}),c=J("span",{title:"App Launcher","aria-label":"App Launcher Icon"}),e=J("button",{class:ae+"-control",id:ae+"-control",style:"display: none;",tabindex:"-1"},c),u=function(){g.showMoreButton&&g.showMoreButton.classList.remove("hide"),m.setAttribute("aria-expanded","false")},r=function(e){g&&!g.loading&&(N(),M(),u(),ee(p,"header:menu:toggle",{state:"menu",target:h,type:"root-toggle",control:p,content:d,event:e}))},p=e;e.addEventListener("click",r);var h=J("div",{class:ae},p),m=J("div",{class:ae+" secondary-dropdown-menu",aria:{expanded:!1}},J("hr")),f=J("div",{class:ae+" bottom-container"}),g={maxDragErrorTollerance:1},l=40,v=38,b=39,y=37,E=32,w=function(e,t){var n=["0px","32px","24px","20px","18px","16px","14px"],a=g.browserIsEdge?"user-select-none":"",r=J("li",{alt:"",class:"block link-off-black appLinkContainer grabbable "+(t.canAccess?"with-hover":"no-hover"),mousedown:A.bind(null,t),keyup:O.bind(null,t),keydown:Y,role:"menuitem","data-id":t.itemId});if(t.canAccess){t.isNew&&r.appendChild(J("div",{class:"app-indicator app-indicator-new"}));var i=J("a",{href:t.url,target:"_blank",blur:W.bind(null,t),class:"appLink"});if(t.image){var o=J("div",{class:"appIconImage "+a});o.appendChild(j()),o.appendChild(J("img",{class:"appIconPng",alt:"",src:t.image})),i.appendChild(o)}else{var s=Math.round(k(t.abbr||"","avenir")/5),l=n[s];6<s&&(t.abbr=t.abbr.substr(0,4),l=n[4]);var d=J("div",{class:"appIconImage"});d.appendChild(j());var c=J("span",{style:"font-size: "+l,class:"avenir appIconSvgText "+a},t.abbr);d.appendChild(c),d.appendChild(J("img",{src:t.placeHolderIcon,alt:"",class:a})),i.appendChild(d)}r.appendChild(i);var u=J("p",{style:"margin:0 auto; text-align:center",class:a},t.label);i.appendChild(u)}else x(t,r,a);e.appendChild(r)},x=function(e,t,n){var a=J("div",{class:"app-indicator app-indicator-removed",tabindex:0,click:s.bind(null,e.uid,t),keyup:s.bind(null,e.uid,t),keydown:Y});a.innerHTML=i();var r=J("div",{class:"missing-app-icon appIconImage",tabindex:0,blur:W.bind(null,e),title:g.i18n.removed});r.appendChild(j()),t.appendChild(a),t.appendChild(r),t.appendChild(J("p",{style:"margin:0 auto; text-align:center",class:n},e.label))},C=function(e,t,n){ee(p,"header:apps:reorder",{icons:{primaryApps:e,secondaryApps:t,revisions:n||{}}})},L=function(){m.setAttribute("aria-expanded","true"),g.showMoreButton.classList.add("hide")},D=function(e){e===g.bottomAppContainer&&1===g.secondarySortable.toArray().length?T(!1):g.secondarySortable.toArray().length||T(!0)},k=function e(t,n){var a=(e.canvas||(e.canvas=document.createElement("canvas"))).getContext("2d");return a.font=n,a.measureText(t).width},i=function(){return'<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 32 32"  class="default-svg-fill"><path d="M18.404 16l9.9 9.9-2.404 2.404-9.9-9.9-9.9 9.9L3.696 25.9l9.9-9.9-9.9-9.898L6.1 3.698l9.9 9.899 9.9-9.9 2.404 2.406-9.9 9.898z"/></svg>'},A=function(e,t){if(0===t.button){if(g.startClientX=t.clientX,g.startClientY=t.clientY,g.startApp=e,g.dragEventWasCanceled=!1,g.startElement=t.currentTarget,g.disabled)return void(e.canAccess&&g.dropdownNav.addEventListener("mouseup",o));if(setTimeout(function(e){g.startElement.classList.remove("sortable-drag-class")},1),e.isNew){var n=g.primarySortable.toArray();g.duplicateValueIndex&&n.splice(g.duplicateValueIndex,1),C(n,g.secondarySortable.toArray(),{targetUid:t.currentTarget.getAttribute("data-id"),isNew:!0,targetValue:null}),t.currentTarget.classList.remove("sortable-drag-class")}else t.currentTarget.classList.remove("sortable-drag-class");if(g.listenForMouseOverElement=t.currentTarget.parentNode,g.listenForMouseOverElement.addEventListener("mousemove",I),e.canAccess)g.dropdownNav.addEventListener("mouseup",r);else{g.dropdownNav.addEventListener("mouseup",_);var a="app-indicator app-indicator-removed";t.target.classList.className!==a&&t.target.parentNode.className!==a&&t.target.parentNode.parentNode.className!==a||(g.removeStartApp=!0)}}},o=function e(t){g.dropdownNav.removeEventListener("mouseup",e,!1),B(t.clientX,t.clientY)||r()},t=function(e,t,n){!g.disabled&&e&&(e.canAccess?(r(),window.open(e.url,"_blank")):n?(g.removeStartApp=!1,s(e.itemId||e.title,t)):a(e.itemId||e.title,t))},s=function(e,t,n){var a;n&&!H(n.keyCode)||((a=t).parentNode&&a.parentNode.removeChild(a),setTimeout(function(){C(g.primarySortable.toArray(),g.secondarySortable.toArray()),D(g.bottomAppContainer)},0))},a=function(e,t,n){g.dropdownWrapper.classList.remove("dragging"),g.removedAppWithFoucs||n&&!H(n.keyCode)?g.removedAppWithFoucs=null:g.removedAppWithFoucs={uid:e,el:t}},_=function(e){g.dragEventWasCanceled=!0},T=function(e){g.bottomAppContainer.classList[e?"add":"remove"]("drag-apps-here-box"),g.dragAppsHereText.classList[e?"remove":"add"]("hide")},n=function(e,t){var n=e.item.children[1]&&"A"===e.item.children[1].nodeName?e.item.children[1]:e.item.children[0];t?(g.recentlyRemovedHref=n.href,n.removeAttribute("href")):setTimeout(function(){n.href=g.recentlyRemovedHref},1)},S=function(e){g.dragAndDropIntro.classList.add("hide"),C(g.primarySortable.toArray(),g.secondarySortable.toArray())},N=function(){g.dropdownNav&&g.dropdownNav.removeEventListener&&g.dropdownNav.removeEventListener("mouseup",r,!1)},M=function(){g.listenForMouseOverElement&&g.listenForMouseOverElement.removeEventListener("mousemove",I,!1)},I=function(e){B(e.clientX,e.clientY)&&(g.simulatedDragEvent=!0,g.dropdownWrapper.classList.add("dragging"),M())},B=function(e,t){return!g.dragEventWasCanceled&&(Math.abs(e-g.startClientX)>g.maxDragErrorTollerance||Math.abs(t-g.startClientY)>g.maxDragErrorTollerance)},H=function(e){return!e||13===e},O=function(e,t){if("app-indicator app-indicator-removed"!==t.target.className&&t.keyCode===E){if(g.activeAccessibleListElement)return W(e,t);var n=e.canAccess?t.target.firstChild.firstChild:t.target.firstChild,a=t.target.parentNode,r=a.parentNode,i=q(a),o=g.primarySortable.toArray().length;L();var s=R(i,r,o);g.activeAccessibleListElement=a,g.activeAccessibleListElementEvent=V.bind(null,e,G(s,r),a,r,i),a.addEventListener("keydown",g.activeAccessibleListElementEvent),$(n,i,r,o)}return!1},W=function(e,t){var n=t.target||t,a=e.canAccess?n.firstChild.firstChild:n.firstChild;a.classList.remove("arrow-keys-enabled"),a.classList.add("arrow-keys-disabled"),g.activeAccessibleListElement&&(g.activeAccessibleListElement.removeEventListener("keydown",g.activeAccessibleListElementEvent,!1),g.activeAccessibleListElement=null)},Y=function(e){e.keyCode!==E&&e.keyCode!==l&&e.keyCode!==v||e.preventDefault()},V=function(e,t,n,a,r,i){var o,s=(o=i).keyCode===l?"bottom":o.keyCode===v?"top":o.keyCode===b?re?"left":"right":o.keyCode===y?re?"right":"left":void 0;"bottom"===s&&-1<t.indexOf("bottom")&&X(n,r,a,3,e,i),"top"===s&&-1<t.indexOf("top")&&X(n,r,a,-3,e,i),"right"===s&&-1<t.indexOf("right")&&X(n,r,a,1,e,i),"left"===s&&-1<t.indexOf("left")&&X(n,r,a,-1,e,i)},X=function(e,t,n,a,r,i){var o=t+a,s=n===g.bottomAppContainer?n.children.length-1:n.children.length,l=n===g.topAppContainer;if(l&&o<s||!l&&o<=s&&0<o){var d=a<0?n.children[o]:n.children[o].nextSibling;n.insertBefore(e,d)}else l?(F(e,t,a),D(g.bottomAppContainer)):(P(e,t,a),D(g.topAppContainer));W(r,i),r.canAccess&&!r.isNew?e.children[0].focus():e.children[1].focus(),setTimeout(function(){r.isNew?C(g.primarySortable.toArray(),g.secondarySortable.toArray(),{targetUid:r.itemId||r.title,isNew:!0,targetValue:null}):C(g.primarySortable.toArray(),g.secondarySortable.toArray())},0)},P=function(e,t,n){var a=g.topAppContainer,r=t%3||3,i=o%3||3,o=g.topAppContainer.children.length;return 1===Math.abs(n)||3===i?a.appendChild(e):2===r&&1<i?a.insertBefore(e,a.children[o-(i-1)]):1===r&&o?a.insertBefore(e,a.children[o-i]):void a.appendChild(e)},F=function(e,t,n){var a=g.bottomAppContainer,r=g.bottomAppContainer.children.length-1,i=(t+1)%3||3;return r?1===Math.abs(n)?a.insertBefore(e,a.children[1]):2===i&&1<r?a.insertBefore(e,a.children[2]):3===i&&2===r?a.insertBefore(e,a.children[3]):void a.insertBefore(e,a.children[1]):a.appendChild(e)},R=function(e,t,n){return e+(t===g.bottomAppContainer?n+1:1)},q=function(e){var t=e.parentNode;return Array.prototype.indexOf.call(t.children,e)},j=function(){return J("span",{class:"arrow-keys-disabled"})},$=function(e,t,n,a){e.classList.add("arrow-keys-enabled"),e.classList.remove("arrow-keys-disabled");var r=R(t,n,a);e.innerHTML=U(G(r,n),n)},U=function(e){return e.reduce(function(e,t){return e+z(t)},"")},z=function(e){return'<div class="app-arrow app-arrow-'+e+'"></div>'},G=function(e,t){var n=[],a=g.topAppContainer.children.length,r=g.bottomAppContainer.children.length,i=a+r;return 0<e-1&&n.push("left"),(e+1<=i||!r)&&e!==a&&n.push("right"),0<e-3&&n.push("top"),(e-a+2<r||t===g.topAppContainer)&&n.push("bottom"),n},Q={group:"Apps",sort:!0,disabled:!1,animation:150,forceFallback:!0,delay:0,fallbackTolerance:0,ghostClass:"sortable-ghost-class",dragClass:"sortable-drag-class",onStart:function(e){g.dragAppsHereText.classList.add("hide"),N(),n(e,!0)},onEnd:function(e){return e.preventDefault(),M(),n(e,!1),g.dropdownWrapper.classList.remove("dragging"),g.bottomAppContainer.classList.remove("on-drag-over"),g.secondarySortable.toArray().length&&T(!1),!1},onMove:function(e,t){e.to===g.bottomAppContainer?g.bottomAppContainer.classList.add("on-drag-over"):g.bottomAppContainer.classList.remove("on-drag-over")},store:{get:function(e){return e.options.group.name&&e.options.group.name.split("!")||[]},set:function(e){g.simulatedDragEvent?C(e.toArray(),g.secondarySortable.toArray()):t(g.startApp,g.startElement,g.removeStartApp),g.startElement&&g.startElement.classList.remove("sortable-drag-class"),g.simulatedDragEvent=!1}}},Z={group:"Apps",sort:!0,disabled:!1,animation:150,forceFallback:!0,delay:0,fallbackTolerance:0,ghostClass:"sortable-ghost-class",dragClass:"sortable-drag-class",onStart:function(e){N(),n(e,!0)},onEnd:function(e){e.preventDefault(),M(),n(e,!1),g.dropdownWrapper.classList.remove("dragging"),g.secondarySortable.toArray().length||T(!0)},store:{get:function(e){return e.options.group.name&&e.options.group.name.split("!")||[]},set:function(e){g.simulatedDragEvent?C(g.primarySortable.toArray(),e.toArray()):t(g.startApp,g.startElement,g.removeStartApp),g.startElement&&g.startElement.classList.remove("sortable-drag-class"),g.simulatedDragEvent=!1}}};return h.addEventListener("header:update:apps",function(e){var t,n=e.detail;te({imgDef:n.image,"shape-rendering":"crispEdges",imgClass:ae+" svg-grid-icon",$targetElm:c});if(p.removeAttribute("style"),n.primary)if(n.ieVersion&&("edge"===(t=n.ieVersion)?g.browserIsEdge=!0:"ie11"===t&&(Q.ghostClass="sortable-ghost-class-with-pointer-events",Z.ghostClass="sortable-ghost-class-with-pointer-events")),n.disableDragAndDrop&&(g.disabled=!0),n.text&&(g.i18n=n.text||{}),n.isLoading)g.loading=!0,p.className=ae+"-control disabled-grid-icon",p.setAttribute("tabindex","-1"),K(h,p);else{h.appendChild(d),p.className=ae+"-control",p.setAttribute("tabindex","0"),J(p,{aria:{label:n.label}});var a=n.primary.length,r=" dropdown-width-"+(a<3?a:3);g.topAppContainer=J("ul",{class:ae+" appContainer primary",role:"menu"}),g.bottomAppContainer=J("ul",{class:ae+" appContainer secondary",role:"menu"}),g.disabled||(g.dropdownWrapper&&(d.innerHTML="",f.lastChild&&f.removeChild(f.lastChild)),g.dragAppsHereText=J("p",{class:"hide"},g.i18n.dragAppsHere),g.bottomAppContainer.appendChild(g.dragAppsHereText),n.secondary.length||T(!0),g.primarySortable=ne.create(g.topAppContainer,Q),g.secondarySortable=ne.create(g.bottomAppContainer,Z)),n.primary.forEach(function(e,t){w(g.topAppContainer,e)}),n.secondary.forEach(function(e,t){w(g.bottomAppContainer,e)}),f.appendChild(g.bottomAppContainer),m.appendChild(f);var i=J("div",{class:""}),o=J("p",{class:ae+" drag-and-drop-intro"},g.i18n.intro),s=J("button",{class:ae+" dismiss-intro-button",click:S},g.i18n.confirm);g.dragAndDropIntro=n.displayIntro?J("div",{class:ae+" intro-container"},o,s):"";var l=J("span");l.innerHTML=' <svg xmlns="http://www.w3.org/2000/svg" width="13" height="13" viewBox="0 0 32 32" class="down-carrot-svg default-svg-fill"><path d="M28 9v5L16 26 4 14V9l12 12L28 9z"></path></svg>',g.showMoreButton=J("button",{class:ae+" show-more-button",click:L},g.i18n.showMore,l),g.dropdownWrapper=J("div",{},g.dragAndDropIntro,g.topAppContainer,g.showMoreButton,m),g.dropdownNav=J("nav",{class:ae+" dropdown-menu dropdown-right app-switcher-dropdown-menu "+r,role:"menu"},g.dropdownWrapper),i.appendChild(g.dropdownNav),d.appendChild(i),K(h,p,d),g.loading=!1,u()}}),h},N="esri-header-notifications",M=[],r=function(l){var d=void 0,c=void 0,a=J("button",{class:"esri-header-canvas",tabindex:"-1",data:{open:!1}});a.addEventListener("click",function(){ee(a,"header:menu:close")});var n,i,r=((n=J("div",{class:t,id:t})).addEventListener("header:update:brand",function(e){var t=e.detail;n.style.backgroundColor=t.topStripe,n.classList.add("-visible")}),n),o=((i=J("a",{class:A,id:A})).addEventListener("click",function(e){ee(i,"header:click:brand",{event:e})}),i.addEventListener("header:update:brand",function(e){var t=e.detail;if(J(i,{href:t.href}),t.distributorImage){var n=J("span",{class:"distributor-image"});te({imgDef:t.distributorImage,imgClass:A+"-image",imgWidth:t.distributorImageWidth,imgHeight:t.distributorImageHeight,$targetElm:n}),J(i,n,J("span",{class:"distributor-image-border"}))}if(t.image){var a=J("span",{class:"brand-image"});J(i,{aria:{label:t.label}}),te({imgDef:t.image,imgClass:A+"-image",imgWidth:t.width,imgHeight:t.height,$targetElm:a}),J(i,a)}if(t.brandText){var r=J("span",{class:t.image?A+"-text -has-image":A+"-text"},t.brandText);J(i,r)}}),i),u=function(){var n=J("div",{class:k}),a=document.createTextNode(""),r=J("button",{class:k+"-control "+k+"-control--signin"},a);r.addEventListener("click",function(e){ee(r,"header:click:signin",{event:e})});var i=J("span"),o=document.createTextNode(""),e=J("span",{class:k+"-name"},o),s=document.createTextNode(""),t=J("span",{class:k+"-id"},s),l=J("button",{class:k+"-control "+k+"-control--signedin",id:k+"-control",aria:{controls:k+"-menu",expanded:!1,haspopup:!0}},i,e,t);l.addEventListener("click",function(e){ee(l,"header:click:account",{event:e}),ee(l,"header:menu:toggle",{account:!0,control:l,content:x,state:"menu",target:n,type:"account-toggle"})});var d=document.createTextNode(""),c=J("button",{class:k+"-content-toggle"},d);c.addEventListener("click",function(){ee(c,"header:menu:close",{control:l,content:x,type:"account-close"})});var u=J("span"),p=document.createTextNode(""),h=document.createTextNode(""),m=document.createTextNode(""),f=J("div",{class:k+"-content-info"},u,J("span",{class:k+"-content-name"},p),J("span",{class:k+"-content-id"},h),J("span",{class:k+"-content-group"},m)),g=J("ul",{class:k+"-content-menu",role:"navigation",aria:{labelledby:k+"-control"}}),v=document.createTextNode(""),b=J("button",{class:k+"-signin-control -switch"},v);b.addEventListener("click",function(e){ee(b,"header:click:switch",{event:e})});var y=document.createTextNode(""),E=J("button",{class:k+"-signin-control -logout"},y);E.addEventListener("click",function(e){ee(E,"header:click:signout",{event:e})});var w=J("ul",{class:k+"-signin-menu",role:"group"},J("li",{class:k+"-signin-item"},b),J("li",{class:k+"-signin-item"},E)),x=J("div",{class:k+"-menu",id:k+"-menu",role:"group",aria:{expanded:!1,hidden:!0}},c,f,g,w);return n.addEventListener("header:update:account",function(e){var t=e.detail;J(l,{aria:{label:t.label}}),d.nodeValue=t.label,a.nodeValue=t.controls.signin,v.nodeValue=t.controls.switch,y.nodeValue=t.controls.signout,t.user?(o.nodeValue=p.nodeValue=t.user.name,s.nodeValue=h.nodeValue=t.user.id,m.nodeValue=t.user.group,te({imgDef:t.user.image,imgClass:k+"-image",$targetElm:i}),te({imgDef:t.user.image,imgClass:k+"-content-image",$targetElm:u}),K.apply(void 0,[g].concat(L(t.menus.map(function(e){return J("li",{class:k+"-content-item"},J("a",{class:k+"-content-link",href:e.href},e.label))})))),K(n,l,x)):K(n,r)}),n}(),p=_({variant:"mobile"}),h=_({variant:"desktop"}),s=T(),m=function(){var l=J("div",{class:N}),d=J("button",{class:N+"-control",id:N+"-control",aria:{controls:N+"-menu",expanded:!1,haspopup:!0}});d.addEventListener("click",function(e){ee(d,"header:click:notifications",{event:e}),ee(d,"header:menu:toggle",{notifications:!0,control:d,content:m,state:"menu",target:l,type:"notifications-toggle"})});var c=J("button",{class:N+"-dismiss-all"});c.addEventListener("click",function(e){ee(d,"header:click:notifications:dismiss",M)});var u=J("ul",{class:N+"-messages"}),p=J("h4",{class:N+"-header-text"}),h=J("div",{class:N+"-header"},p,c),m=J("div",{class:N+"-menu",id:N+"-menu",role:"group",aria:{expanded:!1,hidden:!0}},h,u);return l.addEventListener("header:update:notifications",function(e){var n=e.detail;M=(n.messages||[]).map(function(e){return e.id});var t=te({imgDef:n.image,imgClass:N+"-image",id:N+"-image"}),a=["M8.718 8l5.303 5.303-.707.707L8.01 8.707 2.707 14.01 2 13.303 7.303 8 2 2.697l.707-.707L8.01 7.293l5.304-5.303.707.707z"];if(n.messages&&0<n.messages.length){K(c,n.dismissAllLabel),K(p,n.label);var r=J("span",{class:N+"-badge"},""+n.messages.length);K(d,t,r),K.apply(void 0,[u].concat(L(n.messages.map(function(t){var e=J("button",{class:N+"-message-dismiss",aria:{label:n.dismissLabel}},te({imgDef:a,imgClass:N+"-dismiss-icon"}));return e.addEventListener("click",function(e){ee(d,"header:click:notifications:dismiss",[t.id])}),J("li",{class:N+"-message"},J("span",{class:N+"-message-text"},t.text,J("span",{class:N+"-message-date"},t.date)),e)}))))}else{K(p,n.label),K(h,p),K(d,t);var i=te({imgDef:n.emptyMessage.image.path,imgClass:N+"-empty-image",viewBox:n.emptyMessage.image.viewBox}),o=J("p",{class:N+"-empty-text"},n.emptyMessage.text),s=J("div",{class:N+"-empty"},i,o);K(m,h,s)}K(l,d,m)}),l}(),f=S(),g=J("div",{class:"esri-header-client"},u),e=J("div",{class:"esri-header-lineBreak"}),v=J("div",{class:"esri-header -"+(l.theme||"web")},a,r,o,p,h,s,e,m,f,g);D(v),v.addEventListener("header:update",function(e){var t=e.detail;t.brand&&(t.brand.topStripe&&(ee(r,"header:update:brand",t.brand),v.style.marginTop="3px"),ee(o,"header:update:brand",t.brand)),t.menus&&(ee(h,"header:update:menus",t.menus),ee(p,"header:update:menus",t.menus)),t.collapseMenus&&(ee(h,"header:update:collapseMenus",t.collapseMenus),ee(p,"header:update:collapseMenus",t.collapseMenus)),t.search&&ee(s,"header:update:search",t.search),t.account&&ee(g.lastChild,"header:update:account",t.account),t.account&&ee(g.lastChild,"header:update:account",t.account),t.apps&&ee(f,"header:update:apps",t.apps),t.notifications&&ee(m,"header:update:notifications",t.notifications),v.ownerDocument.defaultView.addEventListener("keydown",function(e){27===e.keyCode&&ee(v,"header:menu:close")})}),v.addEventListener("header:apps:reorder",function(e){var t=e.detail;ee(f,"header::apps:reorder",t.icons)}),v.addEventListener("header:menu:toggle",function(e){var t=e.detail,n="true"!==t.control.getAttribute("aria-expanded")?"header:menu:open":"header:menu:close";ee(t.control,n,t)});var b=null,y=null,E=null,w=null,x=null,C=null;return v.addEventListener("header:menu:open",function(e){var t=e.detail,n="menu-toggle"===t.type;J(t.control,{aria:{expanded:!0}}),J(t.content,{aria:{expanded:!0,hidden:!1}}),w&&w.control!==t.control&&ee(w.control,"header:menu:close",w),"menu-toggle"===t.type&&(w=t),s===t.target?y=t:y&&(ee(s,"header:menu:close",y),y=null),h===t.target||p===t.target?E=t:!E||n||d.matches||(ee(h,"header:menu:close",E),ee(p,"header:menu:close",E),E=null),u===t.target?b=t:b&&(ee(u,"header:menu:close",b),b=null),f===t.target?x=t:x&&(ee(f,"header:menu:close",x),x=null),m===t.target?C=t:C&&(ee(m,"header:menu:close",C),C=null),J(a,{data:{open:!0,state:t.state}}),J(v.ownerDocument.documentElement,{data:{"header-is-open":!0}})}),v.addEventListener("header:menu:close",function(e){var t=e.detail||E||y||b||x||w||C;if(t){J(t.control,{aria:{expanded:!1}}),J(t.content,{aria:{expanded:!1,hidden:!0}});var n=!c.matches||"menu-close"!==t.type&&"account-close"!==t.type;y&&y.control===t.control&&ee(y.content.lastChild,"reset"),n&&(J(a,{data:{open:!1}}),v.ownerDocument.documentElement.removeAttribute("data-header-is-open"))}}),v.addEventListener("DOMNodeInserted",function e(){var a=v.ownerDocument,r=a.defaultView,i=J("style"),o=void 0;function t(){var e=a.documentElement.clientWidth,t=a.documentElement.clientHeight,n=a.documentElement.scrollHeight;o=getComputedStyle(a.documentElement).overflowY.replace("visible",t<n?"scroll":"visible"),K(i,":root{--esri-vw:"+e+"px;--esri-vh:"+t+"px}[data-header-is-open]{width:"+e+"px;height:"+t+"px;overflow-y:"+o+"}"),(c=r.matchMedia("(max-width: 1023px)")).matches?(h.querySelector(".esri-header-menus-content").classList.add("hidden"),p.querySelector(".esri-header-menus-content").classList.remove("hidden")):(h.querySelector(".esri-header-menus-content").classList.remove("hidden"),p.querySelector(".esri-header-menus-content").classList.add("hidden"))}function n(){d.matches?(ee(v,"header:breakpoint:s"),p.lastChild.appendChild(u)):(ee(v,"header:breakpoint:not:s"),g.appendChild(u))}function s(){c.matches?(ee(v,"header:breakpoint:sm"),J(h.lastChild,{aria:{hidden:"false"===h.lastChild.getAttribute("aria-expanded")}})):(ee(v,"header:breakpoint:not:sm"),ee(v,"header:menu:close"),J(h.lastChild,{aria:{hidden:!1}}))}v.parentNode&&(v.removeEventListener("DOMNodeInserted",e),ee(v,"header:update",l),J(a.head,i),r.addEventListener("orientationchange",t),r.addEventListener("resize",t),d=r.matchMedia("(max-width: 767px)"),c=r.matchMedia("(max-width: 1023px)"),d.addListener(n),c.addListener(s),n(),s(),t())}),v},f=function(e,t){document.createTextNode(e.buttonLabel);var n=document.createElement("button");n.classList.add(t+"-language-control"),n.setAttribute("ariaDescribedby",t+"-language"),n.innerHTML=e.buttonLabel;var a=J("div",{class:t+"-language"},n);n.addEventListener("click",function(e){e.preventDefault(),J(u,{aria:{expanded:!0}})}),e.prefix=t+"-language-dialog";var r,i,o,s=(i=J.apply(void 0,["select",{class:(r=e).prefix+"-choice",autofocus:"",aria:{label:r.optionsLabel}}].concat(L(r.options.map(function(e){var t=document.createElement("option");return t.value=e.value,t.innerHTML=e.label,t})))),(o=J("form",{class:r.prefix,aria:{labelledby:r.prefix+"-message",describedby:"dialog-description"}},J("p",{class:r.prefix+"-message",id:r.prefix+"-message"},J("strong",r.greetingLabel)," ",r.messageLabel),i,J("button",{class:r.prefix+"-submit",type:"submit",aria:{label:r.submitLabel+" "+r.optionsLabel}},r.submitLabel))).addEventListener("submit",function(e){e.preventDefault(),window.location.href=i.value}),o),l=J("button",{class:t+"-language-dialog-close",id:"dialog-description",ariaLabel:e.closeLabel});l.addEventListener("click",c),J(s,l);var d=J("button",{class:t+"-language-dialog-cancel-canvas",type:"button",tabindex:-1});function c(e){e.preventDefault(),J(u,{aria:{expanded:!1}})}d.addEventListener("click",c);var u=J("div",{class:t+"-language-dialog-barrier",aria:{expanded:!1}},s,d);return n.addEventListener("click",function(){ee(n,"footer:click:language",e)}),a.addEventListener("footer:update:language",function(e){var t=e.detail;n.innerHTML=t.buttonLabel,a.ownerDocument.body.appendChild(u),a.ownerDocument.defaultView.addEventListener("keydown",function(){27===(0<arguments.length&&void 0!==arguments[0]?arguments[0]:event).keyCode&&c(event)})}),a},g=function(e,n){var t=matchMedia("(max-width: 719px)"),r=!1;t.addListener(o);var a=e.menu.map(function(e,t){return J("li",{class:n+"-menu-item",id:n+"-menu-link--"+t},J("span",{class:n+"-menu-link",role:"heading"},e.label),J("div",{class:n+"-menu--sub",id:n+"-menu--sub--"+t,aria:{labelledby:n+"-menu-link--"+t}},J.apply(void 0,["ul",{class:n+"-menu-list--sub",role:"presentation"}].concat(L(e.menu.map(function(e){return J("li",{class:n+"-menu-item--sub"},J("a",{class:n+"-menu-link--sub",href:e.href},e.label))}))))))}),i=J("div",{class:n+"-menu",aria:{label:e.label}},J.apply(void 0,["ul",{class:n+"-menu-list",role:"presentation"}].concat(L(a))));return o(),i;function o(){r!==t.matches&&(r=t.matches,a.forEach(function(e){var t,n,a;r?(n=e.firstChild,a="true"!==n.nextElementSibling.getAttribute("aria-hidden"),J(n,{tabindex:0,role:"button",aria:{expanded:!a,haspopup:!a}}),n.addEventListener("click",s),n.addEventListener("keypress",l),J(n.nextElementSibling,{aria:{hidden:!0}})):((t=e.firstChild).removeAttribute("aria-controls"),t.removeAttribute("aria-expanded"),t.removeAttribute("aria-haspopup"),t.removeAttribute("role"),t.removeAttribute("tabindex"),t.addEventListener("click",s),t.addEventListener("keypress",l),t.nextElementSibling.removeAttribute("aria-hidden"))}))}function s(e){var t=e.currentTarget,n=t.nextElementSibling,a="true"!==n.getAttribute("aria-hidden");J(t,{aria:{expanded:!a,haspopup:!a}}),J(n,{aria:{hidden:a}}),J(t,a?{aria:{controls:0}}:{aria:{controls:n.id}})}function l(e){13!==e.keyCode&&32!==e.keyCode||(e.preventDefault(),ee(e.currentTarget,"click"))}},i=function(t){var e,n,a,r,i,o,s,l=t.prefix||"esri-footer",d=(e=t.brand,J("div",{class:(n=l)+"-brand"},J("a",{class:n+"-brand-link",href:e.href,aria:{label:e.label}},te({imgDef:e.path,imgClass:n+"-brand-image"})))),c=(a=t.info,J("div",{class:(r=l)+"-info",aria:{label:a.label}},J.apply(void 0,["ul",{class:r+"-info-list",role:"presentation"}].concat(L(a.menu.map(function(e,t){return J("li",{class:r+"-info-item",id:r+"-info-link--"+t},J("a",{class:r+"-info-link",href:e.href},e.label))})))))),u=t.language?f(t.language,l):J("div",{class:"esri-footer-language"}),p=g(t.menu,l),h=(i=t.social,o=l,s=document.createDocumentFragment(),i.menu.forEach(function(e){J(s,J("li",{class:o+"-social-item"},J("a",{class:o+"-social-link -"+e.label.toLowerCase().replace(" ","-"),href:e.href,aria:{label:e.label},target:"_blank"},te({imgDef:e.image.path,imgClass:o+"-social-image",imgWidth:30,imgHeight:30,viewBox:e.image.viewBox}))))}),J("div",{class:o+"-social",aria:{label:i.label}},J("ul",{class:o+"-social-list",role:"presentation"},s))),m=J("footer",{class:l+" "+(t.hideMenus?"skinny-footer":""),role:"navigation",aria:{label:t.label}},J("div",{class:l+"-section--1 "+(t.hideMenus?"hidden":"")},d,h),J("div",{class:l+"-section--2 "+(t.hideMenus?"hidden":"")},p),J("div",{class:l+"-section--3"},u,c));return m.addEventListener("DOMNodeInserted",function e(){m.removeEventListener("DOMNodeInserted",e),m.addEventListener("focusin",function(){var e=m.ownerDocument.documentElement.scrollHeight-m.scrollHeight;e>m.ownerDocument.defaultView.pageYOffset&&m.ownerDocument.defaultView.scrollTo(0,e)}),t.hideMenus&&document.querySelector(".esri-footer-barrier").classList.add("skinny-footer"),ee(m,"footer:update",t)}),D(m),m.addEventListener("footer:update",function(e){var t=e.detail;function n(){var e=window.pageYOffset<0;J(m,{data:{hidden:e}})}t.brand&&ee(d,"footer:update:brand",t.brand),t.info&&ee(c,"footer:update:info",t.info),t.language&&ee(u,"footer:update:language",t.language),t.menu&&ee(p,"footer:update:menu",t.menu),t.social&&ee(h,"footer:update:social",t.social),m.ownerDocument.defaultView.addEventListener("scroll",n),n()}),m};function s(e){var t=e.targetElm,n=e.menuData;document.querySelector(t).classList.add("esri-header-barrier");var a=r(n.header);document.querySelector(t).appendChild(a)}function l(e){var t=e.targetElm,n=e.menuData;document.querySelector(t).classList.add("esri-footer-barrier");var a=i(n.footer);document.querySelector(t).appendChild(a)}return window.esriHeader={create:r},window.esriFooter={create:i},{createHeader:s,createFooter:l,create:function(e){var t=e.headerElm,n=e.footerElm,a=e.menuData;s({menuData:a,targetElm:t}),l({menuData:a,targetElm:n})}}});
//# sourceMappingURL=esri-global-nav.js.map
