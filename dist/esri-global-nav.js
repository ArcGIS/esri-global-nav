!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.esriGlobalNav=t()}(this,function(){"use strict";function J(e){var t=e instanceof Node?e:document.createElement(e);return[].slice.call(arguments,1).forEach(function(e){e instanceof Node?t.appendChild(e):"string"==typeof e?t.innerHTML=e:function e(t,n,a){for(var i in n)"function"==typeof n[i]?t.addEventListener(a+i,n[i]):Object(n[i])===n[i]?e(t,n[i],a+i+"-"):t.setAttribute(a+i,n[i])}(t,e,"")}),t}function ee(e){for(;e.lastChild;)e.removeChild(e.lastChild);var t,n;return e.appendChild((t=arguments,n=document.createDocumentFragment(),[].slice.call(t,1).forEach(function(e){e instanceof Node?n.appendChild(e):n.appendChild(document.createTextNode(e))}),n)),e}Element.prototype.closest||(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(e){var t=this;if(!document.documentElement.contains(this))return null;do{if(t.matches(e))return t;t=t.parentElement}while(null!==t);return null});var Ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},X=(function(){function d(e){this.value=e}function e(i){var r,o;function l(e,t){try{var n=i[e](t),a=n.value;a instanceof d?Promise.resolve(a.value).then(function(e){l("next",e)},function(e){l("throw",e)}):s(n.done?"return":"normal",n.value)}catch(e){s("throw",e)}}function s(e,t){switch(e){case"return":r.resolve({value:t,done:!0});break;case"throw":r.reject(t);break;default:r.resolve({value:t,done:!1})}(r=r.next)?l(r.key,r.arg):o=null}this._invoke=function(a,i){return new Promise(function(e,t){var n={key:a,arg:i,resolve:e,reject:t,next:null};o?o=o.next=n:(r=o=n,l(a,i))})},"function"!=typeof i.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(e.prototype[Symbol.asyncIterator]=function(){return this}),e.prototype.next=function(e){return this._invoke("next",e)},e.prototype.throw=function(e){return this._invoke("throw",e)},e.prototype.return=function(e){return this._invoke("return",e)}}(),function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)});function te(e,t,n){var a=document.createEvent("CustomEvent");a.initCustomEvent(t,!0,!0,n),e.dispatchEvent(a)}function T(e){var n=void 0;e.addEventListener("blur",function(e){e.target instanceof Element&&(e.target.removeAttribute("js-focus"),e.target.removeAttribute("js-focus-ring"))},!0),e.addEventListener("focus",function(e){var t=document.activeElement;t instanceof Element&&"BODY"!==t.tagName&&(t.setAttribute("js-focus",""),n&&t.setAttribute("js-focus-ring",""))},!0),window.addEventListener("keydown",function(){n=clearTimeout(n)||setTimeout(function(){n=0},100)},!0)}function ne(e){var t=e.imgDef,n=void 0===t?"":t,a=e.imgClass,i=void 0===a?"":a,r=e.wrapperClass,o=void 0===r?"":r,l=e.inlineImg,s=void 0!==l&&l,d=e.id,c=e.alt,u=e.imgWidth,p=e.imgHeight,h=e.viewBox,m=e.$targetElm,f=J("span",{class:o});if("string"==typeof n)n.indexOf(".svg")!==n.length-4||s?y():function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:function(){},a=new XMLHttpRequest;a.addEventListener("readystatechange",function(){4===a.readyState&&(200===a.status?t(a.responseText):n())}),a.open("GET",e),a.send()}(n,function(e){f.innerHTML=e,J(f.firstElementChild,b())},function(){y()});else{var g=J(document.createElementNS("http://www.w3.org/2000/svg","svg"),b(),J.apply(void 0,[document.createDocumentFragment()].concat(X(n.map(function(e){return J(document.createElementNS("http://www.w3.org/2000/svg","path"),{d:e})})))));f.appendChild(g)}return m&&(m.innerHTML="",m.appendChild(f)),f;function v(e,t){for(var n in t)void 0!==t[n]&&null!==t[n]&&(e[n]=t[n]);return e}function b(){return v({class:""+i,style:"transform: rotate(360deg);"},{id:d,alt:c,viewBox:h,width:u,height:p})}function y(){f.appendChild(J("img",v({style:(u?"width:"+u+"px":"")+"; "+(p?"height:"+p+"px":"")},{id:d,alt:c,src:n,class:i})))}}var M="esri-header-account",_="esri-header-brand",N={md:["M18 16v-5.087A5.91 5.91 0 0 0 13.59 5.2a2 2 0 1 0-3.18 0A5.91 5.91 0 0 0 6 10.913V16a3 3 0 0 1-3 3v1h18v-1a3 3 0 0 1-3-3zM12 3a1 1 0 1 1-1 1 1.001 1.001 0 0 1 1-1zM5.643 19A3.992 3.992 0 0 0 7 16v-5.087A4.919 4.919 0 0 1 11.913 6h.174A4.919 4.919 0 0 1 17 10.913V16a3.992 3.992 0 0 0 1.357 3zM13 21h1a2 2 0 0 1-4 0h1a1 1 0 0 0 2 0z"]},I={sm:["M8.718 8l5.303 5.303-.707.707L8.01 8.707 2.707 14.01 2 13.303 7.303 8 2 2.697l.707-.707L8.01 7.293l5.304-5.303.707.707z"],md:["M13.207 12.5l7.778 7.778-.707.707-7.778-7.778-7.778 7.778-.707-.707 7.778-7.778-7.778-7.778.707-.707 7.778 7.778 7.778-7.778.707.707z"],lg:["M16.707 16l10.607 10.606-.708.707L16 16.707 5.394 27.313l-.708-.707L15.293 16 4.686 5.394l.708-.707L16 15.293 26.606 4.687l.708.707z"]},u={sm:["M2 8.689l.637-.636L5.5 10.727l8.022-7.87.637.637L5.5 12z"],md:["M4.581 13.276l.637-.636 3.288 3.098 10.073-9.92.637.637L8.506 17.01z"],lg:["M24 4.685l-16.327 17.315-7.673-9.054.761-.648 6.95 8.203 15.561-16.501.728.685z"]},ae={md:["M11.5 18.05a1.45 1.45 0 1 0 1.45 1.45 1.45 1.45 0 0 0-1.45-1.45zM12 20h-1v-1h1zM3.5 2.05A1.45 1.45 0 1 0 4.95 3.5 1.45 1.45 0 0 0 3.5 2.05zM4 4H3V3h1zm7.5 6.05a1.45 1.45 0 1 0 1.45 1.45 1.45 1.45 0 0 0-1.45-1.45zM12 12h-1v-1h1zm-8.5-1.95a1.45 1.45 0 1 0 1.45 1.45 1.45 1.45 0 0 0-1.45-1.45zM4 12H3v-1h1zm-.5 6.05a1.45 1.45 0 1 0 1.45 1.45 1.45 1.45 0 0 0-1.45-1.45zM4 20H3v-1h1zM19.5 4.95a1.45 1.45 0 1 0-1.45-1.45 1.45 1.45 0 0 0 1.45 1.45zM19 3h1v1h-1zm.5 7.05a1.45 1.45 0 1 0 1.45 1.45 1.45 1.45 0 0 0-1.45-1.45zM20 12h-1v-1h1zm-8.5-9.95a1.45 1.45 0 1 0 1.45 1.45 1.45 1.45 0 0 0-1.45-1.45zM12 4h-1V3h1zm7.5 14.05a1.45 1.45 0 1 0 1.45 1.45 1.45 1.45 0 0 0-1.45-1.45zM20 20h-1v-1h1z"]},o={md:["M21 6H3V5h18zm0 6H3v1h18zm0 7H3v1h18z"]},p={sm:["M14.792 2.666l-1.414-1.413a.965.965 0 0 0-1.385-.03l-1.444 1.444-8.763 8.72L.03 15.481a.371.371 0 0 0 .488.488l4.096-1.756 8.763-8.72-.001-.001.002.002 1.443-1.444a.965.965 0 0 0-.03-1.385zM1.569 14.431l.554-1.293.74.739zm2.338-.924l-1.414-1.414 7.963-7.92 1.414 1.415zm8.67-8.626l-1.413-1.414 1.29-1.29a.306.306 0 0 1 .433 0l.981.98a.306.306 0 0 1 0 .433z"]},H={sm:["M9.85 9.153a5 5 0 1 0-.69.69l4.631 4.631.69-.69zm-1.02-.326A3.973 3.973 0 0 1 6 10a4.002 4.002 0 1 1 2.83-1.172z"],md:["M21.995 21.288l-6.855-6.855a7.517 7.517 0 1 0-.707.707l6.855 6.855zm-17.092-7.19a6.501 6.501 0 1 1 9.6-.45l-.854.855a6.501 6.501 0 0 1-8.746-.405z"]},t={sm:["M5.35 14.5a.85.85 0 1 1-.85-.85.851.851 0 0 1 .85.85zm7.15-.85a.85.85 0 1 0 .85.85.851.851 0 0 0-.85-.85zM15.109 4l-1.19 5.99-9.213 1.024-.727.643a.197.197 0 0 0-.054.217.195.195 0 0 0 .183.126H13v1H4.108a1.196 1.196 0 0 1-.792-2.092l.65-.574-.916-7.126a.249.249 0 0 0-.244-.217L.177 2.966l.046-.898 2.609.02a1.167 1.167 0 0 1 1.1 1L4.065 4zM13.89 5H4.208l.718 4.982 8.155-.905z"],md:["M19.93 19.07A1.497 1.497 0 0 0 18.5 18H6.416a.5.5 0 0 1-.422-.768l.793-1.25 14.11-1.01L23.141 6H5.345L5.06 4.37a1.51 1.51 0 0 0-1.307-1.23L2.543 3H1.24l-.097.847 2.497.286a.502.502 0 0 1 .435.41l1.9 10.853-.826 1.301A1.497 1.497 0 0 0 6 18.94v.153a1.5 1.5 0 1 0 1 0V19h11.5a.497.497 0 0 1 .356.15 1.502 1.502 0 1 0 1.074-.08zM5.52 7h16.34l-1.757 7.027-13.188.942zM7.1 20.2v.6a.3.3 0 0 1-.3.3h-.6a.3.3 0 0 1-.3-.3v-.6a.3.3 0 0 1 .3-.3h.6a.3.3 0 0 1 .3.3zm13 .6a.3.3 0 0 1-.3.3h-.6a.3.3 0 0 1-.3-.3v-.6a.3.3 0 0 1 .3-.3h.6a.3.3 0 0 1 .3.3z"],lg:["M27.964 25.259a1.591 1.591 0 0 0-.428-.794A1.574 1.574 0 0 0 26.415 24H6.54a.625.625 0 0 1-.476-1.032 142.875 142.875 0 0 0 1.692-1.992l19.161-2.017L29.11 8H6.72l-.14-1.375a2.56 2.56 0 0 0-2.186-2.277L4 4.29h-.001L1.979 4H1v1h.904l2.347.338a1.56 1.56 0 0 1 1.333 1.389l1.398 13.62c-.171.205-.598.71-1.677 1.97A1.626 1.626 0 0 0 6.541 25h19.874a.58.58 0 0 1 .198.04 2.015 2.015 0 1 0 1.351.219zM27.89 9l-1.808 9.041-18.136 1.91L6.823 9zm.21 18.3a.8.8 0 0 1-.8.8h-.6a.8.8 0 0 1-.8-.8v-.6a.8.8 0 0 1 .8-.8h.6a.8.8 0 0 1 .8.8zM6 27a2 2 0 1 0 2-2 2.002 2.002 0 0 0-2 2zm.9-.3a.8.8 0 0 1 .8-.8h.6a.8.8 0 0 1 .8.8v.6a.8.8 0 0 1-.8.8h-.6a.8.8 0 0 1-.8-.8z"]},h="esri-header-inline-title",m={},z=function(){var i=J("button",{class:h+"-control",id:h+"-control",tabindex:"-1",aria:{expanded:!1,controls:h+"-content"}});i.addEventListener("header:menu:open",function(e){te(i,"header:inlineTitle:activated",{event:e})}),i.addEventListener("click",function(e){te(i,"header:click:inlineTitle",{event:e}),te(i,"header:menu:toggle",{state:"menu",target:c,type:"inlineTitle",control:i,content:d,event:e})});var t=function(){te(i,"header:inlineTitle:deactivated",{event:event}),setTimeout(function(){i.focus()},0),te(i,"header:menu:toggle",{state:"menu",target:c,type:"inlineTitle",control:i,content:d,event:event})},e=function(e){m.newValue=n.value,e.keyCode&&13!==e.keyCode||(m.newValue&&" "!==m.newValue&&m.newValue!==m.text&&te(i,"header:title:submit",{title:m.newValue}),t())},n=J("input",{class:h+"-input",id:h+"-input",aria:{labelledby:h+"-input"}});n.addEventListener("keyup",e);var a=J("button",{class:h+"-action-button "+h+"-dismiss-button",aria:{labelledby:h+"-action-button"}},ne({imgDef:I.md,imgClass:h+"-dismiss-icon"}));a.addEventListener("click",t);var r=J("button",{class:h+"-action-button "+h+"-submit-button",aria:{labelledby:h+"-action-button"}},ne({imgDef:u.lg,imgClass:h+"-submit-icon"}));r.addEventListener("click",e);var o=J("div",{class:"esri-header-lineBreak "+h+"-lineBreak"}),l=J("div",{class:"esri-header-lineBreak "+h+"-lineBreak lineBreak-right"}),s=J("span",{class:h+"-actionButton-container"},a,r),d=J("div",{class:h+"-content",id:h+"-content",aria:{expanded:!1,labelledby:h+"-control"}},o,n,s,l),c=J("span",{class:h,id:h,aria:{expanded:!1}},i,d);c.addEventListener("header:inlineTitle:activated",function(e){n.value=m.text,c.setAttribute("aria-expanded","true"),setTimeout(function(){n.selectionStart=m.text.length,n.focus()},100)}),c.addEventListener("header:inlineTitle:deactivated",function(e){c.setAttribute("aria-expanded","false"),n.value=""});return c.addEventListener("header:update:inlineTitle",function(e){var t=e.detail;if(t.brandText){m.brandText&&m.pencilIcon?(m.brandText.parentNode.removeChild(m.brandText),m.pencilIcon.parentNode.removeChild(m.pencilIcon)):i.setAttribute("tabindex","0");var n=t.maxViewWidth||30;m.text=t.brandText,m.pencilIcon=ne({imgDef:p.sm,imgClass:h+"-edit-icon"}),m.brandText=J("span",{class:h+"-text",style:"max-width: "+n+"vw;"},t.brandText),t.titleFontSize&&(m.brandText.style.fontSize=t.titleFontSize+"px"),J(i,m.brandText,m.pencilIcon);var a=document.getElementById("esri-header-brand");a&&(a.classList.contains("-fit-burger")&&c.classList.add("-fit-burger"),a.parentElement.removeChild(a))}}),c},B="esri-header-branding-stripe",P="esri-header-menus",O=function(e){var t=e.variant,N=void 0===t?"desktop":t,i=J("div",{class:P,id:P+"-"+N});if(i.classList.add("-"+N),"mobile"===N){var n=J("button",{class:P+"-toggle",id:P+"-"+N+"-toggle",aria:{controls:P+"-content-"+N,expanded:!1,haspopup:!0,labelledby:"esri-header-brand"}});ne({imgDef:o.md,imgClass:P+"-image",id:P+"-image",$targetElm:n}),n.addEventListener("click",function(e){te(n,"header:menu:toggle",{control:n,content:a,root:!0,state:"menu",target:i,type:"root-toggle",event:e})}),J(i,n)}var a=J("div",{class:P+"-content",id:P+"-content-"+N,aria:{hidden:!0,expanded:!1}});J(i,a);var I=function(e){var t=void 0;if(t=e.props.href?J("a",{class:P+"-"+e.class,href:e.props.href},e.icon||"",e.label):J("button",{class:P+"-"+e.class},e.icon||"",e.label),e.id&&t.setAttribute("id",P+"-"+e.id),e.props.data)for(var n in e.props.data)t.setAttribute("data-"+n,e.props.data[n]);return e.props.newContext&&J(t,{target:"_blank",rel:"noopener"}),t},r=function(e){var t=e.heading?P+"-subitem--heading":"";return J("li",{class:P+"-subitem "+t},e.heading?J("p",{class:P+"-heading--label"},e.heading):"",I({class:"sublink",props:e,label:e.label}))},H=function(e){return e.length?J.apply(void 0,["div",{class:P+"-sublist--col"}].concat(X(e.map(r)))):null},z=function(e){var t=ne({imgDef:e.icon,imgClass:P+"-sublink-image",imgWidth:e.width,imgHeight:e.height});return J("li",{class:P+"-subitem--featured"},I({class:"sublink--featured",props:e,icon:t,label:J("span",{class:P+"-sublink-text"},e.label)}))};function B(e){var t=[].slice.call(document.querySelectorAll(".esri-header-menus-submenu")),n="disabled"!==e&&"init"!==e&&e.getAttribute("data-parent"),a=document.querySelector("#"+n);if("init"===e){var i=[].slice.call(document.querySelectorAll(".esri-header-menus-flyout"));i.length&&i.forEach(function(e){var t=[].slice.call(e.querySelectorAll(".esri-header-menus-flyout--categories-item")),n=document.querySelector("#"+t[0].getAttribute("data-parent"));"1"===[].slice.call(e.querySelectorAll(".esri-header-menus-flyout--list-items"))[0].getAttribute("data-coltype")&&n.setAttribute("data-single","")})}else"disabled"===e?t.forEach(function(e){e.removeAttribute("data-single")}):a.setAttribute("data-single","")}function O(t,e,n,a,i){var r=[],o=[],l="";switch(e){case"category":t.cols.length&&t.cols.forEach(function(e){l=J("li",{class:P+"-flyout--categories-item","data-id":n,"aria-current":0===n?"true":"false","data-parent":P+"-"+N+"-submenu-"+a+"-"+i},J("button",{class:P+"-flyout--categories-item_header",click:function(e){var t,n,a,i,r,o,l,s,d,c,u;n=(t=e).target.parentNode.querySelector(".esri-header-menus-flyout--categories-details[aria-expanded]"),a=t.target.parentNode.querySelector(".esri-header-menus-flyout--categories-item_header"),i="false"===n.getAttribute("aria-expanded")?"true":"false",r=[].slice.call(t.target.parentNode.querySelectorAll(".esri-header-menus-flyout--categories-details_item")),o=window.getComputedStyle(r[0]),l=parseInt(o.height)*r.length,s=parseInt(o.marginTop)*r.length+parseInt(o.marginTop),d=[].slice.call(document.querySelectorAll(".esri-header-menus-flyout--categories-item_header")),c=[].slice.call(document.querySelectorAll(".esri-header-menus-flyout--categories-item")),u=[].slice.call(document.querySelectorAll(".esri-header-menus-flyout--list-items")),window.innerWidth<1024?([].slice.call(document.querySelectorAll(".esri-header-menus-flyout--categories-details[aria-expanded]")).forEach(function(e){e.setAttribute("aria-expanded","false"),e.style.height="0"}),n.setAttribute("aria-expanded",""+i),"true"===i?(n.style.height=l+s+"px",d.forEach(function(e){e.setAttribute("aria-current","false")}),a.setAttribute("aria-current","true")):(n.style.height="0",a.setAttribute("aria-current","false"))):c.forEach(function(e,r){e.addEventListener("click",function(e){var t=e.target.parentNode,n=t.getAttribute("data-id"),a=u[r].getAttribute("data-id"),i=u[r].getAttribute("data-coltype");u.forEach(function(e,t){e.setAttribute("aria-current","false"),c[t].setAttribute("aria-current","false")}),n===a&&(B("1"===i?t:"disabled"),t.setAttribute("aria-current","true"),u[r].setAttribute("aria-current","true"))})})}},t.category)),e.col.forEach(function(e){o.push(J("a",{href:e.href,class:P+"-flyout--categories-details_item","data-heading":e.heading?"true":"false"},e.heading&&J("p",{class:P+"-flyout--categories-details_heading"},e.heading),e.label&&J("p",{class:P+"-flyout--categories-details_label"},e.label)))})}),r.push(J(l,J.apply(void 0,["div",{class:P+"-flyout--categories-details","aria-expanded":"false"}].concat(o))));break;case"label":t.cols&&t.cols.length&&t.cols.forEach(function(e){var t=J("ul",{class:P+"-flyout--list-items_column"});e.col.forEach(function(e){r.push(J(t,J("li",{class:P+"-flyout--list-items_name"},J("a",{href:e.href,class:P+"-flyout--list-items_anchor","data-heading":e.heading?"true":"false"},e.heading&&J("p",{class:P+"-flyout--list-items_heading"},e.heading),e.label&&J("p",{class:P+"-flyout--list-items_label"},e.label)))))})})}return r}function q(e){var t=[];return e.map(function(e){e.heading&&t.push(J("li",{class:P+"-entry--heading"},J("p",{class:P+"-entry--heading-label"},e.heading))),e.href&&e.label&&t.push(J("li",{class:P+"-entry--menus-subitem"},J("a",{href:e.href,class:P+"-entry-sublink"},e.label)))}),t}function Y(e){var t=[];return e.forEach(function(e){e.heading&&t.push(J("li",{class:P+"-entry--heading"},J("p",{class:P+"-entry--heading-label"},e.heading))),e.href&&e.label&&t.push(J("li",{class:P+"-entry--menus-subitem"},J("a",{href:e.href,class:P+"-entry-sublink"},J("p",{class:P+"-entry-sublink--title"},e.label),e.description?J("p",{class:P+"-sublink--description"},e.description):null)))}),t}return i.addEventListener("header:update:menus",function(e){var t=e.detail;t.noBrand&&i.classList.add("-no-brand"),ee.apply(void 0,[a].concat(X(t.map(function(e,_){return J("div",{class:P+"-menu",role:"group"},J.apply(void 0,["ul",{class:P+"-list",aria:{labelledby:"esri-header-brand"}}].concat(X(e.map(function(e,t){var n,a,i,r,o,l,s,d,c,u,p,h,m,f,g,v,b=e.icon?ne({imgDef:e.icon.path,imgClass:P+"-link-icon",imgWidth:e.icon.width||"16px",imgHeight:e.icon.height||"16px"}):null,y=I({class:"link "+(e.hideLabelInDesktop?"-hide-label":"")+" "+(e.active?"-is-active":""),id:"link-"+N+"-"+_+"-"+t,props:e,icon:b,label:J("span",{class:P+"-link-label"},e.label)}),w=J("li",{class:P+"-item"},y),E=e.menus&&e.menus.length,x=e.cols&&e.cols.length,L=e.flyout&&e.flyout.length,C=e.tiles&&e.tiles.length;if(E||x||C||L){var A=J("button",{class:P+"-submenu-toggle"},e.label),k=x&&0<e.cols.filter(function(e){return"structured"===e.type}).length,S=!1,D=0;if(E){var T=e.menus.length;10<T&&(S=T%3==0,D=Math.min(Math.ceil(T/9),3))}var M=J("div",{class:P+"-submenu",id:P+"-"+N+"-submenu-"+_+"-"+t,"data-has-structured":L?"false":k,"data-has-flyout":L?"true":"false",role:"group",aria:{hidden:!0,expanded:!1},data:{filled:E&&Math.min(e.menus.length,30)||"",structuredCols:x||"",hasMultiCols:S,columns:D}},A);L?(p=(u={$subcontent:M,item:e,uuid:_,suuid:t}).$subcontent,h=u.item,m=u.uuid,f=u.suuid,g=J("ul",{class:P+"-flyout--categories"}),v=J("div",{class:P+"-flyout--list"}),h.flyout.forEach(function(e,t){J.apply(void 0,[g].concat(X(O(e,"category",t,m,f)))),J(v,J.apply(void 0,["div",{class:P+"-flyout--list-items","data-id":t,"data-coltype":e.cols.length,"aria-current":0===t?"true":"false"}].concat(X(O(e,"label",t,m,f)))))}),J(p,J("div",{class:P+"-flyout"},J("div",{class:P+"-flyout--categories-wrapper"},g),v))):x?(o=(r={$subcontent:M,item:e,uuid:_,suuid:t}).$subcontent,l=r.item,s=r.uuid,d=r.suuid,c=J("div",{class:P+"-sublist--col-wrapper"}),l.cols&&(l.cols.forEach(function(e){var t="standard",n=q,a=e.border||"false";switch(e.type){case"structured":t="structured",n=Y}J(c,J("div",{class:P+"-sublist--col","data-coltype":t,"data-menuborder":a},J.apply(void 0,["ul",{class:P+"-sublist","data-menutype":t,aria:{labelledby:P+"-link-"+N+"-"+s+"-"+d}}].concat(X(n(e.items))))))}),J(o,J("div",{class:P+"-sublist"},c)))):E?function(e){var t=e.hasMenuItems,n=e.$subcontent,a=e.item,i=e.uuid,r=e.suuid,o="";if(10<=a.menus.length&&a.menus.length<=18){var l=Math.ceil(a.menus.length/2);o=J("div",{class:P+"-sublist--col-wrapper "+P+"-columns-2"},H(a.menus.slice(0,l)),H(a.menus.slice(l,a.menus.length)))}else if(18<a.menus.length&&a.menus.length<=27){var s=Math.ceil(a.menus.length/3);o=J("div",{class:P+"-sublist--col-wrapper "+P+"-columns-3"},H(a.menus.slice(0,s)),H(a.menus.slice(s,2*s)),H(a.menus.slice(2*s,a.menus.length)))}else t&&(o=J("div",{class:P+"-sublist--col-wrapper"},H(a.menus.slice(0,a.menus.length))));J(n,J("ul",{class:P+"-sublist",aria:{labelledby:P+"-link-"+N+"-"+i+"-"+r}},J(o)))}({hasMenuItems:E,$subcontent:M,item:e,uuid:_,suuid:t}):C&&J(M,(n=e.tiles,a=_,i=t,n.length?J.apply(void 0,["ul",{class:P+"-sublist--featured",aria:{labelledby:P+"-link-"+N+"-"+a+"-"+i},data:{filled:""+n.slice(0,4).length}}].concat(X(n.slice(0,4).map(z)))):null)),J(w,M),y.addEventListener("click",function(e){var n,t;te(y,"header:menu:toggle",{control:y,content:M,submenu:!0,state:"menu",type:"menu-toggle"}),B("init"),n=[].slice.call(document.querySelectorAll(".esri-header-menus-flyout--categories-item")),(t=[].slice.call(document.querySelectorAll(".esri-header-menus-flyout--list-items"))).length&&t.forEach(function(e,t){n[t].setAttribute("aria-current","false"),e.setAttribute("aria-current","false"),e.hasAttribute("data-id")&&"0"===e.getAttribute("data-id")&&n[t].hasAttribute("data-id")&&"0"===n[t].getAttribute("data-id")&&(n[t].setAttribute("aria-current","true"),e.setAttribute("aria-current","true"))})}),A.addEventListener("click",function(){var e,t;te(A,"header:menu:close",{control:y,submenu:!0,content:M,type:"menu-close"}),e=[].slice.call(document.querySelectorAll(".esri-header-menus-flyout--categories-item_header")),t=[].slice.call(document.querySelectorAll(".esri-header-menus-flyout--categories-details")),e.forEach(function(e){e.setAttribute("aria-current","false")}),t.forEach(function(e){e.setAttribute("aria-expanded","false"),e.style.height="0"})})}return w})))))}))))}),i.addEventListener("header:update:collapseMenus",function(e){var t=e.detail;if(t&&-1<t.indexOf(!0)){var n=document.getElementById("esri-header-brand")||document.getElementById("esri-header-inline-title");document.querySelector(".esri-header-menus-toggle").classList.add("-visible"),n.classList.add("-fit-burger"),document.getElementById("esri-header-menus-mobile").classList.add("-always-hamburger");var a=[].slice.call(i.querySelectorAll(".esri-header-menus-menu"));t.forEach(function(e,t){e&&a[t].classList.add("-collapsed")})}}),i},l="esri-header-search",q=function(){var i=J("button",{class:l+"-control",id:l+"-control",aria:{expanded:!1,controls:l+"-content"}});i.addEventListener("click",function(e){te(i,"header:click:search",{event:e}),te(i,"header:menu:toggle",{control:i,content:r,state:"search",target:t,type:"search-toggle",event:e})});var r=J("div",{class:l+"-content",id:l+"-content",aria:{expanded:!1,labelledby:l+"-control"}}),t=J("div",{class:l},i,r);return t.addEventListener("header:update:search",function(e){var t=e.detail;if(t.hide)i.setAttribute("tabindex","-1");else if(J(i,{aria:{label:t.label}}),ne({imgDef:H.md,imgClass:l+"-image",id:l+"-image",$targetElm:i}),t.dialog){t.dialog.prefix="esri-header-search-dialog";var n=function(a){var i=J("label",{class:a.prefix+"-label",for:a.prefix+"-query-control"},a.queryLabel),r=J("input",{class:a.prefix+"-control",id:a.prefix+"-query-control",type:"search",name:"q",autocapitalize:"off",autocomplete:"off",autocorrect:"off",spellcheck:"false"}),o=document.createTextNode(""),l=J("div",{class:a.prefix+"-measure-text",aria:{hidden:!0}},o),s=J("div",{class:a.prefix+"-measure"},l),d=J("button",{class:a.prefix+"-submit",type:"submit",aria:{label:a.submitLabel}}),c=J("form",{class:a.prefix+"-form",action:a.action,role:"search",aria:{label:a.label}},i,r,s,d);c.addEventListener(a.prefix+":focus",function(){r.focus()});var u=!1,p="";function e(e){e&&"reset"===e.type&&(r.value="");var t=r.value;t!==p&&(p=t,te(c,a.prefix+":input",{value:p,event:e})),u&&!t?(u=!1,i.removeAttribute("data-filled"),d.removeAttribute("data-filled")):!u&&t&&(u=!0,J(i,{data:{filled:""}}),J(d,{data:{filled:""}})),o.nodeValue=t;var n=l.scrollWidth+"px";s.style.width=n}function t(e){te(c,a.prefix+":submit",{value:r.value,event:e})}return c.addEventListener("DOMNodeInserted",function e(){c.parentNode&&(c.removeEventListener("DOMNodeInserted",e),te(c,a.prefix+":update",a))}),c.addEventListener(a.prefix+":update",function(){c.ownerDocument.defaultView.matchMedia(a.matchMedia||"(max-width: 720px)").addListener(e),r.addEventListener("input",e),c.addEventListener("reset",e),c.addEventListener("submit",t),c.addEventListener(a.prefix+":unload",onunload)}),c}(t.dialog),a=J("button",{class:"esri-header-search-dialog-cancel",type:"reset"},J("span",t.dialog.cancelLabel));a.addEventListener("click",function(e){te(i,"header:menu:close",{control:i,content:r,state:"search",type:"search-close",event:e})}),J(n,a),ee(r,n),i.addEventListener("click",function(e){"true"===i.getAttribute("aria-expanded")&&te(n,t.dialog.prefix+":focus",{event:e})})}}),t},Y="esri-header-inlineSearch",V={},W="esri-header-shopping-cart";var e,n,ie=(function(e){var t;t=function(){if("undefined"==typeof window||!window.document)return function(){throw new Error("Sortable.js requires a window with a document")};var $,j,U,p,G,K,u,M,_,N,Z,a,Q,J,l,s,d,h,I,ee,te,ne,ae,ie,re,H=[],oe=!1,m=!1,le=!1,c=[],se=!1,de=!1,i=/\s+/g,ce="Sortable"+(new Date).getTime(),ue=window,pe=ue.document,f=ue.parseInt,he=ue.setTimeout,t=ue.jQuery||ue.Zepto,n=ue.Polymer,r={capture:!1,passive:!1},me=!!navigator.userAgent.match(/(?:Trident.*rv[ :]?11\.|msie|iemobile)/i),g=!!navigator.userAgent.match(/Edge/i),v=g||me?"cssFloat":"float",o="draggable"in pe.createElement("div"),b=function(){if(me)return!1;var e=pe.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}(),fe=!1,y=!1,ge=Math.abs,w=Math.min,E=[],x=function(e,t){var n=O(e),a=f(n.width),i=P(e,0,t),r=P(e,1,t),o=i&&O(i),l=r&&O(r),s=o&&f(o.marginLeft)+f(o.marginRight)+_e(i).width,d=l&&f(l.marginLeft)+f(l.marginRight)+_e(r).width;return"flex"===n.display?"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal":i&&("block"===o.display||"flex"===o.display||"table"===o.display||"grid"===o.display||a<=s&&"none"===n[v]||r&&"none"===n[v]&&a<s+d)?"vertical":"horizontal"},ve=function(e,t){if(!e||!e.getBoundingClientRect)return ue;var n=e,a=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var i=O(n);if(n.clientWidth<n.scrollWidth&&("auto"==i.overflowX||"scroll"==i.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==i.overflowY||"scroll"==i.overflowY)){if(!n||!n.getBoundingClientRect||n===pe.body)return ue;if(a||t)return n;a=!0}}}while(n=n.parentNode);return ue},L=F(function(n,e,t,a){if(e.scroll){var i=t?t[ce]:window,r=e.scrollSensitivity,o=e.scrollSpeed,l=n.clientX,s=n.clientY,d=(window.innerWidth,window.innerHeight,!1);_!==t&&(z(),M=e.scroll,N=e.scrollFn,!0===M&&(M=ve(t,!0),_=M));var c=0,u=M;do{var p,h,m,f,g,v,b,y,w,E=u,x=_e(E),L=x.top,C=x.bottom,A=x.left,k=x.right,S=x.width,D=x.height;if(w=E!==ue?(p=E.scrollWidth,h=E.scrollHeight,m=O(E),v=S<p&&("auto"===m.overflowX||"scroll"===m.overflowX),b=D<h&&("auto"===m.overflowY||"scroll"===m.overflowY),y=E.scrollLeft,E.scrollTop):(p=pe.documentElement.scrollWidth,h=pe.documentElement.scrollHeight,m=O(pe.documentElement),v=S<p&&("auto"===m.overflowX||"scroll"===m.overflowX||"visible"===m.overflowX),b=D<h&&("auto"===m.overflowY||"scroll"===m.overflowY||"visible"===m.overflowY),y=pe.documentElement.scrollLeft,pe.documentElement.scrollTop),f=v&&(ge(k-l)<=r&&y+S<p)-(ge(A-l)<=r&&!!y),g=b&&(ge(C-s)<=r&&w+D<h)-(ge(L-s)<=r&&!!w),!H[c])for(var T=0;T<=c;T++)H[T]||(H[T]={});H[c].vx==f&&H[c].vy==g&&H[c].el===E||(H[c].el=E,H[c].vx=f,H[c].vy=g,clearInterval(H[c].pid),!E||0==f&&0==g||(d=!0,H[c].pid=setInterval(function(){a&&0===this.layer&&we.active._emulateDragOver(!0);var e=H[this.layer].vy?H[this.layer].vy*o:0,t=H[this.layer].vx?H[this.layer].vx*o:0;"function"==typeof N&&"continue"!==N.call(i,t,e,n,I,H[this.layer].el)||(H[this.layer].el===ue?ue.scrollTo(ue.pageXOffset+t,ue.pageYOffset+e):(H[this.layer].el.scrollTop+=e,H[this.layer].el.scrollLeft+=t))}.bind({layer:c}),24))),c++}while(e.bubbleScroll&&u!==ue&&(u=ve(u,!1)));oe=d}},30),z=function(){H.forEach(function(e){clearInterval(e.pid)}),H=[]},C=function(e){function s(o,l){return function(e,t,n,a){var i=e.options.group.name&&t.options.group.name&&e.options.group.name===t.options.group.name;if(null==o&&(l||i))return!0;if(null==o||!1===o)return!1;if(l&&"clone"===o)return o;if("function"==typeof o)return s(o(e,t,n,a),l)(e,t,n,a);var r=(l?e:t).options.group.name;return!0===o||"string"==typeof o&&o===r||o.join&&-1<o.indexOf(r)}}var t={},n=e.group;n&&"object"==(void 0===n?"undefined":Ne(n))||(n={name:n}),t.name=n.name,t.checkPull=s(n.pull,!0),t.checkPut=s(n.put),t.revertClone=n.revertClone,e.group=t},A=function(e){$&&$.parentNode&&$.parentNode[ce]&&$.parentNode[ce]._computeIsAligned(e)},be=function(e,t){for(var n=t;!n[ce];)n=n.parentNode;return e===n},ye=function(e,t,n){for(var a=e.parentNode;a&&!a[ce];)a=a.parentNode;a&&a[ce][n](R(t,{artificialBubble:!0}))},k=function(){!b&&U&&O(U,"display","none")},S=function(){!b&&U&&O(U,"display","")};pe.addEventListener("click",function(e){if(le)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),le=!1},!0);var D,e=function(e){if($){var t=function(e,t){for(var n=0;n<c.length;n++)if(!c[n].children.length){var a=_e(c[n]),i=c[n][ce].options.emptyInsertThreshold,r=e>=a.left-i&&e<=a.right+i,o=t>=a.top-i&&t<=a.bottom+i;if(r&&o)return c[n]}}(e.clientX,e.clientY);t&&t[ce]._onDragOver({clientX:e.clientX,clientY:e.clientY,target:t,rootEl:t})}};function we(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be HTMLElement, not "+{}.toString.call(e);this.el=e,this.options=t=R({},t),e[ce]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,scroll:!0,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0,draggable:/[uo]l/i.test(e.nodeName)?"li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return x(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,touchStartThreshold:f(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==we.supportPointer&&("PointerEvent"in window||window.navigator&&"msPointerEnabled"in window.navigator),emptyInsertThreshold:5};for(var a in n)!(a in t)&&(t[a]=n[a]);for(var i in C(t),this)"_"===i.charAt(0)&&"function"==typeof this[i]&&(this[i]=this[i].bind(this));this.nativeDraggable=!t.forceFallback&&o,t.supportPointer?T(e,"pointerdown",this._onTapStart):(T(e,"mousedown",this._onTapStart),T(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(T(e,"dragover",this),T(e,"dragenter",this)),c.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[])}function Ee(e,t,n,a){if(e){n=n||pe;do{if(">*"===t&&e.parentNode===n||W(e,t)||a&&e===n)return e;if(e===n)break}while(e=(i=e).host&&i!==pe&&i.host.nodeType?i.host:i.parentNode)}var i;return null}function T(e,t,n){e.addEventListener(t,n,r)}function B(e,t,n){e.removeEventListener(t,n,r)}function xe(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var a=(" "+e.className+" ").replace(i," ").replace(" "+t+" "," ");e.className=(a+(n?" "+t:"")).replace(i," ")}}function O(e,t,n){var a=e&&e.style;if(a){if(void 0===n)return pe.defaultView&&pe.defaultView.getComputedStyle?n=pe.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),void 0===t?n:n[t];t in a||-1!==t.indexOf("webkit")||(t="-webkit-"+t),a[t]=n+("string"==typeof n?"":"px")}}function q(e){var t="";do{var n=O(e,"transform");n&&"none"!==n&&(t=n+" "+t)}while(e=e.parentNode);return window.DOMMatrix?new DOMMatrix(t):window.WebKitCSSMatrix?new WebKitCSSMatrix(t):window.CSSMatrix?new CSSMatrix(t):void 0}function Y(e,t,n){if(e){var a=e.getElementsByTagName(t),i=0,r=a.length;if(n)for(;i<r;i++)n(a[i],i);return a}return[]}function Le(e,t,n,a,i,r,o,l,s){var d,c=(e=e||t[ce]).options,u="on"+n.charAt(0).toUpperCase()+n.substr(1);!window.CustomEvent||me||g?(d=pe.createEvent("Event")).initEvent(n,!0,!0):d=new CustomEvent(n,{bubbles:!0,cancelable:!0}),d.to=i||t,d.from=r||t,d.item=a||t,d.clone=p,d.oldIndex=o,d.newIndex=l,d.originalEvent=s,t&&t.dispatchEvent(d),c[u]&&c[u].call(e,d)}function Ce(e,t,n,a,i,r,o,l){var s,d,c=e[ce],u=c.options.onMove;return!window.CustomEvent||me||g?(s=pe.createEvent("Event")).initEvent("move",!0,!0):s=new CustomEvent("move",{bubbles:!0,cancelable:!0}),s.to=t,s.from=e,s.dragged=n,s.draggedRect=a,s.related=i||t,s.relatedRect=r||_e(t),s.willInsertAfter=l,s.originalEvent=o,e.dispatchEvent(s),u&&(d=u.call(c,s,o)),d}function X(e){e.draggable=!1}function Ae(){fe=!1}function P(e,t,n){for(var a=0,i=0,r=e.children;i<r.length;){if("none"!==r[i].style.display&&r[i]!==U&&r[i]!==$&&Ee(r[i],n.draggable,e,!1)){if(a===t)return r[i];a++}i++}return null}function ke(e){var t=e.lastElementChild;return t===U&&(t=e.children[e.childElementCount-2]),t||null}function V(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,a=0;n--;)a+=t.charCodeAt(n);return a.toString(36)}function Se(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e&&(e=e.previousElementSibling);)"TEMPLATE"!==e.nodeName.toUpperCase()&&e!==p&&n++;return n}function W(e,t){if(e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(e){return!1}return!1}function F(n,a){return function(){if(!D){var e=arguments,t=this;D=he(function(){1===e.length?n.call(t,e[0]):n.apply(t,e),D=void 0},a)}}}function R(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function De(e){return n&&n.dom?n.dom(e).cloneNode(!0):t?t(e).clone(!0)[0]:e.cloneNode(!0)}function Te(e){return he(e,0)}function Me(e){return clearTimeout(e)}function _e(e,t,n){if(e.getBoundingClientRect||e===ue){var a,i,r,o,l,s,d;if(d=e!==ue?(i=(a=e.getBoundingClientRect()).top,r=a.left,o=a.bottom,l=a.right,s=a.height,a.width):(r=i=0,o=window.innerHeight,l=window.innerWidth,s=window.innerHeight,window.innerWidth),n&&e!==ue){if(t=t||e.parentNode,!me)do{if(t&&t.getBoundingClientRect&&"none"!==O(t,"transform")){var c=t.getBoundingClientRect();i-=c.top+f(O(t,"border-top-width")),r-=c.left+f(O(t,"border-left-width")),o=i+a.height,l=r+a.width;break}}while(t=t.parentNode);var u=q(e),p=u&&u.a,h=u&&u.d;u&&(o=(i/=h)+(s/=h),l=(r/=p)+(d/=p))}return{top:i,left:r,bottom:o,right:l,width:d,height:s}}}return pe.addEventListener("dragover",e),pe.addEventListener("mousemove",e),we.prototype={constructor:we,_computeIsAligned:function(e){var t;if(U&&!b?(k(),t=pe.elementFromPoint(e.clientX,e.clientY),S()):t=e.target,t=Ee(t,this.options.draggable,this.el,!1),!y&&$&&$.parentNode===this.el){for(var n,a,i,r,o,l,s,d,c=this.el.children,u=0;u<c.length;u++)Ee(c[u],this.options.draggable,this.el,!1)&&c[u]!==t&&(c[u].sortableMouseAligned=(n=e.clientX,a=e.clientY,i=c[u],r=this._getDirection(e,null),this.options,void 0,o=_e(i),l="vertical"===r?o.left:o.top,s="vertical"===r?o.right:o.bottom,l<(d="vertical"===r?n:a)&&d<s));Ee(t,this.options.draggable,this.el,!0)||(te=null),y=!0,he(function(){y=!1},30)}},_getDirection:function(e,t){return"function"==typeof this.options.direction?this.options.direction.call(this,e,t,$):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t,n=this,a=this.el,i=this.options,r=i.preventOnFilter,o=e.type,l=e.touches&&e.touches[0],s=(l||e).target,d=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||s,c=i.filter;if(function(e){E.length=0;var t=e.getElementsByTagName("input"),n=t.length;for(;n--;){var a=t[n];a.checked&&E.push(a)}}(a),(!me||e.artificialBubble||be(a,s))&&!$&&!(/mousedown|pointerdown/.test(o)&&0!==e.button||i.disabled||d.isContentEditable))if(s=Ee(s,i.draggable,a,!1)){if(u!==s){if(t=Se(s,i.draggable),"function"==typeof c){if(c.call(this,e,s,this))return Le(n,d,"filter",s,a,a,t),void(r&&e.cancelable&&e.preventDefault())}else if(c&&(c=c.split(",").some(function(e){if(e=Ee(d,e.trim(),a,!1))return Le(n,e,"filter",s,a,a,t),!0})))return void(r&&e.cancelable&&e.preventDefault());i.handle&&!Ee(d,i.handle,a,!1)||this._prepareDragStart(e,l,s,t)}}else me&&ye(a,e,"_onTapStart")}},_handleAutoScroll:function(t,n){if($&&this.options.scroll){var a=t.clientX,i=t.clientY,e=pe.elementFromPoint(a,i),r=this;if(n||g||me){L(t,r.options,e,n);var o=ve(e,!0);!oe||l&&a===s&&i===d||(l&&clearInterval(l),l=setInterval(function(){if($){var e=ve(pe.elementFromPoint(a,i),!0);e!==o&&(o=e,z(),L(t,r.options,o,n))}},10),s=a,d=i)}else{if(!r.options.bubbleScroll||ve(e,!0)===window)return void z();L(t,r.options,ve(e,!1),!1)}}},_prepareDragStart:function(e,t,n,a){var i,r=this,o=r.el,l=r.options,s=o.ownerDocument;n&&!$&&n.parentNode===o&&(G=o,j=($=n).parentNode,K=$.nextSibling,u=n,Q=l.group,Z=a,h={target:$,clientX:(t||e).clientX,clientY:(t||e).clientY},this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,$.style["will-change"]="all",$.style.transition="",$.style.transform="",i=function(){r._disableDelayedDrag(),$.draggable=r.nativeDraggable,r._triggerDragStart(e,t),Le(r,G,"choose",$,G,G,Z),xe($,l.chosenClass,!0)},l.ignore.split(",").forEach(function(e){Y($,e.trim(),X)}),l.supportPointer?(T(s,"pointerup",r._onDrop),T(s,"pointercancel",r._onDrop)):(T(s,"mouseup",r._onDrop),T(s,"touchend",r._onDrop),T(s,"touchcancel",r._onDrop)),l.delay?(T(s,"mouseup",r._disableDelayedDrag),T(s,"touchend",r._disableDelayedDrag),T(s,"touchcancel",r._disableDelayedDrag),T(s,"mousemove",r._delayedDragTouchMoveHandler),T(s,"touchmove",r._delayedDragTouchMoveHandler),l.supportPointer&&T(s,"pointermove",r._delayedDragTouchMoveHandler),r._dragStartTimer=he(i,l.delay)):i())},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;w(ge(t.clientX-this._lastX),ge(t.clientY-this._lastY))>=this.options.touchStartThreshold&&this._disableDelayedDrag()},_disableDelayedDrag:function(){var e=this.el.ownerDocument;clearTimeout(this._dragStartTimer),B(e,"mouseup",this._disableDelayedDrag),B(e,"touchend",this._disableDelayedDrag),B(e,"touchcancel",this._disableDelayedDrag),B(e,"mousemove",this._delayedDragTouchMoveHandler),B(e,"touchmove",this._delayedDragTouchMoveHandler),B(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||("touch"==e.pointerType?e:null),!this.nativeDraggable||t?this.options.supportPointer?T(pe,"pointermove",this._onTouchMove):T(pe,t?"touchmove":"mousemove",this._onTouchMove):(T($,"dragend",this),T(G,"dragstart",this._onDragStart));try{pe.selection?Te(function(){pe.selection.empty()}):window.getSelection().removeAllRanges()}catch(e){}},_dragStarted:function(e){if(m=!1,G&&$){this.nativeDraggable&&(T(pe,"dragover",this._handleAutoScroll),T(pe,"dragover",A));var t=this.options;!e&&xe($,t.dragClass,!1),xe($,t.ghostClass,!0),O($,"transform",""),we.active=this,e&&this._appendGhost(),Le(this,G,"start",$,G,G,Z)}else this._nulling()},_emulateDragOver:function(e){if(I){if(this._lastX===I.clientX&&this._lastY===I.clientY&&!e)return;this._lastX=I.clientX,this._lastY=I.clientY,k();for(var t=pe.elementFromPoint(I.clientX,I.clientY),n=t;t&&t.shadowRoot;)n=t=t.shadowRoot.elementFromPoint(I.clientX,I.clientY);if(n)do{if(n[ce])if(n[ce]._onDragOver({clientX:I.clientX,clientY:I.clientY,target:t,rootEl:n})&&!this.options.dragoverBubble)break;t=n}while(n=n.parentNode);$.parentNode[ce]._computeIsAligned(I),S()}},_onTouchMove:function(e){if(h){if(!e.cancelable)return;var t=this.options,n=t.fallbackTolerance,a=t.fallbackOffset,i=e.touches?e.touches[0]:e,r=U&&q(U),o=U&&r&&r.a,l=U&&r&&r.d,s=(i.clientX-h.clientX+a.x)/(o||1),d=(i.clientY-h.clientY+a.y)/(l||1),c=e.touches?"translate3d("+s+"px,"+d+"px,0)":"translate("+s+"px,"+d+"px)";if(!we.active&&!m){if(n&&w(ge(i.clientX-this._lastX),ge(i.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}this._handleAutoScroll(i,!0),ee=!0,I=i,O(U,"webkitTransform",c),O(U,"mozTransform",c),O(U,"msTransform",c),O(U,"transform",c),e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!U){var e=_e($,this.options.fallbackOnBody?pe.body:G,!0),t=(O($),this.options);xe(U=$.cloneNode(!0),t.ghostClass,!1),xe(U,t.fallbackClass,!0),xe(U,t.dragClass,!0),O(U,"box-sizing","border-box"),O(U,"margin",0),O(U,"top",e.top),O(U,"left",e.left),O(U,"width",e.width),O(U,"height",e.height),O(U,"opacity","0.8"),O(U,"position","fixed"),O(U,"zIndex","100000"),O(U,"pointerEvents","none"),t.fallbackOnBody&&pe.body.appendChild(U)||G.appendChild(U)}},_onDragStart:function(e,t){var n=this,a=e.dataTransfer,i=n.options;(p=De($)).draggable=!1,p.style["will-change"]="",this._hideClone(),xe(p,n.options.chosenClass,!1),n._cloneId=Te(function(){n.options.removeCloneOnHide||G.insertBefore(p,$),Le(n,G,"clone",$)}),!t&&xe($,i.dragClass,!0),t?(le=!0,n._loopId=setInterval(n._emulateDragOver,50)):(B(pe,"mouseup",n._onDrop),B(pe,"touchend",n._onDrop),B(pe,"touchcancel",n._onDrop),B(pe,"pointercancel",n._onDrop),a&&(a.effectAllowed="move",i.setData&&i.setData.call(n,a,$)),T(pe,"drop",n),O($,"transform","translateZ(0)")),m=!0,n._dragStartId=Te(n._dragStarted.bind(n,t)),T(pe,"selectstart",n)},_onDragOver:function(e){var t,n,a,i=this.el,r=e.target,o=this.options,l=o.group,s=we.active,d=Q===l,c=o.sort,u=this;if(!fe&&(!me||e.rootEl||e.artificialBubble||be(i,r))){if(void 0!==e.preventDefault&&e.cancelable&&e.preventDefault(),ee=!0,r=Ee(r,o.draggable,i,!0),Ee(e.target,null,$,!0)||r.animated)return F();if(r!==$&&(le=!1),s&&!o.disabled&&(d?c||(a=!G.contains($)):J===this||(this.lastPutMode=Q.checkPull(this,s,$,e))&&l.checkPut(this,s,$,e))){var p=this._getDirection(e,r);if(t=_e($),a)return this._hideClone(),j=G,K?G.insertBefore($,K):G.appendChild($),F();if(0===i.children.length||i.children[0]===U||(B=e,O=p,q=_e(ke(i)),Y="vertical"===O?B.clientY:B.clientX,X="vertical"===O?B.clientX:B.clientY,P="vertical"===O?q.bottom:q.right,V="vertical"===O?q.left:q.top,W="vertical"===O?q.right:q.bottom,V<X&&X<W&&P<Y&&!$.animated)){if(0!==i.children.length&&i.children[0]!==U&&i===e.target&&(r=ke(i)),r&&(n=_e(r)),d?s._hideClone():s._showClone(this),!1!==Ce(G,i,$,t,r,n,e,!!r))return i.appendChild($),j=i,re=null,R(),this._animate(t,$),r&&this._animate(n,r),F()}else if(r&&r!==$&&void 0!==r.parentNode[ce]&&r!==i){var h,m=0,f=r.sortableMouseAligned,g=$.parentNode!==i,v=function(e,t){var n=ve(n,!0),a=_e(e)[t];for(;n;){var i=_e(n)[t];if(!("top"===t||"left"===t?i<=a:a<=i))return!0;if(n===ue)break;n=ve(n,!1)}return!1}(r,"vertical"===p?"top":"left");if(te!==r&&(ae=null,h=_e(r)["vertical"===p?"top":"left"],se=!1),k=r,S=p,D=(A=$)===$&&re||_e(A),T=k===$&&re||_e(k),M="vertical"===S?D.left:D.top,_="vertical"===S?D.right:D.bottom,N="vertical"===S?D.width:D.height,I="vertical"===S?T.left:T.top,H="vertical"===S?T.right:T.bottom,z="vertical"===S?T.width:T.height,ae=(M===I||_===H||M+N/2===I+z/2)&&f||g||v||o.invertSwap||"insert"===ae||"swap"===ae?("swap"!==ae&&(de=o.invertSwap||g||oe||v),m=function(e,t,n,a,i,r,o){var l=_e(t),s="vertical"===n?e.clientY:e.clientX,d="vertical"===n?l.height:l.width,c="vertical"===n?l.top:l.left,u="vertical"===n?l.bottom:l.right,p=(_e($),!1);if(!r)if(o&&ie<d*a){if(!se&&(1===ne?c+d*i/2<s:s<u-d*i/2)&&(se=!0),se)p=!0;else if(1===ne?s<c+ie:u-ie<s)return-1*ne}else if(c+d*(1-a)/2<s&&s<u-d*(1-a)/2)return c+d/2<s?-1:1;if((p=p||r)&&(s<c+d*i/2||u-d*i/2<s))return c+d/2<s?1:-1;return 0}(e,r,p,o.swapThreshold,null==o.invertedSwapThreshold?o.swapThreshold:o.invertedSwapThreshold,de,te===r),"swap"):(E=r,L=Se($,(x=o).draggable),C=Se(E,x.draggable),m=L<C?1:-1,"insert"),0===m)return F();re=null,ne=m,n=_e(te=r);var b=r.nextElementSibling,y=!1,w=Ce(G,i,$,t,r,n,e,y=1===m);if(!1!==w)return 1!==w&&-1!==w||(y=1===w),fe=!0,he(Ae,30),d?s._hideClone():s._showClone(this),y&&!b?i.appendChild($):r.parentNode.insertBefore($,y?b:r),j=$.parentNode,void 0===h||de||(ie=ge(h-_e(r)["vertical"===p?"top":"left"])),R(),!g&&this._animate(n,r),this._animate(t,$),F()}if(i.contains($))return F()}var E,x,L,C,A,k,S,D,T,M,_,N,I,H,z,B,O,q,Y,X,P,V,W;return me&&!e.rootEl&&ye(i,e,"_onDragOver"),!1}function F(){return s&&(xe($,J?J.options.ghostClass:s.options.ghostClass,!1),xe($,o.ghostClass,!0)),J!==u&&u!==we.active?J=u:u===we.active&&(J=null),(r===$&&!$.animated||r===i&&!r.animated)&&(te=null),o.dragoverBubble||e.rootEl||r===pe||(u._handleAutoScroll(e),$.parentNode[ce]._computeIsAligned(e)),!o.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),!0}function R(){Le(u,G,"change",r,i,G,Z,Se($,o.draggable),e)}},_animate:function(e,t){var n=this.options.animation;if(n){var a=_e(t);if(t===$&&(re=a),1===e.nodeType&&(e=_e(e)),e.left+e.width/2!==a.left+a.width/2||e.top+e.height/2!==a.top+a.height/2){var i=q(this.el),r=i&&i.a,o=i&&i.d;O(t,"transition","none"),O(t,"transform","translate3d("+(e.left-a.left)/(r||1)+"px,"+(e.top-a.top)/(o||1)+"px,0)"),t.offsetWidth,O(t,"transition","transform "+n+"ms"+(this.options.easing?" "+this.options.easing:"")),O(t,"transform","translate3d(0,0,0)")}"number"==typeof t.animated&&clearTimeout(t.animated),t.animated=he(function(){O(t,"transition",""),O(t,"transform",""),t.animated=!1},n)}},_offUpEvents:function(){var e=this.el.ownerDocument;B(pe,"touchmove",this._onTouchMove),B(pe,"pointermove",this._onTouchMove),B(e,"mouseup",this._onDrop),B(e,"touchend",this._onDrop),B(e,"pointerup",this._onDrop),B(e,"touchcancel",this._onDrop),B(e,"pointercancel",this._onDrop),B(pe,"selectstart",this)},_onDrop:function(e){var t=this.el,n=this.options;se=de=oe=m=!1,clearInterval(this._loopId),clearInterval(l),z(),clearTimeout(D),D=void 0,clearTimeout(this._dragStartTimer),Me(this._cloneId),Me(this._dragStartId),B(pe,"mousemove",this._onTouchMove),this.nativeDraggable&&(B(pe,"drop",this),B(t,"dragstart",this._onDragStart),B(pe,"dragover",this._handleAutoScroll),B(pe,"dragover",A)),this._offUpEvents(),e&&(ee&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),U&&U.parentNode&&U.parentNode.removeChild(U),(G===j||J&&"clone"!==J.lastPutMode)&&p&&p.parentNode&&p.parentNode.removeChild(p),$&&(this.nativeDraggable&&B($,"dragend",this),X($),$.style["will-change"]="",xe($,J?J.options.ghostClass:this.options.ghostClass,!1),xe($,this.options.chosenClass,!1),Le(this,G,"unchoose",$,j,G,Z,null,e),G!==j?(0<=(a=Se($,n.draggable))&&(Le(null,j,"add",$,j,G,Z,a,e),Le(this,G,"remove",$,j,G,Z,a,e),Le(null,j,"sort",$,j,G,Z,a,e),Le(this,G,"sort",$,j,G,Z,a,e)),J&&J.save()):$.nextSibling!==K&&0<=(a=Se($,n.draggable))&&(Le(this,G,"update",$,j,G,Z,a,e),Le(this,G,"sort",$,j,G,Z,a,e)),we.active&&(null!=a&&-1!==a||(a=Z),Le(this,G,"end",$,j,G,Z,a,e),this.save()))),this._nulling()},_nulling:function(){G=$=j=U=K=p=u=M=_=H.length=l=s=d=h=I=ee=a=Z=te=ne=re=J=Q=we.active=null,E.forEach(function(e){e.checked=!0}),E.length=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":$&&(this._onDragOver(e),function(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move");e.cancelable&&e.preventDefault()}(e));break;case"selectstart":e.preventDefault()}},toArray:function(){for(var e,t=[],n=this.el.children,a=0,i=n.length,r=this.options;a<i;a++)Ee(e=n[a],r.draggable,this.el,!1)&&t.push(e.getAttribute(r.dataIdAttr)||V(e));return t},sort:function(e){var a={},i=this.el;this.toArray().forEach(function(e,t){var n=i.children[t];Ee(n,this.options.draggable,i,!1)&&(a[e]=n)},this),e.forEach(function(e){a[e]&&(i.removeChild(a[e]),i.appendChild(a[e]))})},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return Ee(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var n=this.options;if(void 0===t)return n[e];n[e]=t,"group"===e&&C(n)},destroy:function(){var e=this.el;e[ce]=null,B(e,"mousedown",this._onTapStart),B(e,"touchstart",this._onTapStart),B(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(B(e,"dragover",this),B(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(e){e.removeAttribute("draggable")}),this._onDrop(),c.splice(c.indexOf(this.el),1),this.el=e=null},_hideClone:function(){p.cloneHidden||(O(p,"display","none"),p.cloneHidden=!0,p.parentNode&&this.options.removeCloneOnHide&&p.parentNode.removeChild(p))},_showClone:function(e){"clone"===e.lastPutMode?p.cloneHidden&&(G.contains($)&&!this.options.group.revertClone?G.insertBefore(p,$):K?G.insertBefore(p,K):G.appendChild(p),this.options.group.revertClone&&this._animate($,p),O(p,"display",""),p.cloneHidden=!1):this._hideClone()}},T(pe,"touchmove",function(e){(we.active||m)&&e.cancelable&&e.preventDefault()}),we.utils={on:T,off:B,css:O,find:Y,is:function(e,t){return!!Ee(e,t,e,!1)},extend:R,throttle:F,closest:Ee,toggleClass:xe,clone:De,index:Se,nextTick:Te,cancelNextTick:Me,detectDirection:x,getChild:P},we.create=function(e,t){return new we(e,t)},we.version="1.8.1",we},e.exports=t()}(e={exports:{}},e.exports),e.exports),re="esri-header-apps",oe="rtl"===document.dir,le=(n=window,!/iPhone|iPad|iPod|Android/i.test(n.navigator.userAgent)),F=function(){var d=J("div",{class:re+"-content",id:re+"-content",aria:{expanded:!1,labelledby:re+"-control"}}),c=J("span"),e=J("button",{class:re+"-control",id:re+"-control",style:"display: none;",tabindex:"-1"},c),u=function(){v.showMoreButton&&v.showMoreButton.classList.remove("hide"),f.setAttribute("aria-expanded","false")},i=function(e){v&&!v.loading&&(N(),I(),u(),p(e))},p=function(e){setTimeout(function(){te(h,"header:menu:toggle",{state:"menu",target:m,type:"root-toggle",control:h,content:d,event:e})},1)},h=e;e.addEventListener("click",i);var m=J("div",{class:re},h),f=J("div",{class:re+" secondary-dropdown-menu",aria:{expanded:!1}},J("hr")),g=J("div",{class:re+" bottom-container"}),v={maxDragErrorTollerance:1},s=40,b=38,y=39,w=37,E=32,x=function(e,t){var n=["0px","32px","24px","20px","18px","16px","14px","12px","10px","8px"],a=v.browserIsEdge?"user-select-none":"",i=J("li",{alt:"",class:"block link-off-black appLinkContainer grabbable "+(t.canAccess?"with-hover":"no-hover"),mousedown:le?D.bind(null,t):p,keyup:!v.disabled&&le?O.bind(null,t):function(){},keydown:le?Y:function(){},role:"menuitem","data-id":t.itemId||t.uid||t.title});if(t.canAccess){var r=J("a",{href:t.url,target:"_blank",blur:le?q.bind(null,t):function(){},class:"appLink"});if(t.isNew&&r.appendChild(J("div",{class:"app-indicator app-indicator-new"})),t.image){var o=J("div",{class:"appIconImage "+a});o.appendChild($()),o.appendChild(J("img",{class:"appIconPng",alt:"",src:t.image})),r.appendChild(o)}else{var l=Math.ceil(S(t.abbr||"","avenir")/5),s=n[l];9<l&&(t.abbr=t.abbr.substr(0,4),s=n[9]);var d=J("div",{class:"appIconImage"});d.appendChild($());var c=J("span",{style:"font-size: "+s,class:"avenir appIconSvgText "+a},t.abbr);d.appendChild(c),d.appendChild(J("img",{src:t.placeHolderIcon,alt:"",class:a})),r.appendChild(d)}i.appendChild(r);var u=J("p",{style:"margin:0 auto; text-align:center",class:a},t.label);r.appendChild(u)}else L(t,i,a);e.appendChild(i)},L=function(e,t,n){var a=J("div",{class:"app-indicator app-indicator-removed",tabindex:0,click:l.bind(null,e.uid,t),keyup:l.bind(null,e.uid,t),keydown:Y});a.innerHTML=r();var i=J("div",{class:"missing-app-icon appIconImage",tabindex:0,blur:q.bind(null,e),title:v.i18n.removed});i.appendChild($()),t.appendChild(a),t.appendChild(i),t.appendChild(J("p",{style:"margin:0 auto; text-align:center",class:n},e.label))},C=function(e,t,n){te(h,"header:apps:reorder",{icons:{primaryApps:e,secondaryApps:t,revisions:n||{}}})},A=function(){f.setAttribute("aria-expanded","true"),v.showMoreButton.classList.add("hide")},k=function(e){e===v.bottomAppContainer&&1===v.secondarySortable.toArray().length?M(!1):v.secondarySortable.toArray().length||M(!0)},S=function e(t,n){var a=(e.canvas||(e.canvas=document.createElement("canvas"))).getContext("2d");return a.font=n,a.measureText(t).width},r=function(){return'<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 32 32"  class="default-svg-fill"><path d="M18.404 16l9.9 9.9-2.404 2.404-9.9-9.9-9.9 9.9L3.696 25.9l9.9-9.9-9.9-9.898L6.1 3.698l9.9 9.899 9.9-9.9 2.404 2.406-9.9 9.898z"/></svg>'},D=function(e,t){if(0===t.button){if(v.startClientX=t.clientX,v.startClientY=t.clientY,v.startApp=e,v.dragEventWasCanceled=!1,v.startElement=t.currentTarget,v.disabled)return void(e.canAccess&&v.dropdownNav.addEventListener("mouseup",o));if(setTimeout(function(e){v.startElement.classList.remove("sortable-drag-class")},1),e.isNew){var n=v.primarySortable.toArray();v.duplicateValueIndex&&n.splice(v.duplicateValueIndex,1),C(n,v.secondarySortable.toArray(),{targetUid:t.currentTarget.getAttribute("data-id"),isNew:!0,targetValue:null})}if(t.currentTarget&&t.currentTarget.classList.remove("sortable-drag-class"),v.listenForMouseOverElement=t.currentTarget.parentNode,v.listenForMouseOverElement.addEventListener("mousemove",H),e.canAccess)v.dropdownNav.addEventListener("mouseup",i);else{v.dropdownNav.addEventListener("mouseup",T);var a="app-indicator app-indicator-removed";t.target.classList.className!==a&&t.target.parentNode.className!==a&&t.target.parentNode.parentNode.className!==a||(v.removeStartApp=!0)}}},o=function e(t){v.dropdownNav.removeEventListener("mouseup",e,!1),z(t.clientX,t.clientY)||i()},t=function(e,t,n){!v.disabled&&e&&(e.canAccess?(i(),window.open(e.url,"_blank")):n?(v.removeStartApp=!1,l(e.itemId||e.title,t)):a(e.itemId||e.title,t))},l=function(e,t,n){var a;n&&!B(n.keyCode)||((a=t).parentNode&&a.parentNode.removeChild(a),setTimeout(function(){C(v.primarySortable.toArray(),v.secondarySortable.toArray()),k(v.bottomAppContainer)},0))},a=function(e,t,n){v.dropdownWrapper.classList.remove("dragging"),v.removedAppWithFoucs||n&&!B(n.keyCode)?v.removedAppWithFoucs=null:v.removedAppWithFoucs={uid:e,el:t}},T=function(e){v.dragEventWasCanceled=!0},M=function(e){v.bottomAppContainer.classList[e?"add":"remove"]("drag-apps-here-box"),v.dragAppsHereText.classList[e?"remove":"add"]("hide")},n=function(e,t){var n=e.item.children[1]&&"A"===e.item.children[1].nodeName?e.item.children[1]:e.item.children[0];t?(v.recentlyRemovedHref=n.href,n.removeAttribute("href")):setTimeout(function(){n.href=v.recentlyRemovedHref},1)},_=function(e){v.dragAndDropIntro.classList.add("hide"),C(v.primarySortable.toArray(),v.secondarySortable.toArray())},N=function(){v.dropdownNav&&v.dropdownNav.removeEventListener&&v.dropdownNav.removeEventListener("mouseup",i,!1)},I=function(){v.listenForMouseOverElement&&v.listenForMouseOverElement.removeEventListener("mousemove",H,!1)},H=function(e){z(e.clientX,e.clientY)&&(v.simulatedDragEvent=!0,v.dropdownWrapper.classList.add("dragging"),I())},z=function(e,t){return!v.dragEventWasCanceled&&!v.disabled&&(Math.abs(e-v.startClientX)>v.maxDragErrorTollerance||Math.abs(t-v.startClientY)>v.maxDragErrorTollerance)},B=function(e){return!e||13===e},O=function(e,t){if("app-indicator app-indicator-removed"!==t.target.className&&t.keyCode===E){if(v.activeAccessibleListElement)return q(e,t);var n=e.canAccess?t.target.firstChild.firstChild:t.target.firstChild,a=t.target.parentNode,i=a.parentNode,r=R(a),o=v.primarySortable.toArray().length;A();var l=F(r,i,o);v.activeAccessibleListElement=a,v.activeAccessibleListElementEvent=X.bind(null,e,K(l,i),a,i,r),a.addEventListener("keydown",v.activeAccessibleListElementEvent),j(n,r,i,o)}return!1},q=function(e,t){var n=t.target||t,a=e.canAccess?n.firstChild.firstChild:n.firstChild;a&&(a.classList.remove("arrow-keys-enabled"),a.classList.add("arrow-keys-disabled")),v.activeAccessibleListElement&&(v.activeAccessibleListElement.removeEventListener("keydown",v.activeAccessibleListElementEvent,!1),v.activeAccessibleListElement=null)},Y=function(e){e.keyCode!==E&&e.keyCode!==s&&e.keyCode!==b||e.preventDefault()},X=function(e,t,n,a,i,r){var o,l=(o=r).keyCode===s?"bottom":o.keyCode===b?"top":o.keyCode===y?oe?"left":"right":o.keyCode===w?oe?"right":"left":void 0;"bottom"===l&&-1<t.indexOf("bottom")&&P(n,i,a,3,e,r),"top"===l&&-1<t.indexOf("top")&&P(n,i,a,-3,e,r),"right"===l&&-1<t.indexOf("right")&&P(n,i,a,1,e,r),"left"===l&&-1<t.indexOf("left")&&P(n,i,a,-1,e,r)},P=function(e,t,n,a,i,r){var o=t+a,l=n===v.bottomAppContainer?n.children.length-1:n.children.length,s=n===v.topAppContainer;if(s&&o<l||!s&&o<=l&&0<o){var d=a<0?n.children[o]:n.children[o].nextSibling;n.insertBefore(e,d)}else s?(W(e,t,a),k(v.bottomAppContainer)):(V(e,t,a),k(v.topAppContainer));q(i,r),i.canAccess&&!i.isNew?e.children[0].focus():e.children[1].focus(),setTimeout(function(){i.isNew?C(v.primarySortable.toArray(),v.secondarySortable.toArray(),{targetUid:i.itemId||i.title,isNew:!0,targetValue:null}):C(v.primarySortable.toArray(),v.secondarySortable.toArray())},0)},V=function(e,t,n){var a=v.topAppContainer,i=t%3||3,r=o%3||3,o=v.topAppContainer.children.length;return 1===Math.abs(n)||3===r?a.appendChild(e):2===i&&1<r?a.insertBefore(e,a.children[o-(r-1)]):1===i&&o?a.insertBefore(e,a.children[o-r]):void a.appendChild(e)},W=function(e,t,n){var a=v.bottomAppContainer,i=v.bottomAppContainer.children.length-1,r=(t+1)%3||3;return i?1===Math.abs(n)?a.insertBefore(e,a.children[1]):2===r&&1<i?a.insertBefore(e,a.children[2]):3===r&&2===i?a.insertBefore(e,a.children[3]):void a.insertBefore(e,a.children[1]):a.appendChild(e)},F=function(e,t,n){return e+(t===v.bottomAppContainer?n+1:1)},R=function(e){var t=e.parentNode;return Array.prototype.indexOf.call(t.children,e)},$=function(){return J("span",{class:"arrow-keys-disabled"})},j=function(e,t,n,a){e&&(e.classList.add("arrow-keys-enabled"),e.classList.remove("arrow-keys-disabled"));var i=F(t,n,a);e.innerHTML=U(K(i,n),n)},U=function(e){return e.reduce(function(e,t){return e+G(t)},"")},G=function(e){return'<div class="app-arrow app-arrow-'+e+'"></div>'},K=function(e,t){var n=[],a=v.topAppContainer.children.length,i=v.bottomAppContainer.children.length,r=a+i;return 0<e-1&&n.push("left"),(e+1<=r||!i)&&e!==a&&n.push("right"),0<e-3&&n.push("top"),(e-a+2<i||t===v.topAppContainer)&&n.push("bottom"),n},Z={group:"Apps",sort:!0,disabled:!le,animation:150,forceFallback:!0,delay:0,fallbackTolerance:0,ghostClass:"sortable-ghost-class",dragClass:"sortable-drag-class",onStart:function(e){v.dragAppsHereText.classList.add("hide"),N(),n(e,!0)},onEnd:function(e){return e.preventDefault(),I(),n(e,!1),v.dropdownWrapper.classList.remove("dragging"),v.bottomAppContainer.classList.remove("on-drag-over"),v.secondarySortable.toArray().length&&M(!1),!1},onMove:function(e,t){e.to===v.bottomAppContainer?v.bottomAppContainer.classList.add("on-drag-over"):v.bottomAppContainer.classList.remove("on-drag-over")},store:{get:function(e){return e.options.group.name&&e.options.group.name.split("!")||[]},set:function(e){v.simulatedDragEvent?C(e.toArray(),v.secondarySortable.toArray()):t(v.startApp,v.startElement,v.removeStartApp),v.startElement&&v.startElement.classList.remove("sortable-drag-class"),v.simulatedDragEvent=!1}}},Q={group:"Apps",sort:!0,disabled:!le,animation:150,forceFallback:!0,delay:0,fallbackTolerance:0,ghostClass:"sortable-ghost-class",dragClass:"sortable-drag-class",onStart:function(e){N(),n(e,!0)},onEnd:function(e){e.preventDefault(),I(),n(e,!1),v.dropdownWrapper.classList.remove("dragging"),v.secondarySortable.toArray().length||M(!0)},store:{get:function(e){return e.options.group.name&&e.options.group.name.split("!")||[]},set:function(e){v.simulatedDragEvent?C(v.primarySortable.toArray(),e.toArray()):t(v.startApp,v.startElement,v.removeStartApp),v.startElement&&v.startElement.classList.remove("sortable-drag-class"),v.simulatedDragEvent=!1}}};return m.addEventListener("header:update:apps",function(e){var t,n=e.detail;ne({imgDef:ae.md,imgClass:re+"-image",$targetElm:c});if(h.removeAttribute("style"),n.primary)if(n.ieVersion&&("edge"===(t=n.ieVersion)?v.browserIsEdge=!0:"ie11"===t&&(Z.ghostClass="sortable-ghost-class-with-pointer-events",Q.ghostClass="sortable-ghost-class-with-pointer-events")),!n.disableDragAndDrop&&le||(v.disabled=!0),n.text&&(v.i18n=n.text||{}),n.isLoading)v.loading=!0,h.className=re+"-control disabled-grid-icon",h.setAttribute("tabindex","-1"),ee(m,h);else{m.appendChild(d),h.className=re+"-control",h.setAttribute("tabindex","0"),J(h,{aria:{label:n.label}});var a=n.primary.length,i=" dropdown-width-"+(a<3?a:3);v.topAppContainer=J("ul",{class:re+" appContainer primary",role:"menu"}),v.bottomAppContainer=J("ul",{class:re+" appContainer secondary",role:"menu"}),v.dropdownWrapper&&(d.innerHTML="",g.lastChild&&g.removeChild(g.lastChild)),v.dragAppsHereText=J("p",{class:"hide"},v.i18n.dragAppsHere),v.bottomAppContainer.appendChild(v.dragAppsHereText),n.secondary.length||M(!0),v.primarySortable=ie.create(v.topAppContainer,Z),v.secondarySortable=ie.create(v.bottomAppContainer,Q),n.primary.forEach(function(e,t){x(v.topAppContainer,e)}),n.secondary.forEach(function(e,t){x(v.bottomAppContainer,e)}),g.appendChild(v.bottomAppContainer),f.appendChild(g);var r=J("div",{class:""}),o=J("p",{class:re+" drag-and-drop-intro"},v.i18n.intro),l=J("button",{class:re+" dismiss-intro-button",click:_},v.i18n.confirm);v.dragAndDropIntro=n.displayIntro&&!v.disabled?J("div",{class:re+" intro-container"},o,l):"";var s=J("span");s.innerHTML=' <svg xmlns="http://www.w3.org/2000/svg" width="13" height="13" viewBox="0 0 32 32" class="down-carrot-svg default-svg-fill"><path d="M28 9v5L16 26 4 14V9l12 12L28 9z"></path></svg>',v.showMoreButton=J("button",{class:re+" show-more-button",click:A},v.i18n.showMore,s),v.dropdownWrapper=J("div",{},v.dragAndDropIntro,v.topAppContainer,v.showMoreButton,f),v.dropdownNav=J("nav",{class:re+" dropdown-menu dropdown-right app-switcher-dropdown-menu "+i,role:"menu"},v.dropdownWrapper),r.appendChild(v.dropdownNav),d.appendChild(r),ee(m,h,d),v.loading=!1,u()}}),m},R="esri-header-notifications",$=[],i=function(s){var d=void 0,c=void 0,o=J("div",{class:"esri-header-canvas",tabindex:"-1",data:{open:!1}});o.addEventListener("click",function(){te(o,"header:menu:close")});var n,r,a=((n=J("div",{class:B,id:B})).addEventListener("header:update:brand",function(e){var t=e.detail;n.style.backgroundColor=t.topStripe,n.classList.add("-visible")}),n),i=((r=J("div",{class:_})).addEventListener("click",function(e){te(r,"header:click:brand",{event:e})}),r.addEventListener("header:update:brand",function(e){var t=e.detail,n=J("span",{class:_,id:_});if(t.href&&(n=J("a",{class:_+"-link",id:_,href:t.href})),J(r,n),t.distributorImage){var a=J("span",{class:"distributor-image"});ne({imgDef:t.distributorImage,imgClass:_+"-image",alt:"",imgWidth:t.distributorImageWidth,imgHeight:t.distributorImageHeight,$targetElm:a}),J(n,a,J("span",{class:"distributor-image-border"}))}if(t.image){var i=J("span",{class:"brand-image"});J(n,{aria:{label:t.label}}),ne({imgDef:t.image,imgClass:_+"-image",alt:"",imgWidth:t.width,imgHeight:t.height,$targetElm:i}),J(n,i)}t.brandText&&J(n,J("span",{class:t.image?_+"-text -has-image":_+"-text"},t.brandText))}),r),l=z(),u=function(){var n=J("div",{class:M}),a=document.createTextNode(""),i=J("button",{class:M+"-control "+M+"-control--signin"},a);i.addEventListener("click",function(e){te(i,"header:click:signin",{event:e})});var r=J("span"),o=document.createTextNode(""),e=J("span",{class:M+"-name"},o),l=document.createTextNode(""),t=J("span",{class:M+"-id"},l),s=J("button",{class:M+"-control "+M+"-control--signedin",id:M+"-control",aria:{controls:M+"-menu",expanded:!1,haspopup:!0}},r,e,t);s.addEventListener("click",function(e){te(s,"header:click:account",{event:e}),te(s,"header:menu:toggle",{account:!0,control:s,content:x,state:"menu",target:n,type:"account-toggle"})});var d=document.createTextNode(""),c=J("button",{class:M+"-content-toggle"},d);c.addEventListener("click",function(){te(c,"header:menu:close",{control:s,content:x,type:"account-close"})});var u=J("span"),p=document.createTextNode(""),h=document.createTextNode(""),m=document.createTextNode(""),f=J("div",{class:M+"-content-info"},u,J("span",{class:M+"-content-name"},p),J("span",{class:M+"-content-id"},h),J("span",{class:M+"-content-group"},m)),g=J("ul",{class:M+"-content-menu",aria:{labelledby:M+"-control"}}),v=document.createTextNode(""),b=J("button",{class:M+"-signin-control -switch"},v);b.addEventListener("click",function(e){te(b,"header:click:switch",{event:e})});var y=document.createTextNode(""),w=J("button",{class:M+"-signin-control -logout"},y);w.addEventListener("click",function(e){te(w,"header:click:signout",{event:e})});var E=J("ul",{class:M+"-signin-menu",role:"group"},J("li",{class:M+"-signin-item"},b),J("li",{class:M+"-signin-item"},w)),x=J("div",{class:M+"-menu",id:M+"-menu",role:"group",aria:{expanded:!1,hidden:!0}},c,f,g,E);return n.addEventListener("header:update:account",function(e){var t=e.detail;J(s,{aria:{label:t.label}}),d.nodeValue=t.label,a.nodeValue=t.controls.signin,v.nodeValue=t.controls.switch,y.nodeValue=t.controls.signout,t.user?(o.nodeValue=p.nodeValue=t.user.name,l.nodeValue=h.nodeValue=t.user.id,m.nodeValue=t.user.group,ne({imgDef:t.user.image,alt:"",imgClass:M+"-image",$targetElm:r}),ne({imgDef:t.user.image,alt:"",imgClass:M+"-content-image",$targetElm:u}),ee.apply(void 0,[g].concat(X(t.menus.map(function(e){return J("li",{class:M+"-content-item"},e.newContext?J("a",{class:M+"-content-link",href:e.href,target:"_blank",rel:"noopener"},e.label):J("a",{class:M+"-content-link",href:e.href},e.label))})))),ee(n,s,x)):ee(n,i)}),n}(),p=O({variant:"mobile"}),h=O({variant:"desktop"}),m=q(),f=function(){var i=J("div",{class:W,"data-cart-empty":"true"});i.addEventListener("click",function(e){te(i,"header:click:shoppingCart",{event:e})});var n=J("a",{href:"#",class:W+"--icon",id:W+"--icon"},ne({imgDef:t.md,imgClass:W+"--image",id:W+"--image"})),r=J("div",{class:W+"--items",id:W+"--items"});J(i,n,r),i.addEventListener("header:update:cart",function(e){var t=e.detail;t&&0<t.items&&(n.setAttribute("href",""+t.url),a(t.items))}),i.addEventListener("header:shoppingcart:add",function(e){var t=e.detail;a(t,!0)}),i.addEventListener("header:shoppingcart:remove",function(e){var t=e.detail;a(-t,!0)});var a=function(e,t){var n=parseInt(r.innerHTML),a=(n=isNaN(n)||n<0?0:n)+parseInt(e);0<(r.innerHTML=a)?(i.setAttribute("data-cart-empty","false"),t&&(r.setAttribute("data-cart-updated","true"),setTimeout(function(){r.setAttribute("data-cart-updated","false")},1e3))):(r.setAttribute("data-cart-updated","true"),setTimeout(function(){i.setAttribute("data-cart-empty","true")},1e3))};return i}(),g=function(){var a=J("button",{class:Y+"-control",id:Y+"-control",aria:{expanded:!1,controls:Y+"-content"}});a.addEventListener("header:menu:open",function(e){te(a,"header:inlineSearch:activated",{event:e})}),a.addEventListener("click",function(e){te(a,"header:click:inlineSearch",{event:e}),te(a,"header:menu:toggle",{state:"menu",target:o,type:"inlineSearch",control:a,content:n,event:e})});var i=J("button",{class:Y+"-close-button",id:Y+"-close-button",aria:{labelledby:Y+"-close-button"}},ne({imgDef:I.md,imgClass:Y+"-dismiss-icon"}));i.addEventListener("click",function(e){te(a,"header:inlineSearch:deactivated",{event:e}),setTimeout(function(){a.focus()},0),te(a,"header:menu:toggle",{state:"menu",target:o,type:"inlineSearch",control:a,content:n,event:e})});var r=J("input",{class:Y+"-input",id:Y+"-input"});r.addEventListener("keyup",function(e){return V.value=e.target.value,V.value&&" "!==V.value?13===e.keyCode&&V.value&&!V.isDisabled?window.location.href=V.action+"?q="+encodeURIComponent(V.value):void te(a,"header:search:typing",{search:V.value}):(V.isDisabled=!1,d.innerHTML="")});var d=J("div",{class:Y+"-suggestions",id:Y+"-suggestions",aria:{expanded:!1,labelledby:Y+"-suggestions"}}),c=function(t,e){try{return t.replace(new RegExp("(\\b)("+e.join("|").replace(/\+|\*|\(|\)\[/g,"")+")(\\b)","ig"),"$1<strong>$2</strong>$3")}catch(e){return t}},e=J("div",{class:"esri-header-lineBreak "+Y+"-lineBreak"}),t=J("div",{class:"esri-header-lineBreak "+Y+"-lineBreak lineBreak-right"}),n=J("div",{class:Y+"-content",id:Y+"-content",aria:{expanded:!1,labelledby:Y+"-control"}},e,r,i,d,t),o=J("div",{class:Y,aria:{expanded:!1}},a,n);o.addEventListener("header:inlineSearch:activated",function(e){o.setAttribute("aria-expanded","true"),setTimeout(function(){r.focus()},0)}),o.addEventListener("header:inlineSearch:deactivated",function(e){o.setAttribute("aria-expanded","false"),d.innerHTML="",r.value=""}),o.addEventListener("header:search:populateSuggestions",function(e){var t=e.detail;if(d.innerHTML="",V.isDisabled=t.disabled,Array.isArray(t))l(t,V.value.split(" "));else{if(!t.suggestions||!t.suggestions.length)return;s(t,V.value.split(" "))}});var l=function(e,r){var o=J("ul",{class:Y+"-simple-suggestion-list"});e.forEach(function(e){var t=e.icon?J("img",{src:e.icon,class:Y+"-suggestion-icon",alt:""}):"",n=J("span");n.innerHTML=c(e.text,r);var a=J("li",{class:Y+"-suggestion"},e.href?J("a",{href:e.href},t,n):J("span",{class:"inactive"},t,n));o.appendChild(a);var i=J("div",{class:Y+"-simple-suggestion-section"},o);d.appendChild(i)})},s=function(e,l){var s=(e.minIconWidth||"0")+"px";e.suggestions.forEach(function(e,t){var n=e.header?J("p",{class:Y+"-suggestion-header"},e.header):J("p"),a=(e.header||0<t)&&!e.hideHR?J("hr"):J("span"),i=J("ul",{class:Y+"-suggestion-list"}),r=e.footer?J("a",{href:e.footer.href,class:Y+"-suggestion-footer"},e.footer.text):J("span");e.links.forEach(function(e){var t=J("span",{class:Y+"-suggestion-text"});t.innerHTML=c(e.text,l),t.appendChild(e.secondary?J("div",{class:Y+"-suggestion-secondary-text"},e.secondary):J("span"));var n=e.icon?ne({inlineImg:!0,alt:"",imgDef:"searchIcon"===e.icon?H.sm:e.icon,imgWidth:e.iconSize||"22",imgHeight:"searchIcon"===e.icon?"15px":e.iconSize,imgClass:Y+"-suggestion-icon",wrapperClass:Y+"-suggestion-icon-wrapper"}):J("span",{class:Y+"-suggestion-icon-wrapper",style:"min-width: "+s+";"});n.style.minWidth=s,e.htmlIcon&&(n.innerHTML=e.htmlIcon);var a=J("li",{class:Y+"-suggestion"},e.href?J("a",{href:e.href},n,t):J("span",{class:"inactive"},n,t));i.appendChild(a)});var o=J("div",{class:Y+"-suggestion-section"},n,a,i,r);d.appendChild(o)}),d.appendChild(J("div",{class:Y+"-suggestions-bottom-padding"}))};return o.addEventListener("header:update:inlineSearch",function(e){var t=e.detail;if(t.hide)a.setAttribute("tabindex","-1");else{J(a,{aria:{label:t.label}}),ne({imgDef:H.md,imgClass:Y+"-image",id:Y+"-image",alt:"",$targetElm:a}),V.image=H.md,V.action=t.dialog&&t.dialog.action;var n=t.dialog&&t.dialog.queryLabel||"Search";r.setAttribute("placeholder",n),r.setAttribute("aria-label",n),i.setAttribute("aria-label",t.dialog&&t.dialog.cancelLabel||""),t.dialog&&(t.dialog.prefix="esri-header-search-dialog")}}),o}(),v=function(){var l=J("div",{class:R}),s=J("button",{class:R+"-control",id:R+"-control",aria:{controls:R+"-menu",expanded:!1,haspopup:!0}});s.addEventListener("click",function(e){te(s,"header:click:notifications",{event:e}),te(s,"header:menu:toggle",{notifications:!0,control:s,content:u,state:"menu",target:l,type:"notifications-toggle"})});var d=J("button",{class:R+"-dismiss-all"});d.addEventListener("click",function(e){te(s,"header:click:notifications:dismiss",$)});var c=J("ul",{class:R+"-messages"}),u=J("div",{class:R+"-menu",id:R+"-menu",role:"group",aria:{expanded:!1,hidden:!0}},c);return l.addEventListener("header:update:notifications",function(e){var n=e.detail;$=(n.messages||[]).map(function(e){return e.id});var t=ne({imgDef:N.md,imgClass:R+"-image",id:R+"-image"});if(n.messages&&0<n.messages.length){ee(d,n.dismissAllLabel);var a=J("span",{class:R+"-badge"},""+n.messages.length);ee(s,t,a),ee.apply(void 0,[c].concat(X(n.messages.map(function(t){var e=J("button",{class:R+"-message-dismiss",aria:{label:n.dismissLabel}},ne({imgDef:I.sm,imgClass:R+"-dismiss-icon"}));return e.addEventListener("click",function(e){te(s,"header:click:notifications:dismiss",[t.id])}),J("li",{class:R+"-message"},J("span",{class:R+"-message-text"},t.text,J("span",{class:R+"-message-date"},t.date)),e)})))),ee(u,c,d)}else{ee(s,t);var i=ne({imgDef:n.emptyMessage.image.path,imgClass:R+"-empty-image",viewBox:n.emptyMessage.image.viewBox}),r=J("p",{class:R+"-empty-text"},n.emptyMessage.text),o=J("div",{class:R+"-empty"},i,r);ee(u,o)}ee(l,s,u)}),l}(),b=F(),y=J("div",{class:"esri-header-client"},u),w=J("div",{class:"esri-header-lineBreak"}),e=J("div",{class:"esri-header -"+(s.theme||"web")+" "+(s.collapseMenus?"-always-hamburger":"")},a,i,p,l,h,m,g,w,f,v,b,y),E=J("div",{class:"esri-header-canvas"},o,{class:"esri-header-wrap"},e);T(E),E.addEventListener("header:update",function(e){var t=e.detail;t.brand&&(t.brand.topStripe&&(te(a,"header:update:brand",t.brand),E.style.marginTop="3px"),t.brand.editTitle?te(l,"header:update:inlineTitle",t.brand):te(i,"header:update:brand",t.brand)),t.menus&&(t.menus.noBrand=!t.brand,te(h,"header:update:menus",t.menus),te(p,"header:update:menus",t.menus)),t.collapseMenus&&(te(h,"header:update:collapseMenus",t.collapseMenus),te(p,"header:update:collapseMenus",t.collapseMenus)),t.search&&(t.search.inline?(m.querySelector(".esri-header-search-control").classList.add("esri-header-search-control-hidden"),te(g,"header:update:inlineSearch",t.search)):(g.querySelector(".esri-header-inlineSearch-control").classList.add("esri-header-search-control-hidden"),te(m,"header:update:search",t.search))),t.account&&te(y.lastChild,"header:update:account",t.account),t.account&&te(y.lastChild,"header:update:account",t.account),t.apps&&te(b,"header:update:apps",t.apps),t.notifications&&te(v,"header:update:notifications",t.notifications),t.notifications||t.apps||t.account||w.classList.add("esri-header-lineBreak-hidden"),t.cart&&te(f,"header:update:cart",t.cart),E.ownerDocument.defaultView.addEventListener("keydown",function(e){27===e.keyCode&&te(E,"header:menu:close")})}),E.addEventListener("header:search:typing",function(e){var t=e.detail;te(g,"header::search:typing",t.search)}),E.addEventListener("header:search:update:suggestions",function(e){var t=e.detail;te(g,"header:search:populateSuggestions",t)}),E.addEventListener("header:title:submit",function(e){var t=e.detail;te(g,"header::title:save",t.title)}),E.addEventListener("header:apps:reorder",function(e){var t=e.detail;te(b,"header::apps:reorder",t.icons)}),E.addEventListener("header:menu:toggle",function(e){var t=e.detail,n="true"!==t.control.getAttribute("aria-expanded")?"header:menu:open":"header:menu:close";te(t.control,n,t)});var x=null,L=null,C=null,A=null,k=null,S=null,D=null;return E.addEventListener("header:menu:open",function(e){var t=e.detail,n=t.control.closest(".esri-header-menus"),a=n&&n.classList.contains("-mobile"),i="menu-toggle"===t.type&&c.matches||a,r=u===t.target&&d.matches;J(t.control,{aria:{expanded:!0}}),J(t.content,{aria:{expanded:!0,hidden:!1}}),A&&A.control!==t.control&&te(A.control,"header:menu:close",A),"menu-toggle"===t.type&&(A=t),m===t.target||g===t.target?L=t:L&&(te(m,"header:menu:close",L),L=null),h===t.target||p===t.target?C=t:!C||r||i||(te(h,"header:menu:close",C),te(p,"header:menu:close",C),C=null),l===t.target?S=t:S&&(te(l,"header:menu:close",S),S=null),u===t.target?x=t:x&&(te(u,"header:menu:close",x),x=null),b===t.target?k=t:k&&(te(b,"header:menu:close",k),k=null),v===t.target?D=t:D&&(te(v,"header:menu:close",D),D=null),J(o,{data:{open:!0,state:t.state}}),J(E.ownerDocument.documentElement,{data:{"header-is-open":!0}})}),E.addEventListener("header:menu:close",function(e){var t=e.detail||L||S||x||k||D||C||A;if(t){J(t.control,{aria:{expanded:!1}}),J(t.content,{aria:{expanded:!1,hidden:!0}});var n=null!==t.control.closest(".-always-hamburger"),a=!c.matches&&!n||"menu-close"!==t.type&&"account-close"!==t.type;S&&S.control===t.control&&te(S.content,"header:inlineTitle:deactivated",t),L&&L.control===t.control&&te(L.content.lastChild,"reset"),L&&L.target===g&&("inlineSearch"===t.type||d.matches)&&(C||te(L.content,"header:inlineSearch:deactivated",t)),a&&(J(o,{data:{open:!1}}),E.ownerDocument.documentElement.removeAttribute("data-header-is-open"))}}),E.addEventListener("header:inlineSearch:activated",function(e){h.querySelector(".esri-header-menus-menu").classList.add("hidden"),w.classList.add("hidden"),p.querySelector(".esri-header-menus-toggle").classList.add("hidden"),d&&i.classList.add("hidden")}),E.addEventListener("header:inlineSearch:deactivated",function(e){h.querySelector(".esri-header-menus-menu").classList.remove("hidden"),w.classList.remove("hidden"),p.querySelector(".esri-header-menus-toggle").classList.remove("hidden"),i.classList.remove("hidden")}),E.addEventListener("header:inlineTitle:activated",function(e){d.matches||(h.querySelector(".esri-header-menus-content").classList.add("hidden"),p.querySelector(".esri-header-menus-toggle").classList.add("hidden"))}),E.addEventListener("header:inlineTitle:deactivated",function(e){d.matches||h.querySelector(".esri-header-menus-content").classList.remove("hidden")}),E.addEventListener("DOMNodeInserted",function e(){var a=E.ownerDocument,i=a.defaultView,r=J("style"),o=void 0;function t(){var e=a.documentElement.clientWidth,t=a.documentElement.clientHeight,n=a.documentElement.scrollHeight;o=getComputedStyle(a.documentElement).overflowY.replace("visible",t<n?"scroll":"visible"),ee(r,":root{--esri-vw:"+e+"px;--esri-vh:"+t+"px}[data-header-is-open]{width:"+e+"px;height:"+t+"px;overflow-y:"+o+"}"),(c=i.matchMedia("(max-width: 1023px)")).matches?(h.querySelector(".esri-header-menus-content").classList.add("hidden"),p.querySelector(".esri-header-menus-content").classList.remove("hidden")):(h.querySelector(".esri-header-menus-content").classList.remove("hidden"),p.querySelector(".esri-header-menus-content").classList.add("hidden"))}function n(){d.matches?(te(E,"header:breakpoint:s"),p.lastChild.appendChild(u),v.classList.add("hidden"),b.classList.add("hidden")):(te(E,"header:breakpoint:not:s"),y.appendChild(u),v.classList.remove("hidden"),b.classList.remove("hidden"))}function l(){c.matches?(te(E,"header:breakpoint:sm"),J(h.lastChild,{aria:{hidden:"false"===h.lastChild.getAttribute("aria-expanded")}})):(te(E,"header:breakpoint:not:sm"),te(E,"header:menu:close"),J(h.lastChild,{aria:{hidden:!1}}))}E.parentNode&&(E.removeEventListener("DOMNodeInserted",e),te(E,"header:update",s),J(a.head,r),i.addEventListener("orientationchange",t),i.addEventListener("resize",t),d=i.matchMedia("(max-width: 767px)"),c=i.matchMedia("(max-width: 1023px)"),d.addListener(n),c.addListener(l),n(),l(),t())}),E},g=function(e,t){document.createTextNode(e.buttonLabel);var n=document.createElement("button");n.classList.add(t+"-language-control"),n.setAttribute("ariaDescribedby",t+"-language"),n.innerHTML=e.buttonLabel;var a=J("div",{class:t+"-language"},n);n.addEventListener("click",function(e){e.preventDefault(),J(u,{aria:{expanded:!0}})}),e.prefix=t+"-language-dialog";var i,r,o,l=(r=J.apply(void 0,["select",{class:(i=e).prefix+"-choice",autofocus:"",aria:{label:i.optionsLabel}}].concat(X(i.options.map(function(e){var t=document.createElement("option");return t.value=e.value,t.innerHTML=e.label,t})))),(o=J("form",{class:i.prefix,aria:{labelledby:i.prefix+"-message",describedby:"dialog-description"}},J("p",{class:i.prefix+"-message",id:i.prefix+"-message"},J("strong",i.greetingLabel)," ",i.messageLabel),r,J("button",{class:i.prefix+"-submit",type:"submit",aria:{label:i.submitLabel+" "+i.optionsLabel}},i.submitLabel))).addEventListener("submit",function(e){e.preventDefault(),window.location.href=r.value}),o),s=J("button",{class:t+"-language-dialog-close",id:"dialog-description",ariaLabel:e.closeLabel},ne({imgDef:I.md,imgClass:t+"-language-dialog-close-image"}));s.addEventListener("click",c),J(l,s);var d=J("button",{class:t+"-language-dialog-cancel-canvas",type:"button",tabindex:-1});function c(e){e.preventDefault(),J(u,{aria:{expanded:!1}})}d.addEventListener("click",c);var u=J("div",{class:t+"-language-dialog-barrier",aria:{expanded:!1}},l,d);return n.addEventListener("click",function(){te(n,"footer:click:language",e)}),a.addEventListener("footer:update:language",function(e){var t=e.detail;n.innerHTML=t.buttonLabel,a.ownerDocument.body.appendChild(u),a.ownerDocument.defaultView.addEventListener("keydown",function(){27===(0<arguments.length&&void 0!==arguments[0]?arguments[0]:event).keyCode&&c(event)})}),a},v=function(e,n){var t=matchMedia("(max-width: 719px)"),i=!1;t.addListener(o);var a=e.menu.map(function(e,t){return J("li",{class:n+"-menu-item",id:n+"-menu-link--"+t},J("span",{class:n+"-menu-link",id:n+"-heading-"+t},e.label),J("div",{class:n+"-menu--sub",id:n+"-menu--sub--"+t,aria:{labelledby:n+"-menu-link--"+t}},J.apply(void 0,["ul",{class:n+"-menu-list--sub"}].concat(X(e.menu.map(function(e){return J("li",{class:n+"-menu-item--sub"},J("a",{class:n+"-menu-link--sub",href:e.href,"aria-labelledby":n+"-menu--sub--"+t},e.label))}))))))}),r=J("nav",{class:n+"-menu",aria:{label:e.label}},J.apply(void 0,["ul",{class:n+"-menu-list"}].concat(X(a))));return o(),r;function o(){i!==t.matches&&(i=t.matches,a.forEach(function(e){var t,n,a;i?(n=e.firstChild,a="true"!==n.nextElementSibling.getAttribute("aria-hidden"),J(n,{tabindex:0,role:"button",aria:{expanded:!a,haspopup:!a}}),n.addEventListener("click",l),n.addEventListener("keypress",s),J(n.nextElementSibling,{aria:{hidden:!0}})):((t=e.firstChild).removeAttribute("aria-controls"),t.removeAttribute("aria-expanded"),t.removeAttribute("aria-haspopup"),t.removeAttribute("role"),t.removeAttribute("tabindex"),t.addEventListener("click",l),t.addEventListener("keypress",s),t.nextElementSibling.removeAttribute("aria-hidden"))}))}function l(e){var t=e.currentTarget,n=t.nextElementSibling,a="true"!==n.getAttribute("aria-hidden");J(t,{aria:{expanded:!a,haspopup:!a}}),J(n,{aria:{hidden:a}}),J(t,a?{aria:{controls:0}}:{aria:{controls:n.id}})}function s(e){13!==e.keyCode&&32!==e.keyCode||(e.preventDefault(),te(e.currentTarget,"click"))}},r=function(t){var e,n,a,i,r,o,l,s=t.prefix||"esri-footer",d=(e=t.brand,J("div",{class:(n=s)+"-brand"},J("a",{class:n+"-brand-link",href:e.href,aria:{label:e.label}},ne({imgDef:e.path,imgClass:n+"-brand-image"})))),c=(a=t.info,J("div",{class:(i=s)+"-info",aria:{label:a.label}},J.apply(void 0,["ul",{class:i+"-info-list"}].concat(X(a.menu.map(function(e,t){return J("li",{class:i+"-info-item",id:i+"-info-link--"+t},J("a",{class:i+"-info-link",href:e.href},e.label))})))))),u=t.language?g(t.language,s):J("div",{class:"esri-footer-language"}),p=v(t.menu,s),h=(r=t.social,o=s,l=document.createDocumentFragment(),r.menu.forEach(function(e){var t=e.platform||e.label.toLowerCase().replace(" ","-");J(l,J("a",{class:o+"-social-item "+o+"-social-link -"+t,href:e.href,aria:{label:e.label},target:"_blank",rel:"noopener"},ne({imgDef:e.image.path,imgClass:o+"-social-image",alt:"",imgWidth:30,imgHeight:30,viewBox:e.image.viewBox})))}),J("div",{class:o+"-social"},J("nav",{class:o+"-social-nav",aria:{label:r.label||"Social Media"}},l))),m=function(e){if(e.showBreadcrumb){var a="esri-footer-breadcrumb",i=document.createDocumentFragment(),r=e.breadcrumbs||[];return r.forEach(function(e,t){var n=t===r.length-1;J(i,J("li",{class:a+"--items"},"/",n?J("p",{href:e.href,class:a+"--items-current"},""+e.label):J("a",{href:e.href,class:a+"--items-link"},""+e.label)))}),J("div",{class:""+a},J("a",{href:"https://www.esri.com",class:a+"--pin"}),J("ul",{class:a+"--list"},i))}}(t),f=J("footer",{class:s+" "+(t.hideMenus?"skinny-footer":"")},J("div",{class:s+"-section--0"},m),J("div",{class:s+"--wrapper"},J("div",{class:s+"-section--1 "+(t.hideMenus?"hidden":"")},d,h),J("div",{class:s+"-section--2 "+(t.hideMenus?"hidden":"")},p),J("div",{class:s+"-section--3"},u,c)));return f.addEventListener("DOMNodeInserted",function e(){f.removeEventListener("DOMNodeInserted",e),f.addEventListener("focusin",function(){var e=f.ownerDocument.documentElement.scrollHeight-f.scrollHeight;e>f.ownerDocument.defaultView.pageYOffset&&f.ownerDocument.defaultView.scrollTo(0,e)}),t.hideMenus&&document.querySelector(".esri-footer-barrier").classList.add("skinny-footer"),te(f,"footer:update",t)}),T(f),f.addEventListener("footer:update",function(e){var t=e.detail;function n(){var e=window.pageYOffset<0;J(f,{data:{hidden:e}})}t.brand&&te(d,"footer:update:brand",t.brand),t.info&&te(c,"footer:update:info",t.info),t.language&&te(u,"footer:update:language",t.language),t.menu&&te(p,"footer:update:menu",t.menu),t.social&&te(h,"footer:update:social",t.social),f.ownerDocument.defaultView.addEventListener("scroll",n),n()}),f};function s(e){var t=e.targetElm,n=e.menuData;document.querySelector(t).classList.add("esri-header-barrier");var a=i(n.header);document.querySelector(t).appendChild(a),window.esriHeader.node=a}function d(e){var t=e.targetElm,n=e.menuData;document.querySelector(t).classList.add("esri-footer-barrier");var a=r(n.footer);document.querySelector(t).appendChild(a),window.esriFooter.node=a}return window.esriHeader={create:i},window.esriFooter={create:r},{createHeader:s,createFooter:d,create:function(e){var t=e.headerElm,n=e.footerElm,a=e.menuData;s({menuData:a,targetElm:t}),d({menuData:a,targetElm:n})}}});