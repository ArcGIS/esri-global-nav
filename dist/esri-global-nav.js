!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.esriGlobalNav=t()}(this,function(){"use strict";function e(t,n,a){for(var i in n)"function"==typeof n[i]?t.addEventListener(a+i,n[i]):Object(n[i])===n[i]?e(t,n[i],a+i+"-"):t.setAttribute(a+i,n[i])}function t(t){var n=t instanceof Node?t:document.createElement(t);return[].slice.call(arguments,1).forEach(function(t){t instanceof Node?n.appendChild(t):"string"==typeof t?n.appendChild(document.createTextNode(t)):e(n,t,"")}),n}function n(e){for(;e.lastChild;)e.removeChild(e.lastChild);return e.appendChild(function(e){var t=document.createDocumentFragment();return[].slice.call(e,1).forEach(function(e){e instanceof Node?t.appendChild(e):t.appendChild(document.createTextNode(e))}),t}(arguments)),e}function a(e,t,n){var a=document.createEvent("CustomEvent");a.initCustomEvent(t,!0,!0,n),e.dispatchEvent(a)}function i(e){var t=void 0,n=[];e.addEventListener("blur",function(){n.forEach(function(e){e.removeAttribute("js-focus"),e.removeAttribute("js-focus-ring")})},!0),e.addEventListener("focus",function(){var e=document.activeElement;e instanceof Element&&(e.setAttribute("js-focus",""),t&&e.setAttribute("js-focus-ring",""),n.push(e))},!0),e.addEventListener("keydown",function(){t=clearTimeout(t)||setTimeout(function(){t=0},100)},!0)}function r(e){function n(e){var n=e.$imgWrapper,a=e.id,i=e.imgDef,r=e.imgClass,o=e.imgWidth,l=e.imgHeight;n.appendChild(t("img",{id:a,src:i,class:r,style:(o?"width:"+o+"px":"")+"; "+(l?"height:"+l+"px":"")}))}var a=e.imgDef,i=void 0===a?"":a,r=e.imgClass,o=void 0===r?"":r,l=e.imgWidth,s=e.imgHeight,c=e.viewBox,u=e.id,p=e.$targetElm,m=t("span"),h={class:o,role:"presentation"};if(l&&s&&(h.width=l,h.height=s),c&&(h.viewBox=c),u&&(h.id=u),"string"==typeof i)i.indexOf(".svg")===i.length-4?function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},a=new XMLHttpRequest;a.addEventListener("readystatechange",function(){4===a.readyState&&(200===a.status?t(a.responseText):n())}),a.open("GET",e),a.send()}(i,function(e){m.innerHTML=e;t(m.firstElementChild,h)},function(){n({$imgWrapper:m,id:u,imgDef:i,imgClass:o,imgWidth:l,imgHeight:s})}):n({$imgWrapper:m,id:u,imgDef:i,imgClass:o,imgWidth:l,imgHeight:s});else{var f=t(document.createElementNS("http://www.w3.org/2000/svg","svg"),h,t.apply(void 0,[document.createDocumentFragment()].concat(d(i.map(function(e){return t(document.createElementNS("http://www.w3.org/2000/svg","path"),{d:e})})))));m.appendChild(f)}return p&&(p.innerHTML="",p.appendChild(m)),m}function o(e){var t=e.targetElm,n=e.menuData;document.querySelector(t).classList.add("esri-header-barrier");var a=g(n.header);document.querySelector(t).appendChild(a)}function l(e){var t=e.targetElm,n=e.menuData;document.querySelector(t).classList.add("esri-footer-barrier");var a=E(n.footer);document.querySelector(t).appendChild(a)}!function(){function e(e){this.value=e}function t(t){function n(i,r){try{var o=t[i](r),l=o.value;l instanceof e?Promise.resolve(l.value).then(function(e){n("next",e)},function(e){n("throw",e)}):a(o.done?"return":"normal",o.value)}catch(e){a("throw",e)}}function a(e,t){switch(e){case"return":i.resolve({value:t,done:!0});break;case"throw":i.reject(t);break;default:i.resolve({value:t,done:!1})}(i=i.next)?n(i.key,i.arg):r=null}var i,r;this._invoke=function(e,t){return new Promise(function(a,o){var l={key:e,arg:t,resolve:a,reject:o,next:null};r?r=r.next=l:(i=r=l,n(e,t))})},"function"!=typeof t.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(t.prototype[Symbol.asyncIterator]=function(){return this}),t.prototype.next=function(e){return this._invoke("next",e)},t.prototype.throw=function(e){return this._invoke("throw",e)},t.prototype.return=function(e){return this._invoke("return",e)}}();var d=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},s="esri-header-account",c="esri-header-brand",u="esri-header-branding-stripe",p="esri-header-menus",m=function(e){var i=e.variant,o=void 0===i?"desktop":i,l=t("div",{class:p,id:p+"-"+o});if(l.classList.add("-"+o),"mobile"===o){var s=t("button",{class:p+"-toggle",id:p+"-"+o+"-toggle",aria:{controls:p+"-content",expanded:!1,haspopup:!0,labelledby:"esri-header-brand"}});s.addEventListener("click",function(e){a(s,"header:menu:toggle",{control:s,content:c,root:!0,state:"menu",target:l,type:"root-toggle",event:e})}),t(l,s)}var c=t("div",{class:p+"-content",aria:{hidden:!0,expanded:!1}});return t(l,c),l.addEventListener("header:update:menus",function(e){var i=e.detail;n.apply(void 0,[c].concat(d(i.map(function(e,n){return t("div",{class:p+"-menu",role:"group"},t.apply(void 0,["ul",{class:p+"-list",role:"navigation",aria:{labelledby:"esri-header-brand"}}].concat(d(e.map(function(e,i){var l=e.icon?r({imgDef:e.icon.path,imgClass:p+"-link-icon",imgWidth:e.icon.width||"16px",imgHeight:e.icon.height||"16px"}):null,s=t("a",{class:p+"-link "+(e.hideLabelInDesktop?"-hide-label":""),id:p+"-link-"+n+"-"+i,href:e.href||"javascript:;"},l,t("span",{class:p+"-link-label"},e.label));e.data&&s({data:e.data});var c=t("li",{class:p+"-item"},s),u=e.menus&&e.menus.length,m=e.tiles&&e.tiles.length;if(u||m){var h=t("button",{class:p+"-submenu-toggle"},e.label),f=t("div",{class:p+"-submenu",id:p+"-"+o+"-submenu-"+n+"-"+i,role:"group",aria:{hidden:!0,expanded:!1},data:{filled:e.menus&&e.menus.length>10?e.menus.slice(0,18).length:""}},h);u&&t(f,t.apply(void 0,["ul",{class:p+"-sublist",role:"navigation",aria:{labelledby:p+"-"+o+"-link-"+n+"-"+i}}].concat(d(e.menus.slice(0,18).map(function(e){var n=t("a",{class:p+"-sublink",href:e.href},e.label);return e.data&&t(n,{data:e.data}),e.newContext&&t(n,{target:"_blank",rel:"noopener"}),t("li",{class:p+"-subitem"},n)}))))),m&&t(f,t.apply(void 0,["ul",{class:p+"-sublist--featured",role:"navigation",aria:{labelledby:p+"-link-"+n+"-"+i},data:{filled:""+e.tiles.slice(0,4).length}}].concat(d(e.tiles.slice(0,4).map(function(e){var n=t("a",{class:p+"-sublink--featured",href:e.href},r({imgDef:e.icon,imgClass:p+"-sublink-image",imgWidth:e.width,imgHeight:e.height}),t("span",{class:p+"-sublink-text"},e.label));return e.data&&t(n,{data:e.data}),e.newContext&&t(n,{target:"_blank",rel:"noopener"}),t("li",{class:p+"-subitem--featured"},n)}))))),t(c,f),s.addEventListener("click",function(){a(s,"header:menu:toggle",{control:s,content:f,submenu:!0,state:"menu",type:"menu-toggle"})}),h.addEventListener("click",function(){a(h,"header:menu:close",{control:s,submenu:!0,content:f,type:"menu-close"})})}return c})))))}))))}),l.addEventListener("header:update:collapseMenus",function(e){var t=e.detail;if(t&&t.indexOf(!0)>-1){document.querySelector(".esri-header-menus-toggle").classList.add("-visible"),document.getElementById("esri-header-brand").classList.add("-fit-burger"),document.getElementById("esri-header-menus-mobile").classList.add("-always-visible");var n=[].slice.call(l.querySelectorAll(".esri-header-menus-menu"));t.forEach(function(e,t){e&&n[t].classList.add("-collapsed")})}}),l},h="esri-header-search",f=function(){var e=t("button",{class:h+"-control",id:h+"-control",aria:{expanded:!1,controls:h+"-content"}});e.addEventListener("click",function(t){a(e,"header:click:search",{event:t}),a(e,"header:menu:toggle",{control:e,content:i,state:"search",target:o,type:"search-toggle",event:t})});var i=t("div",{class:h+"-content",id:h+"-content",aria:{expanded:!1,labelledby:h+"-control"}}),o=t("div",{class:h},e,i);return o.addEventListener("header:update:search",function(o){var l=o.detail;if(!l.hide&&(t(e,{aria:{label:l.label}}),r({imgDef:l.image,imgClass:h+"-image",id:h+"-image",$targetElm:e}),l.dialog)){l.dialog.prefix="esri-header-search-dialog";var d=function(e){function n(n){n&&"reset"===n.type&&(o.value="");var i=o.value;i!==m&&(m=i,a(u,e.prefix+":input",{value:m,event:n})),p&&!i?(p=!1,r.removeAttribute("data-filled"),c.removeAttribute("data-filled")):!p&&i&&(p=!0,t(r,{data:{filled:""}}),t(c,{data:{filled:""}})),l.nodeValue=i;var h=d.scrollWidth+"px";s.style.width=h}function i(t){a(u,e.prefix+":submit",{value:o.value,event:t})}var r=t("label",{class:e.prefix+"-label",for:e.prefix+"-query-control"},e.queryLabel),o=t("input",{class:e.prefix+"-control",id:e.prefix+"-control",type:"search",name:"q",autocapitalize:"off",autocomplete:"off",autocorrect:"off",spellcheck:"false"}),l=document.createTextNode(""),d=t("div",{class:e.prefix+"-measure-text",aria:{hidden:!0}},l),s=t("div",{class:e.prefix+"-measure"},d),c=t("button",{class:e.prefix+"-submit",type:"submit",aria:{label:e.submitLabel}}),u=t("form",{class:e.prefix+"-form",action:e.action,role:"search",aria:{label:e.label}},r,o,s,c);u.addEventListener(e.prefix+":focus",function(){o.focus()});var p=!1,m="";return u.addEventListener("DOMNodeInserted",function t(){u.parentNode&&(u.removeEventListener("DOMNodeInserted",t),a(u,e.prefix+":update",e))}),u.addEventListener(e.prefix+":update",function(){u.ownerDocument.defaultView.matchMedia(e.matchMedia||"(max-width: 720px)").addListener(n),o.addEventListener("input",n),u.addEventListener("reset",n),u.addEventListener("submit",i),u.addEventListener(e.prefix+":unload",onunload)}),u}(l.dialog),s=t("button",{class:"esri-header-search-dialog-cancel",type:"reset"},t("span",l.dialog.cancelLabel));s.addEventListener("click",function(t){a(e,"header:menu:close",{control:e,content:i,state:"search",type:"search-close",event:t})}),t(d,s),n(i,d),e.addEventListener("click",function(t){"true"===e.getAttribute("aria-expanded")&&a(d,l.dialog.prefix+":focus",{event:t})})}}),o},v="esri-header-apps",g=function(e){var o=void 0,l=void 0,p=t("button",{class:"esri-header-canvas",tabindex:"-1",data:{open:!1}});p.addEventListener("click",function(){a(p,"header:menu:close")});var h=function(){var e=t("div",{class:u,id:u});return e.addEventListener("header:update:brand",function(t){var n=t.detail;e.style.backgroundColor=n.topStripe,e.classList.add("-visible")}),e}(),g=function(){var e=t("a",{class:c,id:c});return e.addEventListener("click",function(t){a(e,"header:click:brand",{event:t})}),e.addEventListener("header:update:brand",function(n){var a=n.detail;t(e,{href:a.href,aria:{label:a.label}}),r({imgDef:a.image,imgClass:c+"-image",imgWidth:a.width,imgHeight:a.height,$targetElm:e})}),e}(),b=function(){var e=t("div",{class:s}),i=document.createTextNode(""),o=t("button",{class:s+"-control "+s+"-control--signin"},i);o.addEventListener("click",function(e){a(o,"header:click:signin",{event:e})});var l=t("span"),c=document.createTextNode(""),u=t("span",{class:s+"-name"},c),p=document.createTextNode(""),m=t("span",{class:s+"-id"},p),h=t("button",{class:s+"-control "+s+"-control--signedin",id:s+"-control",aria:{controls:s+"-menu",expanded:!1,haspopup:!0}},l,u,m);h.addEventListener("click",function(t){a(h,"header:click:account",{event:t}),a(h,"header:menu:toggle",{account:!0,control:h,content:N,state:"menu",target:e,type:"account-toggle"})});var f=document.createTextNode(""),v=t("button",{class:s+"-content-toggle"},f);v.addEventListener("click",function(){a(v,"header:menu:close",{control:h,content:N,type:"account-close"})});var g=t("span"),b=document.createTextNode(""),x=document.createTextNode(""),E=document.createTextNode(""),L=t("div",{class:s+"-content-info"},g,t("span",{class:s+"-content-name"},b),t("span",{class:s+"-content-id"},x),t("span",{class:s+"-content-group"},E)),y=t("ul",{class:s+"-content-menu",role:"navigation",aria:{labelledby:s+"-control"}}),w=document.createTextNode(""),k=t("button",{class:s+"-signin-control -switch"},w);k.addEventListener("click",function(e){a(k,"header:click:switch",{event:e})});var C=document.createTextNode(""),D=t("button",{class:s+"-signin-control -logout"},C);D.addEventListener("click",function(e){a(D,"header:click:signout",{event:e})});var M=t("ul",{class:s+"-signin-menu",role:"group"},t("li",{class:s+"-signin-item"},k),t("li",{class:s+"-signin-item"},D)),N=t("div",{class:s+"-menu",id:s+"-menu",role:"group",aria:{expanded:!1,hidden:!0}},v,L,y,M);return e.addEventListener("header:update:account",function(a){var u=a.detail;t(h,{aria:{label:u.label}}),f.nodeValue=u.label,i.nodeValue=u.controls.signin,w.nodeValue=u.controls.switch,C.nodeValue=u.controls.signout,u.user?(c.nodeValue=b.nodeValue=u.user.name,p.nodeValue=x.nodeValue=u.user.id,E.nodeValue=u.user.group,r({imgDef:u.user.image,imgClass:s+"-image",$targetElm:l}),r({imgDef:u.user.image,imgClass:s+"-content-image",$targetElm:g}),n.apply(void 0,[y].concat(d(u.menus.map(function(e){return t("li",{class:s+"-content-item"},t("a",{class:s+"-content-link",href:e.href},e.label))})))),n(e,h,N)):n(e,o)}),e}(),x=m({variant:"mobile"}),E=m({variant:"desktop"}),L=f(),y=function(){var e=t("div",{class:v+"-content",id:v+"-content",aria:{expanded:!1,labelledby:v+"-control"}}),i=t("span",{title:"App Launcher","aria-label":"App Launcher Icon"}),o=t("button",{class:v+"-control empty-padding",id:v+"-control"}),l=t("div",{class:"dropdown"});o.appendChild(l);var d=o;o.addEventListener("click",function(t){a(d,"header:click:apps",{event:t}),t.target.classList.contains(v+"-prevent-dropdown")||a(d,"header:menu:toggle",{state:"menu",target:s,type:"root-toggle",control:d,content:e,event:t})});var s=t("div",{class:v},d),c=function(e,n){var a=["0px","32px","24px","20px","18px","16px","14px"],i=t("li",{alt:"",class:v+"-prevent-dropdown link-off-black appLinkContainer",role:"menuitem"}),o=t("a",{href:n.url,target:"_blank",class:"appLink"});if(n.image){var l=t("div",{class:"appIconImage"});r({imgDef:n.image,imgWidth:48,imgHeight:48,$targetElm:l}),o.appendChild(l)}else{var d=Math.round(u(n.abbr||"","avenir")/5),s=a[d];d>6&&(n.abbr=n.abbr.substr(0,4),s=a[4]);var c=t("div",{class:"appIconImage"}),p=t("span",{style:"font-size: "+s,class:"avenir appIconSvgText"},n.abbr);c.appendChild(p),c.appendChild(r({imgDef:n.placeHolderIcon,imgWidth:48,imgHeight:48})),o.appendChild(c)}var m=t("p",{style:"margin:0 auto; text-align:center"},n.label);o.appendChild(m),i.appendChild(o),e.appendChild(i)},u=function e(t,n){var a=(e.canvas||(e.canvas=document.createElement("canvas"))).getContext("2d");return a.font=n,a.measureText(t).width};return s.addEventListener("header:update:apps",function(a){var o=a.detail;if(r({imgDef:o.image.path,imgWidth:o.image.width,imgHeight:o.image.height,imgClass:v+"-image",$targetElm:i}),o.icons){s.appendChild(e),d.className=v+"-control",t(d,{aria:{label:o.label}});for(var u=o.icons.length,p=" dropdown-width-"+(u<4?u:4),m=t("ul",{class:v+"-prevent-dropdown appContainer",role:"menu"}),h=u>=100?100:u,f=0;f<h;f+=1)c(m,o.icons[f]);var g=t("div",{class:v+"-prevent-dropdown"},m),b=t("nav",{class:v+"-prevent-dropdown dropdown-menu dropdown-right app-switcher-dropdown-menu "+p,role:"menu"},g);n(l,i,b)}}),s}(),w=t("div",{class:"esri-header-client"},b),k=t("div",{class:"esri-header-lineBreak"}),C=t("div",{class:"esri-header -"+(e.theme||"web")},p,h,g,x,E,L,k,y,w);i(C),C.addEventListener("header:update",function(e){var t=e.detail;t.brand&&(t.brand.topStripe&&(a(h,"header:update:brand",t.brand),C.style.marginTop="3px"),a(g,"header:update:brand",t.brand)),t.menus&&(a(E,"header:update:menus",t.menus),a(x,"header:update:menus",t.menus)),t.collapseMenus&&(a(E,"header:update:collapseMenus",t.collapseMenus),a(x,"header:update:collapseMenus",t.collapseMenus)),t.search&&a(L,"header:update:search",t.search),t.account&&a(w.lastChild,"header:update:account",t.account),t.account&&a(w.lastChild,"header:update:account",t.account),t.apps&&a(y,"header:update:apps",t.apps),C.ownerDocument.defaultView.addEventListener("keydown",function(e){27===e.keyCode&&a(C,"header:menu:close")})}),C.addEventListener("header:menu:toggle",function(e){var t=e.detail,n="true"!==t.control.getAttribute("aria-expanded")?"header:menu:open":"header:menu:close";a(t.control,n,t)});var D=null,M=null,N=null,T=null,A=null;return C.addEventListener("header:menu:open",function(e){var n=e.detail,i="menu-toggle"===n.type;t(n.control,{aria:{expanded:!0}}),t(n.content,{aria:{expanded:!0,hidden:!1}}),T&&T.control!==n.control&&a(T.control,"header:menu:close",T),"menu-toggle"===n.type&&(T=n),L===n.target?M=n:M&&(a(L,"header:menu:close",M),M=null),E===n.target||x===n.target?N=n:!N||i||o.matches||(a(E,"header:menu:close",N),a(x,"header:menu:close",N),N=null),b===n.target?D=n:D&&(a(b,"header:menu:close",D),D=null),y===n.target?A=n:A&&(a(y,"header:menu:close",A),A=null),t(p,{data:{open:!0,state:n.state}}),t(C.ownerDocument.documentElement,{data:{"header-is-open":!0}})}),C.addEventListener("header:menu:close",function(e){var n=e.detail||N||M||D||A||T;if(n){t(n.control,{aria:{expanded:!1}}),t(n.content,{aria:{expanded:!1,hidden:!0}});var i=!l.matches||"menu-close"!==n.type&&"account-close"!==n.type;M&&M.control===n.control&&a(M.content.lastChild,"reset"),i&&(t(p,{data:{open:!1}}),C.ownerDocument.documentElement.removeAttribute("data-header-is-open"))}}),C.addEventListener("DOMNodeInserted",function i(){function r(){var e=c.documentElement.clientWidth,t=c.documentElement.clientHeight,a=c.documentElement.scrollHeight;m=getComputedStyle(c.documentElement).overflowY.replace("visible",a>t?"scroll":"visible"),n(p,":root{--esri-vw:"+e+"px;--esri-vh:"+t+"px}[data-header-is-open]{width:"+e+"px;height:"+t+"px;overflow-y:"+m+"}"),(l=u.matchMedia("(max-width: 1023px)")).matches?(E.querySelector(".esri-header-menus-content").classList.add("hidden"),x.querySelector(".esri-header-menus-content").classList.remove("hidden")):(E.querySelector(".esri-header-menus-content").classList.remove("hidden"),x.querySelector(".esri-header-menus-content").classList.add("hidden"))}function d(){o.matches?(a(C,"header:breakpoint:s"),x.lastChild.appendChild(b),E.lastChild.appendChild(b)):(a(C,"header:breakpoint:not:s"),w.appendChild(b))}function s(){l.matches?(a(C,"header:breakpoint:sm"),t(E.lastChild,{aria:{hidden:"false"===E.lastChild.getAttribute("aria-expanded")}})):(a(C,"header:breakpoint:not:sm"),t(E.lastChild,{aria:{hidden:!1}}))}var c=C.ownerDocument,u=c.defaultView,p=t("style"),m=void 0;C.parentNode&&(C.removeEventListener("DOMNodeInserted",i),a(C,"header:update",e),t(c.head,p),u.addEventListener("orientationchange",r),u.addEventListener("resize",r),o=u.matchMedia("(max-width: 767px)"),l=u.matchMedia("(max-width: 1023px)"),o.addListener(d),l.addListener(s),d(),s(),r())}),C},b=function(e,n){function i(e){e.preventDefault(),t(u,{aria:{expanded:!1}})}document.createTextNode(e.buttonLabel);var r=document.createElement("button");r.classList.add(n+"-language-control"),r.setAttribute("ariaDescribedby",n+"-language"),r.innerHTML=e.buttonLabel;var o=t("div",{class:n+"-language"},r);r.addEventListener("click",function(e){e.preventDefault(),t(u,{aria:{expanded:!0}})}),e.prefix=n+"-language-dialog";var l=function(e){var n=t.apply(void 0,["select",{class:e.prefix+"-choice",autofocus:"",aria:{label:e.optionsLabel}}].concat(d(e.options.map(function(e){var t=document.createElement("option");return t.value=e.value,t.innerHTML=e.label,t})))),a=t("form",{class:e.prefix,aria:{labelledby:e.prefix+"-message",describedby:"dialog-description"}},t("p",{class:e.prefix+"-message",id:e.prefix+"-message"},t("strong",e.greetingLabel)," ",e.messageLabel),n,t("button",{class:e.prefix+"-submit",type:"submit",aria:{label:e.submitLabel+" "+e.optionsLabel}},e.submitLabel));return a.addEventListener("submit",function(e){e.preventDefault(),window.location.href=n.value}),a}(e),s=t("button",{class:n+"-language-dialog-close",id:"dialog-description",ariaLabel:e.closeLabel});s.addEventListener("click",i),t(l,s);var c=t("button",{class:n+"-language-dialog-cancel-canvas",type:"button",tabindex:-1});c.addEventListener("click",i);var u=t("div",{class:n+"-language-dialog-barrier",aria:{expanded:!1}},l,c);return r.addEventListener("click",function(){a(r,"footer:click:language",e)}),o.addEventListener("footer:update:language",function(e){var t=e.detail;r.innerHTML=t.buttonLabel,o.ownerDocument.body.appendChild(u),o.ownerDocument.defaultView.addEventListener("keydown",function(){27===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:event).keyCode&&i(event)})}),o},x=function(e,n){function i(){s!==l.matches&&(s=l.matches,c.forEach(function(e){s?function(e){var n="true"!==e.nextElementSibling.getAttribute("aria-hidden");t(e,{tabindex:0,role:"button",aria:{expanded:!n,haspopup:!n}}),e.addEventListener("click",r),e.addEventListener("keypress",o),t(e.nextElementSibling,{aria:{hidden:!0}})}(e.firstChild):function(e){e.removeAttribute("aria-controls"),e.removeAttribute("aria-expanded"),e.removeAttribute("aria-haspopup"),e.removeAttribute("role"),e.removeAttribute("tabindex"),e.addEventListener("click",r),e.addEventListener("keypress",o),e.nextElementSibling.removeAttribute("aria-hidden")}(e.firstChild)}))}function r(e){var n=e.currentTarget,a=n.nextElementSibling,i="true"!==a.getAttribute("aria-hidden");t(n,{aria:{expanded:!i,haspopup:!i}}),t(a,{aria:{hidden:i}}),t(n,i?{aria:{controls:0}}:{aria:{controls:a.id}})}function o(e){13!==e.keyCode&&32!==e.keyCode||(e.preventDefault(),a(e.currentTarget,"click"))}var l=matchMedia("(max-width: 719px)"),s=!1;l.addListener(i);var c=e.menu.map(function(e,a){return t("li",{class:n+"-menu-item",id:n+"-menu-link--"+a},t("span",{class:n+"-menu-link",role:"heading"},e.label),t("div",{class:n+"-menu--sub",id:n+"-menu--sub--"+a,aria:{labelledby:n+"-menu-link--"+a}},t.apply(void 0,["ul",{class:n+"-menu-list--sub",role:"presentation"}].concat(d(e.menu.map(function(e){return t("li",{class:n+"-menu-item--sub"},t("a",{class:n+"-menu-link--sub",href:e.href},e.label))}))))))}),u=t("div",{class:n+"-menu",aria:{label:e.label}},t.apply(void 0,["ul",{class:n+"-menu-list",role:"presentation"}].concat(d(c))));return i(),u},E=function(e){var n=e.prefix||"esri-footer",o=function(e,n){return t("div",{class:n+"-brand"},t("a",{class:n+"-brand-link",href:e.href,aria:{label:e.label}},r({imgDef:e.path,imgClass:n+"-brand-image"})))}(e.brand,n),l=function(e,n){return t("div",{class:n+"-info",aria:{label:e.label}},t.apply(void 0,["ul",{class:n+"-info-list",role:"presentation"}].concat(d(e.menu.map(function(e,a){return t("li",{class:n+"-info-item",id:n+"-info-link--"+a},t("a",{class:n+"-info-link",href:e.href},e.label))})))))}(e.info,n),s=e.language?b(e.language,n):t("div",{class:"esri-footer-language"}),c=x(e.menu,n),u=function(e,n){var a=document.createDocumentFragment();return e.menu.forEach(function(e){return t(a,t("li",{class:n+"-social-item"},t("a",{class:n+"-social-link -"+e.label.toLowerCase(),href:e.href,aria:{label:e.label}},r({imgDef:e.image.path,imgClass:n+"-social-image",imgWidth:30,imgHeight:30,viewBox:e.image.viewBox}))))}),t("div",{class:n+"-social",aria:{label:e.label}},t("ul",{class:n+"-social-list",role:"presentation"},a))}(e.social,n),p=t("footer",{class:n+" "+(e.hideMenus?"skinny-footer":""),role:"navigation",aria:{label:e.label}},t("div",{class:n+"-section--1 "+(e.hideMenus?"hidden":"")},o,u),t("div",{class:n+"-section--2 "+(e.hideMenus?"hidden":"")},c),t("div",{class:n+"-section--3"},s,l));return p.addEventListener("DOMNodeInserted",function t(){p.removeEventListener("DOMNodeInserted",t),p.addEventListener("focusin",function(){var e=p.ownerDocument.documentElement.scrollHeight-p.scrollHeight;e>p.ownerDocument.defaultView.pageYOffset&&p.ownerDocument.defaultView.scrollTo(0,e)}),e.hideMenus&&document.querySelector(".esri-footer-barrier").classList.add("skinny-footer"),a(p,"footer:update",e)}),i(p),p.addEventListener("footer:update",function(e){function n(){var e=0>window.pageYOffset;t(p,{data:{hidden:e}})}var i=e.detail;i.brand&&a(o,"footer:update:brand",i.brand),i.info&&a(l,"footer:update:info",i.info),i.language&&a(s,"footer:update:language",i.language),i.menu&&a(c,"footer:update:menu",i.menu),i.social&&a(u,"footer:update:social",i.social),p.ownerDocument.defaultView.addEventListener("scroll",n),n()}),p};window.esriHeader={create:g},window.esriFooter={create:E};return{createHeader:o,createFooter:l,create:function(e){var t=e.headerElm,n=e.footerElm,a=e.menuData;o({menuData:a,targetElm:t}),l({menuData:a,targetElm:n})}}});
//# sourceMappingURL=esri-global-nav.js.map
