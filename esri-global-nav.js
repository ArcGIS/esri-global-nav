var esriGlobalNav=function(){"use strict";function e(t,n,a){for(var r in n)"function"==typeof n[r]?t.addEventListener(a+r,n[r]):Object(n[r])===n[r]?e(t,n[r],a+r+"-"):t.setAttribute(a+r,n[r])}function t(t){var n=t instanceof Node?t:document.createElement(t);return[].slice.call(arguments,1).forEach(function(t){t instanceof Node?n.appendChild(t):"string"==typeof t?n.appendChild(document.createTextNode(t)):e(n,t,"")}),n}function n(e){for(;e.lastChild;)e.removeChild(e.lastChild);return e.appendChild(a(arguments)),e}function a(e){var t=document.createDocumentFragment();return[].slice.call(e,1).forEach(function(e){e instanceof Node?t.appendChild(e):t.appendChild(document.createTextNode(e))}),t}function r(e,t,n){var a=document.createEvent("CustomEvent");a.initCustomEvent(t,!0,!0,n),e.dispatchEvent(a)}function i(e){var t=void 0,n=[];e.addEventListener("blur",function(){n.forEach(function(e){e.removeAttribute("js-focus"),e.removeAttribute("js-focus-ring")})},!0),e.addEventListener("focus",function(){var e=document.activeElement;e instanceof Element&&(e.setAttribute("js-focus",""),t&&e.setAttribute("js-focus-ring",""),n.push(e))},!0),e.addEventListener("keydown",function(){t=clearTimeout(t)||setTimeout(function(){t=0},100)},!0)}function o(e){var t=e.targetElm,n=e.menuData,a=b(n.header);document.querySelector(t).appendChild(a)}function l(e){var t=e.targetElm,n=e.menuData,a=N(n.footer);document.querySelector(t).appendChild(a)}!function(){function e(e){this.value=e}function t(t){function n(r,i){try{var o=t[r](i),l=o.value;l instanceof e?Promise.resolve(l.value).then(function(e){n("next",e)},function(e){n("throw",e)}):a(o.done?"return":"normal",o.value)}catch(e){a("throw",e)}}function a(e,t){switch(e){case"return":r.resolve({value:t,done:!0});break;case"throw":r.reject(t);break;default:r.resolve({value:t,done:!1})}(r=r.next)?n(r.key,r.arg):i=null}var r,i;this._invoke=function(e,t){return new Promise(function(a,o){var l={key:e,arg:t,resolve:a,reject:o,next:null};i?i=i.next=l:(r=i=l,n(e,t))})},"function"!=typeof t.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(t.prototype[Symbol.asyncIterator]=function(){return this}),t.prototype.next=function(e){return this._invoke("next",e)},t.prototype.throw=function(e){return this._invoke("throw",e)},t.prototype.return=function(e){return this._invoke("return",e)}}();var c=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},d="esri-header-account",s=function(){var e=t("div",{class:d}),a=document.createTextNode(""),i=t("button",{class:d+"-control "+d+"-control--signin"},a);i.addEventListener("click",function(e){r(i,"header:click:signin",{event:e})});var o=t("img",{class:d+"-image"}),l=document.createTextNode(""),s=t("span",{class:d+"-name"},l),u=document.createTextNode(""),m=t("span",{class:d+"-id"},u),v=t("button",{class:d+"-control "+d+"-control--signedin",id:d+"-control",aria:{controls:d+"-menu",expanded:!1,haspopup:!0}},o,s,m);v.addEventListener("click",function(t){r(v,"header:click:account",{event:t}),r(v,"header:menu:toggle",{account:!0,control:v,content:D,state:"menu",target:e,type:"account-toggle"})});var p=document.createTextNode(""),f=t("button",{class:d+"-content-toggle"},p);f.addEventListener("click",function(){r(f,"header:menu:close",{control:v,content:D,type:"account-close"})});var h=t("img",{class:d+"-content-image",role:"presentation"}),g=document.createTextNode(""),b=document.createTextNode(""),w=document.createTextNode(""),x=t("div",{class:d+"-content-info"},h,t("span",{class:d+"-content-name"},g),t("span",{class:d+"-content-id"},b),t("span",{class:d+"-content-group"},w)),E=t("ul",{class:d+"-content-menu",role:"navigation",aria:{labelledby:d+"-control"}}),y=document.createTextNode(""),L=t("button",{class:d+"-signin-control -switch"},y);L.addEventListener("click",function(e){r(L,"header:click:switch",{event:e})});var k=document.createTextNode(""),N=t("button",{class:d+"-signin-control -logout"},k);N.addEventListener("click",function(e){r(N,"header:click:signout",{event:e})});var C=t("ul",{class:d+"-signin-menu",role:"group"},t("li",{class:d+"-signin-item"},L),t("li",{class:d+"-signin-item"},N)),D=t("div",{class:d+"-menu",id:d+"-menu",role:"group",aria:{expanded:!1,hidden:!0}},f,x,E,C);return e.addEventListener("header:update:account",function(r){var s=r.detail;t(v,{aria:{label:s.label}}),p.nodeValue=s.label,a.nodeValue=s.controls.signin,y.nodeValue=s.controls.switch,k.nodeValue=s.controls.signout,s.user?(l.nodeValue=g.nodeValue=s.user.name,u.nodeValue=b.nodeValue=s.user.id,o.src=h.src=s.user.image,w.nodeValue=s.user.group,n.apply(void 0,[E].concat(c(s.menus.map(function(e){return t("li",{class:d+"-content-item"},t("a",{class:d+"-content-link",href:e.href},e.label))})))),n(e,v,D)):n(e,i)}),e},u="esri-header-brand",m=function(){var e=t(document.createElementNS("http://www.w3.org/2000/svg","svg"),{class:u+"-image"}),a=t("a",{class:u,id:u},e);return a.addEventListener("click",function(e){r(a,"header:click:brand",{event:e})}),a.addEventListener("header:update:brand",function(r){var i=r.detail;t(a,{href:i.href,aria:{label:i.label}}),t(e,{viewBox:"0 0 "+i.width+" "+i.height,width:""+i.width,height:""+i.height}),n.apply(void 0,[e].concat(c(i.image.map(function(e){return t(document.createElementNS("http://www.w3.org/2000/svg","path"),{d:e})}))))}),a},v="esri-header-menus",p=function(){var e=t("button",{class:v+"-toggle",id:v+"-toggle",aria:{controls:v+"-content",expanded:!1,haspopup:!0,labelledby:"esri-header-brand"}});e.addEventListener("click",function(t){r(e,"header:menu:toggle",{control:e,content:a,root:!0,state:"menu",target:i,type:"root-toggle",event:t})});var a=t("div",{class:v+"-content",aria:{hidden:!0,expanded:!1}}),i=t("div",{class:v,id:v},e,a);return i.addEventListener("header:update:menus",function(e){var i=e.detail;n.apply(void 0,[a].concat(c(i.map(function(e,n){return t("div",{class:v+"-menu",role:"group"},t.apply(void 0,["ul",{class:v+"-list",role:"navigation",aria:{labelledby:"esri-header-brand"}}].concat(c(e.map(function(e,a){var i=t("a",{class:v+"-link",id:v+"-link-"+n+"-"+a,href:e.href||"javascript:;"},e.label);e.data&&i({data:e.data});var o=t("li",{class:v+"-item"},i),l=e.menus&&e.menus.length,d=e.tiles&&e.tiles.length;if(l||d){var s=t("button",{class:v+"-submenu-toggle"},e.label),u=t("div",{class:v+"-submenu",id:v+"-submenu-"+n+"-"+a,role:"group",aria:{hidden:!0,expanded:!1},data:{filled:e.menus.length>10?e.menus.slice(0,18).length:""}},s);l&&t(u,t.apply(void 0,["ul",{class:v+"-sublist",role:"navigation",aria:{labelledby:v+"-link-"+n+"-"+a}}].concat(c(e.menus.slice(0,18).map(function(e){var n=t("a",{class:v+"-sublink",href:e.href},e.label);return e.data&&t(n,{data:e.data}),e.newContext&&t(n,{target:"_blank",rel:"noopener"}),t("li",{class:v+"-subitem"},n)}))))),d&&t(u,t.apply(void 0,["ul",{class:v+"-sublist--featured",role:"navigation",aria:{labelledby:v+"-link-"+n+"-"+a},data:{filled:""+e.tiles.slice(0,4).length}}].concat(c(e.tiles.slice(0,4).map(function(e){var n=t("a",{class:v+"-sublink--featured",href:e.href},t(document.createElementNS("http://www.w3.org/2000/svg","svg"),e.width&&e.height?{viewBox:"0 0 "+e.width+" "+e.height}:{},{class:v+"-sublink-image"},t.apply(void 0,[document.createDocumentFragment()].concat(c(e.icon.map(function(e){return t(document.createElementNS("http://www.w3.org/2000/svg","path"),{d:e})}))))),t("span",{class:v+"-sublink-text"},e.label));return e.data&&t(n,{data:e.data}),e.newContext&&t(n,{target:"_blank",rel:"noopener"}),t("li",{class:v+"-subitem--featured"},n)}))))),t(o,u),i.addEventListener("click",function(){r(i,"header:menu:toggle",{control:i,content:u,submenu:!0,state:"menu",type:"menu-toggle"})}),s.addEventListener("click",function(){r(s,"header:menu:close",{control:i,submenu:!0,content:u,type:"menu-close"})})}return o})))))}))))}),i},f=function(e){function n(n){n&&"reset"===n.type&&(o.value="");var a=o.value;a!==v&&(v=a,r(u,e.prefix+":input",{value:v,event:n})),m&&!a?(m=!1,i.removeAttribute("data-filled"),s.removeAttribute("data-filled")):!m&&a&&(m=!0,t(i,{data:{filled:""}}),t(s,{data:{filled:""}})),l.nodeValue=a;var p=c.scrollWidth+"px";d.style.width=p}function a(t){r(u,e.prefix+":submit",{value:o.value,event:t})}var i=t("label",{class:e.prefix+"-label",for:e.prefix+"-query-control"},e.queryLabel),o=t("input",{class:e.prefix+"-control",id:e.prefix+"-control",type:"search",name:"q",autocapitalize:"off",autocomplete:"off",autocorrect:"off",spellcheck:"false"}),l=document.createTextNode(""),c=t("div",{class:e.prefix+"-measure-text",aria:{hidden:!0}},l),d=t("div",{class:e.prefix+"-measure"},c),s=t("button",{class:e.prefix+"-submit",type:"submit",aria:{label:e.submitLabel}}),u=t("form",{class:e.prefix+"-form",action:e.action,role:"search",aria:{label:e.label}},i,o,d,s);u.addEventListener(e.prefix+":focus",function(){o.focus()});var m=!1,v="";return u.addEventListener("DOMNodeInserted",function t(){u.parentNode&&(u.removeEventListener("DOMNodeInserted",t),r(u,e.prefix+":update",e))}),u.addEventListener(e.prefix+":update",function(){u.ownerDocument.defaultView.matchMedia(e.matchMedia||"(max-width: 720px)").addListener(n),o.addEventListener("input",n),u.addEventListener("reset",n),u.addEventListener("submit",a),u.addEventListener(e.prefix+":unload",onunload)}),u},h="esri-header-search",g=function(){var e=t(document.createElementNS("http://www.w3.org/2000/svg","svg"),{class:h+"-image",id:h+"-image"}),a=t("button",{class:h+"-control",id:h+"-control",aria:{expanded:!1,controls:h+"-content"}},e);a.addEventListener("click",function(e){r(a,"header:click:search",{event:e}),r(a,"header:menu:toggle",{control:a,content:i,state:"search",target:o,type:"search-toggle",event:e})});var i=t("div",{class:h+"-content",id:h+"-content",aria:{expanded:!1,labelledby:h+"-control"}}),o=t("div",{class:h},a,i);return o.addEventListener("header:update:search",function(o){var l=o.detail;if(t(a,{aria:{label:l.label}}),"string"==typeof l.image?(e.removeAttribute("viewBox"),n(e,t("use",{href:l.image}))):n.apply(void 0,[e].concat(c(l.image.map(function(e){return t(document.createElementNS("http://www.w3.org/2000/svg","path"),{d:e})})))),l.dialog){l.dialog.prefix="esri-header-search-dialog";var d=f(l.dialog),s=t("button",{class:"esri-header-search-dialog-cancel",type:"reset"},t("span",l.dialog.cancelLabel));s.addEventListener("click",function(e){r(a,"header:menu:close",{control:a,content:i,state:"search",type:"search-close",event:e})}),t(d,s),n(i,d),a.addEventListener("click",function(e){"true"===a.getAttribute("aria-expanded")&&r(d,l.dialog.prefix+":focus",{event:e})})}}),o},b=function(e){var a=void 0,o=void 0,l=t("button",{class:"esri-header-canvas",tabindex:"-1",data:{open:!1}});l.addEventListener("click",function(){r(l,"header:menu:close")});var c=m(),d=s(),u=p(),v=g(),f=t("div",{class:"esri-header-client"},d),h=t("div",{class:"esri-header -"+(e.theme||"web")},l,c,u,v,f);i(h),h.addEventListener("header:update",function(e){var t=e.detail;t.brand&&r(c,"header:update:brand",t.brand),t.menus&&r(u,"header:update:menus",t.menus),t.search&&r(v,"header:update:search",t.search),t.account&&r(f.lastChild,"header:update:account",t.account),h.ownerDocument.defaultView.addEventListener("keydown",function(e){27===e.keyCode&&r(h,"header:menu:close")})}),h.addEventListener("header:menu:toggle",function(e){var t=e.detail,n="true"!==t.control.getAttribute("aria-expanded")?"header:menu:open":"header:menu:close";r(t.control,n,t)});var b=null,w=null,x=null,E=null;return h.addEventListener("header:menu:open",function(e){var n=e.detail,i="menu-toggle"===n.type;t(n.control,{aria:{expanded:!0}}),t(n.content,{aria:{expanded:!0,hidden:!1}}),E&&E.control!==n.control&&r(E.control,"header:menu:close",E),"menu-toggle"===n.type&&(E=n),v===n.target?w=n:w&&(r(v,"header:menu:close",w),w=null),u===n.target?x=n:!x||i||a.matches||(r(u,"header:menu:close",x),x=null),d===n.target?b=n:b&&(r(d,"header:menu:close",b),b=null),t(l,{data:{open:!0,state:n.state}}),t(h.ownerDocument.documentElement,{data:{"header-is-open":!0}})}),h.addEventListener("header:menu:close",function(e){var n=e.detail||x||w||b||E;if(n){t(n.control,{aria:{expanded:!1}}),t(n.content,{aria:{expanded:!1,hidden:!0}});var a=!o.matches||"menu-close"!==n.type&&"account-close"!==n.type;w&&w.control===n.control&&r(w.content.lastChild,"reset"),a&&(t(l,{data:{open:!1}}),h.ownerDocument.documentElement.removeAttribute("data-header-is-open"))}}),h.addEventListener("DOMNodeInserted",function i(){function l(){var e=m.documentElement.clientWidth,t=m.documentElement.clientHeight,a=m.documentElement.scrollHeight;g=getComputedStyle(m.documentElement).overflowY.replace("visible",function(){return a>t?"scroll":"visible"}),n(p,":root{--esri-vw:"+e+"px;--esri-vh:"+t+"px}[data-header-is-open]{width:"+e+"px;height:"+t+"px;overflow-y:"+g+"}")}function c(){a.matches?(r(h,"header:breakpoint:s"),u.lastChild.appendChild(d)):(r(h,"header:breakpoint:not:s"),f.appendChild(d))}function s(){o.matches?(r(h,"header:breakpoint:sm"),t(u.lastChild,{aria:{hidden:"false"===u.lastChild.getAttribute("aria-expanded")}})):(r(h,"header:breakpoint:not:sm"),t(u.lastChild,{aria:{hidden:!1}}))}var m=h.ownerDocument,v=m.defaultView,p=t("style"),g=void 0;h.parentNode&&(h.removeEventListener("DOMNodeInserted",i),r(h,"header:update",e),t(m.head,p),v.addEventListener("orientationchange",l),v.addEventListener("resize",l),l(),a=v.matchMedia("(max-width: 767px)"),o=v.matchMedia("(max-width: 1023px)"),a.addListener(c),o.addListener(s),c(),s())}),h},w=function(e,n){return t("div",{class:n+"-brand"},t("a",{class:n+"-brand-link",href:e.href,aria:{label:e.label}},t(document.createElementNS("http://www.w3.org/2000/svg","svg"),{class:n+"-brand-image",width:"114",height:"114",viewBox:e.viewBox,role:"presentation"},t(document.createElementNS("http://www.w3.org/2000/svg","path"),{d:e.path}))))},x=function(e){var n=t.apply(void 0,["select",{class:e.prefix+"-choice",autofocus:"",aria:{label:e.optionsLabel}}].concat(c(e.options.map(function(e){return t("option",{value:e.value},e.label)})))),a=t("form",{class:e.prefix,aria:{labelledby:e.prefix+"-message",describedby:"dialog-description"}},t("p",{class:e.prefix+"-message",id:e.prefix+"-message"},t("strong",e.greetingLabel)," ",e.messageLabel),n,t("button",{class:e.prefix+"-submit",type:"submit",aria:{label:e.submitLabel+" "+e.optionsLabel}},e.submitLabel));return a.addEventListener("submit",function(e){e.preventDefault(),window.location.href=n.value}),a},E=function(e,n){function a(e){e.preventDefault(),t(u,{aria:{expanded:!1}})}var i=document.createTextNode(e.buttonLabel),o=t("button",{class:n+"-language-control",ariaDescribedby:n+"-language"},i),l=t("div",{class:n+"-language"},o);o.addEventListener("click",function(e){e.preventDefault(),t(u,{aria:{expanded:!0}})}),e.prefix=n+"-language-dialog";var c=x(e),d=t("button",{class:n+"-language-dialog-close",id:"dialog-description",ariaLabel:e.closeLabel});d.addEventListener("click",a),t(c,d);var s=t("button",{class:n+"-language-dialog-cancel-canvas",type:"button",tabindex:-1});s.addEventListener("click",a);var u=t("div",{class:n+"-language-dialog-barrier",aria:{expanded:!1}},c,s);return o.addEventListener("click",function(){r(o,"footer:click:language",e)}),l.addEventListener("footer:update:language",function(e){var t=e.detail;i.nodeValue=t.buttonLabel,l.ownerDocument.body.appendChild(u),l.ownerDocument.defaultView.addEventListener("keydown",function(){27===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:event).keyCode&&a(event)})}),l},y=function(e,n){function a(){u!==s.matches&&(u=s.matches,m.forEach(function(e){u?i(e.firstChild):o(e.firstChild)}))}function i(e){var n="true"!==e.nextElementSibling.getAttribute("aria-hidden");t(e,{tabindex:0,role:"button",aria:{expanded:!n,haspopup:!n}}),e.addEventListener("click",l),e.addEventListener("keypress",d),t(e.nextElementSibling,{aria:{hidden:!0}})}function o(e){e.removeAttribute("aria-controls"),e.removeAttribute("aria-expanded"),e.removeAttribute("aria-haspopup"),e.removeAttribute("role"),e.removeAttribute("tabindex"),e.addEventListener("click",l),e.addEventListener("keypress",d),e.nextElementSibling.removeAttribute("aria-hidden")}function l(e){var n=e.currentTarget,a=n.nextElementSibling,r="true"!==a.getAttribute("aria-hidden");t(n,{aria:{expanded:!r,haspopup:!r}}),t(a,{aria:{hidden:r}}),r?t(n,{aria:{controls:0}}):t(n,{aria:{controls:a.id}})}function d(e){13!==e.keyCode&&32!==e.keyCode||(e.preventDefault(),r(e.currentTarget,"click"))}var s=matchMedia("(max-width: 719px)"),u=!1;s.addListener(a);var m=e.menu.map(function(e,a){return t("li",{class:n+"-menu-item",id:n+"-menu-link--"+a},t("span",{class:n+"-menu-link",role:"heading"},e.label),t("nav",{class:n+"-menu--sub",id:n+"-menu--sub--"+a,aria:{labelledby:n+"-menu-link--"+a}},t.apply(void 0,["ul",{class:n+"-menu-list--sub",role:"presentation"}].concat(c(e.menu.map(function(e){return t("li",{class:n+"-menu-item--sub"},t("a",{class:n+"-menu-link--sub",href:e.href},e.label))}))))))}),v=t("nav",{class:n+"-menu",aria:{label:e.label}},t.apply(void 0,["ul",{class:n+"-menu-list",role:"presentation"}].concat(c(m))));return a(),v},L=function(e,n){return t("nav",{class:n+"-info",aria:{label:e.label}},t.apply(void 0,["ul",{class:n+"-info-list",role:"presentation"}].concat(c(e.menu.map(function(e,a){return t("li",{class:n+"-info-item",id:n+"-info-link--"+a},t("a",{class:n+"-info-link",href:e.href},e.label))})))))},k=function(e,n){return t("nav",{class:n+"-social",aria:{label:e.label}},t("ul",{class:n+"-social-list",role:"presentation"},e.menu.reduce(function(e,a){return t(e,t("li",{class:n+"-social-item"},t("a",{class:n+"-social-link -"+a.label.toLowerCase(),href:a.href,aria:{label:a.label}},t(document.createElementNS("http://www.w3.org/2000/svg","svg"),{class:n+"-social-image",width:30,height:30,viewBox:a.image.viewBox,role:"presentation"},t(document.createElementNS("http://www.w3.org/2000/svg","path"),{d:a.image.path})))))},document.createDocumentFragment())))},N=function(e){var n=e.prefix||"esri-footer",a=w(e.brand,n),o=L(e.info,n),l=E(e.language,n),c=y(e.menu,n),d=k(e.social,n),s=t("footer",{class:n,aria:{label:e.label}},t("div",{class:n+"-section--1"},a,d),t("div",{class:n+"-section--2"},c),t("div",{class:n+"-section--3"},l,o));return s.addEventListener("DOMNodeInserted",function t(){s.removeEventListener("DOMNodeInserted",t),s.addEventListener("focusin",function(){var e=s.ownerDocument.documentElement.scrollHeight-s.scrollHeight;e>s.ownerDocument.defaultView.pageYOffset&&s.ownerDocument.defaultView.scrollTo(0,e)}),r(s,"footer:update",e)}),i(s),s.addEventListener("footer:update",function(e){function n(){var e=0>window.pageYOffset;t(s,{data:{hidden:e}})}var i=e.detail;i.brand&&r(a,"footer:update:brand",i.brand),i.info&&r(o,"footer:update:info",i.info),i.language&&r(l,"footer:update:language",i.language),i.menu&&r(c,"footer:update:menu",i.menu),i.social&&r(d,"footer:update:social",i.social),s.ownerDocument.defaultView.addEventListener("scroll",n),n()}),s};return window.esriHeader={create:b},window.esriFooter={create:N},{createHeader:o,createFooter:l,create:function(e){var t=e.headerElm,n=e.footerElm,a=e.menuData;o({menuData:a,targetElm:t}),l({menuData:a,targetElm:n})}}}();
//# sourceMappingURL=esri-global-nav.js.map
