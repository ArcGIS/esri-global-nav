{"version":3,"file":"esri-header.js","sources":["node_modules/domose/domose.js","node_modules/esri-global-shared/shared.js","header.js","dependent-js/header-account.js","dependent-js/header-brand.js","dependent-js/header-menus.js","node_modules/esri-global-search/dependent-js/search.js","dependent-js/header-search.js","dependent-js/header.js"],"sourcesContent":["/* Speculative DOM Functionality\n/* ========================================================================== */\n\nfunction __assignSource(element, source, prefix) {\n\tfor (let key in source) {\n\t\tif ('function' === typeof source[key]) {\n\t\t\t// add functions as event listeners\n\t\t\telement.addEventListener(prefix + key, source[key]);\n\t\t} else if (Object(source[key]) === source[key]) {\n\t\t\t// assign objects as source\n\t\t\t__assignSource(element, source[key], `${prefix + key}-`);\n\t\t} else {\n\t\t\t// otherwise, set attributes\n\t\t\telement.setAttribute(prefix + key, source[key]);\n\t\t}\n\t}\n}\n\n/* Assign an element with attributes, events, and children\n/* ========================================================================== */\n\nfunction $assign(id) {\n\t// $assign(element, { class: 'btn', click: () => { /* listener */ } });\n\t// $assign('button', { aria: { label: 'title' } }, child);\n\t// $assign('div', child1, child2, 'a new text node');\n\t// $assign(document.createElementNS('http://www.w3.org/2000/svg', 'svg'));\n\n\tconst element = id instanceof Node ? id : document.createElement(id);\n\n\t[].slice.call(arguments, 1).forEach((source) => {\n\t\tif (source instanceof Node) {\n\t\t\t// append sources that are nodes\n\t\t\telement.appendChild(source);\n\t\t} else if ('string' === typeof source) {\n\t\t\t// append strings as text nodes\n\t\t\telement.appendChild(\n\t\t\t\tdocument.createTextNode(source)\n\t\t\t);\n\t\t} else {\n\t\t\t__assignSource(element, source, '');\n\t\t}\n\t});\n\n\treturn element;\n}\n\n/* Replace all the children of a parent node with new children\n/* ========================================================================== */\n\nfunction $replaceAll(parentNode) {\n\t// $replaceAll(element);\n\t// $replaceAll(element, child1, child2);\n\n\twhile (parentNode.lastChild) {\n\t\tparentNode.removeChild(parentNode.lastChild);\n\t}\n\n\tparentNode.appendChild(\n\t\t__asFragment(arguments)\n\t);\n\n\treturn parentNode;\n}\n\n/* Wrap a child node within an element\n/* ========================================================================== */\n\nfunction $wrapWith(childNode, element) {\n\t// $wrapWith(element, wrappingElement);\n\n\tif (childNode.parentNode) {\n\t\tchildNode.parentNode.insertBefore(element, childNode).appendChild(childNode);\n\t}\n\n\treturn childNode;\n}\n\n/* Emerging DOM Functionality\n/* ========================================================================== */\n\nfunction __asFragment(nodes) {\n\tconst fragment = document.createDocumentFragment();\n\n\t[].slice.call(nodes, 1).forEach((node) => {\n\t\tif (node instanceof Node) {\n\t\t\tfragment.appendChild(node);\n\t\t} else {\n\t\t\tfragment.appendChild(\n\t\t\t\tdocument.createTextNode(node)\n\t\t\t);\n\t\t}\n\t});\n\n\treturn fragment;\n}\n\n/* Insert nodes after a child node\n/* ========================================================================== */\n\nfunction $after(childNode) {\n\t// $after(element, sibling1, sibling2, 'a new text node');\n\n\tif (childNode.parentNode) {\n\t\tchildNode.parentNode.insertBefore(\n\t\t\t__asFragment(arguments),\n\t\t\tchildNode.nextSibling\n\t\t);\n\t}\n\n\treturn childNode;\n}\n\n/* Appends nodes to a parent node\n/* ========================================================================== */\n\nfunction $append(parentNode) {\n\t// $append(parentNode, child1, child2, 'a new text node');\n\n\tparentNode.append(\n\t\t__asFragment(arguments)\n\t);\n\n\treturn parentNode;\n}\n\n/* Insert nodes before an element\n/* ========================================================================== */\n\nfunction $before(element) {\n\t// $before(element, sibling1, sibling2, 'a new text node');\n\n\tif (element.parentNode) {\n\t\telement.parentNode.insertBefore(\n\t\t\t__asFragment(arguments),\n\t\t\telement\n\t\t);\n\t}\n\n\treturn element;\n}\n\n/* Return the closest ancestor element matching a given selector\n/* ========================================================================== */\n\nfunction $closest(element, selectors) {\n\t// $closest(element, selectors);\n\n\tlet target = element;\n\n\twhile (target && 1 === target.nodeType) {\n\t\tif ($matches(target, selectors)) {\n\t\t\treturn target;\n\t\t}\n\n\t\ttarget = target.parentNode;\n\t}\n\n\treturn null;\n}\n\n/* Return whether or not a DOM element matches a given selector\n/* ========================================================================== */\n\nfunction $matches(element, selectors) {\n\t// $matches(element, selectors);\n\n\tconst elements = element.parentNode.querySelectorAll(selectors);\n\n\tlet index = 0;\n\n\twhile (elements[index] && elements[index] !== element) {\n\t\t++index;\n\t}\n\n\treturn Boolean(elements[index]);\n}\n\n/* Prepends a child to a parent node\n/* ========================================================================== */\n\nfunction $prepend(parentNode) {\n\t// $prepend(element, child1, child2, 'a new text node');\n\n\tparentNode.insertBefore(\n\t\t__asFragment(arguments),\n\t\tparentNode.firstChild\n\t);\n\n\treturn parentNode;\n}\n\n/* Remove a child node from its parent\n/* ========================================================================== */\n\nfunction $remove(childNode) {\n\t// $remove(element);\n\n\tif (childNode.parentNode) {\n\t\tchildNode.parentNode.removeChild(childNode);\n\t}\n\n\treturn childNode;\n}\n\n/* Replace a child node with nodes\n/* ========================================================================== */\n\nfunction $replaceWith(childNode) {\n\t// $replaceWith(element, sibling1, sibling2, 'a new text node');\n\n\tif (childNode.parentNode) {\n\t\tchildNode.parentNode.replaceChild(\n\t\t\t__asFragment(arguments),\n\t\t\tchildNode\n\t\t);\n\t}\n\n\treturn childNode;\n}\n\n/* Emerging Event Functionality\n/* ========================================================================== */\n\n/* Create a new CustomEvent\n/* ========================================================================== */\n\nfunction $CustomEvent(type) {\n\t// element.dispatchEvent(new $CustomEvent('click', { bubbles: true }));\n\n\tconst event = document.createEvent('CustomEvent');\n\tconst param = Object(arguments[1]) || { bubbles: false, cancelable: false, detail: undefined };\n\n\tevent.initCustomEvent(type, param.bubbles, param.cancelable, param.detail);\n\n\treturn event;\n}\n\n/* Fetch response text from a URL and pass it to a callback\n/* ========================================================================== */\n\nfunction $fetch(url, callback) {\n\t// $fetch('api?foo=bar', (responseText) => {});\n\n\tconst xhr = new XMLHttpRequest();\n\n\txhr.addEventListener('readystatechange', () => {\n\t\tif (4 === xhr.readyState && 200 === xhr.status) {\n\t\t\tcallback(xhr.responseText); // eslint-disable-line callback-return\n\t\t}\n\t});\n\n\txhr.open('GET', url);\n\txhr.send();\n\n\treturn xhr;\n}\n\n/* Export\n/* ========================================================================== */\n\nexport {\n\t$assign,\n\t$after,\n\t$append,\n\t$before,\n\t$closest,\n\t$CustomEvent,\n\t$fetch,\n\t$matches,\n\t$prepend,\n\t$remove,\n\t$replaceAll,\n\t$replaceWith,\n\t$wrapWith\n};\n","import { $assign, $fetch, $replaceAll } from 'domose';\n\n/* Dispatch an Custom Event with a detail\n/* ========================================================================== */\n\nfunction $dispatch(target, type, detail) {\n\t// an event\n\tconst event = document.createEvent('CustomEvent');\n\n\tevent.initCustomEvent(type, true, true, detail);\n\n\ttarget.dispatchEvent(event);\n}\n\nfunction $enableFocusRing(target) {\n\t// retooled from https://github.com/jonathantneal/js-focus-ring\n\n\tlet keyboardThrottleTimeoutID;\n\n\tconst activeElements = [];\n\n\ttarget.addEventListener('blur', () => {\n\t\tactiveElements.forEach((activeElement) => {\n\t\t\tactiveElement.removeAttribute('js-focus');\n\t\t\tactiveElement.removeAttribute('js-focus-ring');\n\t\t});\n\t}, true);\n\n\ttarget.addEventListener('focus', () => {\n\t\tconst activeElement = document.activeElement;\n\n\t\tif (activeElement instanceof Element) {\n\t\t\tactiveElement.setAttribute('js-focus', '');\n\n\t\t\tif (keyboardThrottleTimeoutID) {\n\t\t\t\tactiveElement.setAttribute('js-focus-ring', '');\n\t\t\t}\n\n\t\t\tactiveElements.push(activeElement);\n\t\t}\n\t}, true);\n\n\ttarget.addEventListener('keydown', () => {\n\t\tkeyboardThrottleTimeoutID = clearTimeout(keyboardThrottleTimeoutID) || setTimeout(() => {\n\t\t\tkeyboardThrottleTimeoutID = 0;\n\t\t}, 100);\n\t}, true);\n}\n\nexport {\n\t$assign,\n\t$dispatch,\n\t$enableFocusRing,\n\t$fetch,\n\t$replaceAll\n};\n","/* Global Header, Copyright 2017 Esri\n\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\nthis file except in compliance with the License. You may obtain a copy of the\nLicense at http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software distributed\nunder the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\nCONDITIONS OF ANY KIND, either express or implied.\n\nSee the License for the specific language governing permissions and limitations\nunder the License. */\n\nimport { $fetch } from 'esri-global-shared';\nimport create from './dependent-js/header';\n\nfunction createFromDefault(callback) {\n\tcreateFromURL('/esri-header.json', callback);\n}\n\nfunction createFromURL(url, callback) {\n\t$fetch(url, (responseText) => {\n\t\tcallback(\n\t\t\tcreate(\n\t\t\t\tJSON.parse(responseText)\n\t\t\t)\n\t\t);\n\t});\n}\n\nexport default {\n\tcreate,\n\tcreateFromURL,\n\tcreateFromDefault\n};\n","/* Tooling\n/* ========================================================================== */\n\nimport { $assign as $, $dispatch, $replaceAll } from 'esri-global-shared';\n\n/* Account\n/* ========================================================================== */\n\nconst prefix = 'esri-header-account';\n\nexport default () => {\n\tconst $target = $('div', { class: prefix });\n\n\t/* Account: Control: Signin\n\t/* ====================================================================== */\n\n\tconst $controlSigninText = document.createTextNode('');\n\tconst $controlSignin = $('button', { class: `${prefix}-control ${prefix}-control--signin` },\n\t\t$controlSigninText\n\t);\n\n\t// On Click\n\t$controlSignin.addEventListener('click', (event) => {\n\t\t$dispatch($controlSignin, 'header:click:signin', { event });\n\t});\n\n\t/* Account: Control\n\t/* ====================================================================== */\n\n\tconst $controlImage = $('img', { class: `${prefix}-image` });\n\n\tconst $controlNameText = document.createTextNode('');\n\tconst $controlName = $('span', { class: `${prefix}-name` },\n\t\t$controlNameText\n\t);\n\n\tconst $controlIdText = document.createTextNode('');\n\tconst $controlId = $('span', { class: `${prefix}-id` },\n\t\t$controlIdText\n\t);\n\n\tconst $control = $('button',\n\t\t{\n\t\t\tclass: `${prefix}-control ${prefix}-control--signedin`, id: `${prefix}-control`,\n\t\t\taria: { controls: `${prefix}-menu`, expanded: false, haspopup: true }\n\t\t},\n\t\t$controlImage,\n\t\t$controlName,\n\t\t$controlId\n\t);\n\n\t// On Click\n\t$control.addEventListener('click', (event) => {\n\t\t$dispatch($control, 'header:click:account', { event });\n\n\t\t$dispatch($control, 'header:menu:toggle', {\n\t\t\taccount: true,\n\t\t\tcontrol: $control,\n\t\t\tcontent: $content,\n\t\t\tstate:   'menu',\n\t\t\ttarget:  $target,\n\t\t\ttype:    'account-toggle'\n\t\t});\n\t});\n\n\t/* Account: Content\n\t/* ====================================================================== */\n\n\t// Toggle\n\tconst $contentToggleText = document.createTextNode('');\n\tconst $contentToggle = $('button', { class: `${prefix}-content-toggle` },\n\t\t$contentToggleText\n\t);\n\n\t$contentToggle.addEventListener('click', () => {\n\t\t$dispatch($contentToggle, 'header:menu:close', {\n\t\t\tcontrol: $control,\n\t\t\tcontent: $content,\n\t\t\ttype:    'account-close'\n\t\t});\n\t});\n\n\t// Image\n\tconst $contentImage = $('img', { class: `${prefix}-content-image`, role: 'presentation' });\n\n\t// Info\n\tconst $contentInfoNameText  = document.createTextNode('');\n\tconst $contentInfoIdText    = document.createTextNode('');\n\tconst $contentInfoGroupText = document.createTextNode('');\n\tconst $contentInfo = $('div', { class: `${prefix}-content-info` },\n\t\t$contentImage,\n\t\t$('span', { class: `${prefix}-content-name`  },\n\t\t\t$contentInfoNameText\n\t\t),\n\t\t$('span', { class: `${prefix}-content-id`    },\n\t\t\t$contentInfoIdText\n\t\t),\n\t\t$('span', { class: `${prefix}-content-group` },\n\t\t\t$contentInfoGroupText\n\t\t)\n\t);\n\n\t// Menu\n\tconst $contentMenu = $('ul', {\n\t\tclass: `${prefix}-content-menu`,\n\t\trole: 'navigation', aria: { labelledby: `${prefix}-control` }\n\t});\n\n\t// Switch Control\n\tconst $contentSigninSwitchText = document.createTextNode('');\n\tconst $contentSigninSwitch = $('button', { class: `${prefix}-signin-control -switch` },\n\t\t$contentSigninSwitchText\n\t);\n\n\t// Switch Control: On Click\n\t$contentSigninSwitch.addEventListener('click', (event) => {\n\t\t$dispatch($contentSigninSwitch, 'header:click:switch', { event });\n\t});\n\n\t// Signout Control\n\tconst $contentSigninSignoutText = document.createTextNode('');\n\tconst $contentSigninSignout = $('button', { class: `${prefix}-signin-control -logout` },\n\t\t$contentSigninSignoutText\n\t);\n\n\t// Signout Control: On Click\n\t$contentSigninSignout.addEventListener('click', (event) => {\n\t\t$dispatch($contentSigninSignout, 'header:click:signout', { event });\n\t});\n\n\t// Signin Menu\n\tconst $contentSigninMenu = $('ul',\n\t\t{\n\t\t\tclass: `${prefix}-signin-menu`,\n\t\t\trole: 'group'\n\t\t},\n\t\t$('li', { class: `${prefix}-signin-item` },\n\t\t\t$contentSigninSwitch\n\t\t),\n\t\t$('li', { class: `${prefix}-signin-item` },\n\t\t\t$contentSigninSignout\n\t\t)\n\t);\n\n\t// Content\n\tconst $content = $('div',\n\t\t{\n\t\t\tclass: `${prefix}-menu`, id: `${prefix}-menu`,\n\t\t\trole: 'group', aria: { expanded: false, hidden: true }\n\t\t},\n\t\t$contentToggle,\n\t\t$contentInfo,\n\t\t$contentMenu,\n\t\t$contentSigninMenu\n\t);\n\n\t/* Account: On Update\n\t/* ====================================================================== */\n\n\t$target.addEventListener('header:update:account', ({ detail }) => {\n\t\t$($control, { aria: { label: detail.label } });\n\n\t\t// Update the control text\n\t\t$contentToggleText.nodeValue        = detail.label;\n\t\t$controlSigninText.nodeValue        = detail.controls.signin;\n\t\t$contentSigninSwitchText.nodeValue  = detail.controls.switch;\n\t\t$contentSigninSignoutText.nodeValue = detail.controls.signout;\n\n\t\t// If there is a user object\n\t\tif (detail.user) {\n\t\t\t// Update the account text + image\n\t\t\t$controlNameText.nodeValue = $contentInfoNameText.nodeValue = detail.user.name;\n\t\t\t$controlIdText.nodeValue   = $contentInfoIdText.nodeValue   = detail.user.id;\n\t\t\t$controlImage.src          = $contentImage.src              = detail.user.image;\n\n\t\t\t$contentInfoGroupText.nodeValue = detail.user.group;\n\n\t\t\t// Update the content menu\n\t\t\t$replaceAll($contentMenu,\n\t\t\t\t...detail.menus.map(\n\t\t\t\t\t(item) => $('li', { class: `${prefix}-content-item` },\n\t\t\t\t\t\t$('a', { class: `${prefix}-content-link`, href: item.href },\n\t\t\t\t\t\t\titem.label\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t);\n\n\t\t\t// Use the control and content\n\t\t\t$replaceAll($target, $control, $content);\n\t\t} else {\n\t\t\t// Otherwise, use the signin control\n\t\t\t$replaceAll($target, $controlSignin);\n\t\t}\n\t});\n\n\treturn $target;\n}\n","/* Tooling\n/* ========================================================================== */\n\nimport { $assign as $, $dispatch, $replaceAll } from 'esri-global-shared';\n\n/* Brand\n/* ========================================================================== */\n\nconst prefix = 'esri-header-brand';\n\nexport default () => {\n\t/* Brand: Image\n\t/* ====================================================================== */\n\n\tconst $targetImage = $(\n\t\tdocument.createElementNS('http://www.w3.org/2000/svg', 'svg'),\n\t\t{ class: `${prefix}-image` }\n\t);\n\n\t/* Brand\n\t/* ====================================================================== */\n\n\tconst $target = $('a', { class: prefix, id: prefix },\n\t\t$targetImage\n\t);\n\n\t// On Click\n\t$target.addEventListener('click', (event) => {\n\t\t$dispatch($target, 'header:click:brand', { event });\n\t});\n\n\t/* Brand: On Update\n\t/* ====================================================================== */\n\n\t$target.addEventListener('header:update:brand', ({ detail }) => {\n\t\t$($target, { href: detail.href, aria: { label: detail.label } });\n\n\t\t$($targetImage, { viewBox: `0 0 ${detail.width} ${detail.height}`, width: `${detail.width}`, height: `${detail.height}` });\n\n\t\t$replaceAll($targetImage,\n\t\t\t...detail.image.map(\n\t\t\t\t(d) => $(\n\t\t\t\t\tdocument.createElementNS('http://www.w3.org/2000/svg', 'path'),\n\t\t\t\t\t{ d }\n\t\t\t\t)\n\t\t\t)\n\t\t);\n\t});\n\n\treturn $target;\n}\n","/* Tooling\n/* ========================================================================== */\n\nimport { $assign as $, $dispatch, $replaceAll } from 'esri-global-shared';\n\n/* Menus\n/* ========================================================================== */\n\nconst prefix = 'esri-header-menus';\n\nexport default () => {\n\t/* Toggle Menu\n\t/* ====================================================================== */\n\n\tconst $toggle = $('button', {\n\t\tclass: `${prefix}-toggle`, id: `${prefix}-toggle`,\n\t\taria: { controls: `${prefix}-content`, expanded: false, haspopup: true, labelledby: 'esri-header-brand' }\n\t});\n\n\t$toggle.addEventListener('click', (event) => {\n\t\t$dispatch($toggle, 'header:menu:toggle', {\n\t\t\tcontrol: $toggle,\n\t\t\tcontent: $content,\n\t\t\troot:    true,\n\t\t\tstate:   'menu',\n\t\t\ttarget:  $target,\n\t\t\ttype:    'root-toggle',\n\t\t\tevent\n\t\t});\n\t});\n\n\t/* Menus: Content\n\t/* ====================================================================== */\n\n\tconst $content = $('div', { class: `${prefix}-content`,\n\t\taria: { hidden: true, expanded: false }\n\t});\n\n\t/* Menus\n\t/* ====================================================================== */\n\n\tconst $target = $('div', { class: prefix, id: prefix },\n\t\t$toggle, $content\n\t);\n\n\t/* Menus: On Update\n\t/* ====================================================================== */\n\n\t$target.addEventListener('header:update:menus', ({ detail }) => {\n\t\t$replaceAll(\n\t\t\t$content,\n\t\t\t...detail.map(\n\t\t\t\t(menu, uuid) => $('div',\n\t\t\t\t\t{\n\t\t\t\t\t\tclass: `${prefix}-menu`,\n\t\t\t\t\t\trole: 'group'\n\t\t\t\t\t},\n\t\t\t\t\t$('ul',\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tclass: `${prefix}-list`,\n\t\t\t\t\t\t\trole: 'navigation', aria: { labelledby: 'esri-header-brand' }\n\t\t\t\t\t\t},\n\t\t\t\t\t\t...menu.map((item, suuid) => {\n\t\t\t\t\t\t\t/* Global Navigation: Menus: Link\n\t\t\t\t\t\t\t/* ====================================================== */\n\n\t\t\t\t\t\t\tconst $subcontrol = $('a',\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tclass: `${prefix}-link`, id: `${prefix}-link-${uuid}-${suuid}`,\n\t\t\t\t\t\t\t\t\thref: item.href || 'javascript:;' // eslint-disable-line no-script-url\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\titem.label\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\tif (item.data) {\n\t\t\t\t\t\t\t\t$subcontrol({\n\t\t\t\t\t\t\t\t\tdata: item.data\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tconst $li = $('li', { class: `${prefix}-item` }, $subcontrol);\n\n\t\t\t\t\t\t\tconst hasMenuItems = item.menus && item.menus.length;\n\t\t\t\t\t\t\tconst hasFeaturedItems = item.tiles && item.tiles.length;\n\n\t\t\t\t\t\t\tif (hasMenuItems || hasFeaturedItems) {\n\t\t\t\t\t\t\t\t/* Global Navigation: Submenu\n\t\t\t\t\t\t\t\t/* ====================================== */\n\n\t\t\t\t\t\t\t\tconst $subtoggle = $('button', { class: `${prefix}-submenu-toggle` },\n\t\t\t\t\t\t\t\t\titem.label\n\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\tconst $subcontent = $('div',\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tclass: `${prefix}-submenu`, id: `${prefix}-submenu-${uuid}-${suuid}`,\n\t\t\t\t\t\t\t\t\t\trole: 'group', aria: { hidden: true, expanded: false },\n\t\t\t\t\t\t\t\t\t\tdata: { filled: item.menus.length > 10 ? item.menus.slice(0, 18).length : '' }\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t$subtoggle\n\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\tif (hasMenuItems) {\n\t\t\t\t\t\t\t\t\t$($subcontent,\n\t\t\t\t\t\t\t\t\t\t$('ul',\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\tclass: `${prefix}-sublist`,\n\t\t\t\t\t\t\t\t\t\t\t\trole: 'navigation', aria: { labelledby: `${prefix}-link-${uuid}-${suuid}` }\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t/* Global Navigation: Menus: Sublink\n\t\t\t\t\t\t\t\t\t\t\t/* ============================== */\n\t\t\t\t\t\t\t\t\t\t\t...item.menus.slice(0, 18).map(\n\t\t\t\t\t\t\t\t\t\t\t\t(childitem) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tconst $sublink = $('a',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass: `${prefix}-sublink`,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thref: childitem.href\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tchilditem.label\n\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (childitem.data) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t$($sublink, {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata: childitem.data\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (childitem.newContext) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t$($sublink, {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttarget: '_blank',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trel: 'noopener'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn $('li', { class: `${prefix}-subitem` },\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t$sublink\n\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif (hasFeaturedItems) {\n\t\t\t\t\t\t\t\t\t// ...\n\t\t\t\t\t\t\t\t\t$($subcontent,\n\t\t\t\t\t\t\t\t\t\t$('ul',\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\tclass: `${prefix}-sublist--featured`,\n\t\t\t\t\t\t\t\t\t\t\t\trole: 'navigation', aria: { labelledby: `${prefix}-link-${uuid}-${suuid}` },\n\t\t\t\t\t\t\t\t\t\t\t\tdata: { filled: `${ item.tiles.slice(0, 4).length }` }\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t/* Global Navigation: Menus: Sublink\n\t\t\t\t\t\t\t\t\t\t\t/* ============================== */\n\n\t\t\t\t\t\t\t\t\t\t\t...item.tiles.slice(0, 4).map(\n\t\t\t\t\t\t\t\t\t\t\t\t(childitem) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tconst $sublink = $('a',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass: `${prefix}-sublink--featured`,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thref: childitem.href\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t$(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdocument.createElementNS('http://www.w3.org/2000/svg', 'svg'),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tchilditem.width && childitem.height ? { viewBox: `0 0 ${childitem.width} ${childitem.height}` } : {},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{ class: `${prefix}-sublink-image` },\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t$(document.createDocumentFragment(),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...childitem.icon.map(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(d) => $(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdocument.createElementNS('http://www.w3.org/2000/svg', 'path'),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{ d }\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t$('span', { class: `${prefix}-sublink-text` },\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tchilditem.label\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (childitem.data) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t$($sublink, {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata: childitem.data\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (childitem.newContext) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t$($sublink, {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttarget: '_blank',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trel: 'noopener'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn $('li', { class: `${prefix}-subitem--featured` },\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t$sublink\n\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t$($li,\n\t\t\t\t\t\t\t\t\t$subcontent\n\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\t$subcontrol.addEventListener('click', () => {\n\t\t\t\t\t\t\t\t\t$dispatch($subcontrol, 'header:menu:toggle', {\n\t\t\t\t\t\t\t\t\t\tcontrol: $subcontrol,\n\t\t\t\t\t\t\t\t\t\tcontent: $subcontent,\n\t\t\t\t\t\t\t\t\t\tsubmenu: true,\n\t\t\t\t\t\t\t\t\t\tstate:   'menu',\n\t\t\t\t\t\t\t\t\t\ttype:    'menu-toggle'\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\t$subtoggle.addEventListener('click', () => {\n\t\t\t\t\t\t\t\t\t$dispatch($subtoggle, 'header:menu:close', {\n\t\t\t\t\t\t\t\t\t\tcontrol: $subcontrol,\n\t\t\t\t\t\t\t\t\t\tsubmenu: true,\n\t\t\t\t\t\t\t\t\t\tcontent: $subcontent,\n\t\t\t\t\t\t\t\t\t\ttype:    'menu-close'\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\treturn $li;\n\t\t\t\t\t\t})\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t)\n\t\t);\n\t});\n\n\treturn $target;\n};\n","import { $assign as $, $dispatch } from 'esri-global-shared';\n\n/* Search\n/* ========================================================================== */\n\nexport default (data) => {\n\t/* Elements\n\t/* ====================================================================== */\n\n\tconst $label = $('label', {\n\t\tclass: `${data.prefix}-label`,\n\t\tfor: `${data.prefix}-query-control`\n\t}, data.queryLabel);\n\n\tconst $control = $('input', {\n\t\tclass: `${data.prefix}-control`, id: `${data.prefix}-control`,\n\t\ttype: 'search', name: 'q',\n\t\tautocapitalize: 'off', autocomplete: 'off', autocorrect: 'off', spellcheck: 'false'\n\t});\n\n\tconst $measureTextNode = document.createTextNode('');\n\n\tconst $measureText = $('div', {\n\t\tclass: `${data.prefix}-measure-text`,\n\t\taria: { hidden: true }\n\t}, $measureTextNode);\n\n\tconst $measure = $('div', { class: `${data.prefix}-measure` }, $measureText);\n\n\tconst $submit = $('button', {\n\t\tclass: `${data.prefix}-submit`, type: 'submit',\n\t\taria: { label: data.submitLabel }\n\t});\n\n\tconst $search = $('form', {\n\t\tclass: `${data.prefix}-form`, action: data.action,\n\t\trole: 'search', aria: { label: data.label }\n\t}, $label, $control, $measure, $submit);\n\n\t/* Focus Event\n\t/* ====================================================================== */\n\n\t$search.addEventListener(`${data.prefix}:focus`, () => {\n\t\t$control.focus();\n\t});\n\n\t/* On Input\n\t/* ====================================================================== */\n\n\tlet controlIsFilled = false;\n\tlet controlValue = '';\n\n\tfunction oninput(event) {\n\t\t/* Conditionally Reset Control Value\n\t\t/* ================================================================== */\n\n\t\tif (event && 'reset' === event.type) {\n\t\t\t$control.value = '';\n\t\t}\n\n\t\t/* Update New Control Value\n\t\t/* ================================================================== */\n\n\t\tconst newControlValue = $control.value;\n\n\t\tif (newControlValue !== controlValue) {\n\t\t\tcontrolValue = newControlValue;\n\n\t\t\t$dispatch($search, `${data.prefix}:input`, {\n\t\t\t\tvalue: controlValue,\n\t\t\t\tevent\n\t\t\t});\n\t\t}\n\n\t\t/* Update Label and Submit UI\n\t\t/* ================================================================== */\n\n\t\tif (controlIsFilled && !newControlValue) {\n\t\t\tcontrolIsFilled = false;\n\n\t\t\t$label.removeAttribute('data-filled');\n\t\t\t$submit.removeAttribute('data-filled');\n\t\t} else if (!controlIsFilled && newControlValue) {\n\t\t\tcontrolIsFilled = true;\n\n\t\t\t$($label, { data: { filled: '' } });\n\t\t\t$($submit, { data: { filled: '' } });\n\t\t}\n\n\t\t/* Update Measure UI\n\t\t/* ================================================================== */\n\n\t\t$measureTextNode.nodeValue = newControlValue;\n\n\t\tconst currentWidth = `${$measureText.scrollWidth}px`;\n\n\t\t$measure.style.width = currentWidth;\n\t}\n\n\t/* On Submit\n\t/* ====================================================================== */\n\n\tfunction onsubmit(event) {\n\t\t$dispatch($search, `${data.prefix}:submit`, {\n\t\t\tvalue: $control.value,\n\t\t\tevent\n\t\t});\n\t}\n\n\t/* On DOMNodeInserted\n\t/* ====================================================================== */\n\n\t$search.addEventListener('DOMNodeInserted', function onDOMNodeInserted() {\n\t\t// If Search now has a parent node\n\t\tif ($search.parentNode) {\n\t\t\t// Unbind the DOMNodeInserted method\n\t\t\t$search.removeEventListener('DOMNodeInserted', onDOMNodeInserted);\n\n\t\t\t// Update Search\n\t\t\t$dispatch($search, `${data.prefix}:update`, data);\n\t\t}\n\t});\n\n\t/* On Update\n\t/* ====================================================================== */\n\n\t$search.addEventListener(`${data.prefix}:update`, () => {\n\t\t/* Bind Media Event\n\t\t/* ====================================================================== */\n\n\t\tconst media = $search.ownerDocument.defaultView.matchMedia(data.matchMedia || '(max-width: 720px)');\n\n\t\tmedia.addListener(oninput);\n\n\t\t/* Bind Other Events\n\t\t/* ================================================================== */\n\n\t\t$control.addEventListener('input', oninput);\n\n\t\t$search.addEventListener('reset', oninput);\n\t\t$search.addEventListener('submit', onsubmit);\n\t\t$search.addEventListener(`${data.prefix}:unload`, onunload);\n\t});\n\n\treturn $search;\n};\n","/* Tooling\n/* ========================================================================== */\n\nimport { $assign as $, $dispatch, $replaceAll } from 'esri-global-shared';\n\nimport esriSearch from 'esri-global-search';\n\n/* Search\n/* ========================================================================== */\n\nconst prefix = 'esri-header-search';\n\nexport default () => {\n\t/* Search: Control\n\t/* ====================================================================== */\n\n\tconst $controlImage = $(\n\t\tdocument.createElementNS('http://www.w3.org/2000/svg', 'svg'),\n\t\t{ class: `${prefix}-image`, id: `${prefix}-image` }\n\t);\n\n\tconst $control = $('button',\n\t\t{\n\t\t\tclass: `${prefix}-control`, id: `${prefix}-control`,\n\t\t\taria: { expanded: false, controls: `${prefix}-content` }\n\t\t},\n\t\t$controlImage\n\t);\n\n\t$control.addEventListener('click', (event) => {\n\t\t$dispatch($control, 'header:click:search', { event });\n\n\t\t$dispatch($control, 'header:menu:toggle', {\n\t\t\tcontrol: $control,\n\t\t\tcontent: $content,\n\t\t\tstate:   'search',\n\t\t\ttarget:  $target,\n\t\t\ttype:    'search-toggle',\n\t\t\tevent\n\t\t});\n\t});\n\n\t/* Search: Content\n\t/* ====================================================================== */\n\n\tconst $content = $('div', {\n\t\tclass: `${prefix}-content`, id: `${prefix}-content`,\n\t\taria: { expanded: false, labelledby: `${prefix}-control` }\n\t});\n\n\t/* Search: Target\n\t/* ====================================================================== */\n\n\tconst $target = $('div', { class: prefix },\n\t\t$control, $content\n\t);\n\n\t/* Search: On Update\n\t/* ====================================================================== */\n\n\t$target.addEventListener('header:update:search', ({ detail }) => {\n\t\t$($control, { aria: { label: detail.label } });\n\n\t\tif ('string' === typeof detail.image) {\n\t\t\t$controlImage.removeAttribute('viewBox');\n\n\t\t\t$replaceAll($controlImage,\n\t\t\t\t$('use', { 'href': detail.image })\n\t\t\t);\n\t\t} else {\n\t\t\t$replaceAll($controlImage,\n\t\t\t\t...detail.image.map(\n\t\t\t\t\t(d) => $(\n\t\t\t\t\t\tdocument.createElementNS('http://www.w3.org/2000/svg', 'path'),\n\t\t\t\t\t\t{ d }\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\n\t\tif (detail.dialog) {\n\t\t\tdetail.dialog.prefix = 'esri-header-search-dialog';\n\n\t\t\tconst $dialog = esriSearch(detail.dialog);\n\n\t\t\tconst $dialogCancelButton = $('button', {\n\t\t\t\tclass: 'esri-header-search-dialog-cancel',\n\t\t\t\ttype: 'reset'\n\t\t\t},\n\t\t\t\t$('span',\n\t\t\t\t\tdetail.dialog.cancelLabel\n\t\t\t\t)\n\t\t\t);\n\n\t\t\t$dialogCancelButton.addEventListener('click', (event) => {\n\t\t\t\t$dispatch($control, 'header:menu:close', {\n\t\t\t\t\tcontrol: $control,\n\t\t\t\t\tcontent: $content,\n\t\t\t\t\tstate:   'search',\n\t\t\t\t\ttype:    'search-close',\n\t\t\t\t\tevent\n\t\t\t\t});\n\t\t\t});\n\n\t\t\t$($dialog,\n\t\t\t\t$dialogCancelButton\n\t\t\t);\n\n\t\t\t$replaceAll($content,\n\t\t\t\t$dialog\n\t\t\t);\n\n\t\t\t$control.addEventListener('click', (event) => {\n\t\t\t\tif ('true' === $control.getAttribute('aria-expanded')) {\n\t\t\t\t\t$dispatch($dialog, `${detail.dialog.prefix}:focus`, { event });\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t});\n\n\treturn $target;\n};\n","import { $assign as $, $dispatch, $enableFocusRing, $replaceAll } from 'esri-global-shared';\n\nimport createAccount from './header-account';\nimport createBrand   from './header-brand';\nimport createMenus   from './header-menus';\nimport createSearch  from './header-search';\n\n/* Header\n/* ====================================================================== */\n\nexport default (data) => {\n\tlet viewportIsSmall;\n\tlet viewportIsSmallMedium;\n\n\t/* Canvas\n\t/* ====================================================================== */\n\n\tconst $headerCanvas = $('button', {\n\t\tclass: 'esri-header-canvas',\n\t\ttabindex: '-1',\n\t\tdata: { open: false }\n\t});\n\n\t$headerCanvas.addEventListener('click', () => {\n\t\t$dispatch($headerCanvas, 'header:menu:close');\n\t});\n\n\t/* Elements\n\t/* ====================================================================== */\n\n\tconst $brand   = createBrand();\n\tconst $account = createAccount();\n\tconst $menus   = createMenus();\n\tconst $search  = createSearch();\n\n\tconst $client  = $('div', { class: 'esri-header-client' },\n\t\t$account\n\t);\n\n\tconst $header = $('div', { class: `esri-header -${data.theme || 'web'}` },\n\t\t$headerCanvas,\n\t\t$brand,\n\t\t$menus,\n\t\t$search,\n\t\t$client\n\t);\n\n\t$enableFocusRing($header);\n\n\t/* On Header Update\n\t/* ====================================================================== */\n\n\t$header.addEventListener('header:update', ({ detail }) => {\n\t\tif (detail.brand) {\n\t\t\t$dispatch($brand, 'header:update:brand', detail.brand);\n\t\t}\n\n\t\tif (detail.menus) {\n\t\t\t$dispatch($menus, 'header:update:menus', detail.menus);\n\t\t}\n\n\t\tif (detail.search) {\n\t\t\t$dispatch($search, 'header:update:search', detail.search);\n\t\t}\n\n\t\tif (detail.account) {\n\t\t\t$dispatch($client.lastChild, 'header:update:account', detail.account);\n\t\t}\n\n\t\t$header.ownerDocument.defaultView.addEventListener('keydown', ({ keyCode }) => {\n\t\t\tif (27 === keyCode) {\n\t\t\t\t$dispatch($header, 'header:menu:close');\n\t\t\t}\n\t\t});\n\t});\n\n\t/* On Header Menu Toggle\n\t/* ====================================================================== */\n\n\t$header.addEventListener('header:menu:toggle', ({ detail }) => {\n\t\tconst submenuShouldOpen = 'true' !== detail.control.getAttribute('aria-expanded');\n\t\tconst eventType = submenuShouldOpen ? 'header:menu:open' : 'header:menu:close';\n\n\t\t$dispatch(detail.control, eventType, detail);\n\t});\n\n\t/* On Header Menu Open\n\t/* ====================================================================== */\n\n\tlet accountDetail = null;\n\tlet searchDetail  = null;\n\tlet menusDetail   = null;\n\tlet menuDetail   = null;\n\n\t$header.addEventListener('header:menu:open', ({ detail }) => {\n\t\tconst isMenuToggle = 'menu-toggle' === detail.type;\n\n\t\t// Update Control, Content\n\t\t$(detail.control, { aria: { expanded: true } });\n\t\t$(detail.content, { aria: { expanded: true, hidden: false } });\n\n\t\tif (menuDetail && menuDetail.control !== detail.control) {\n\t\t\t$dispatch(menuDetail.control, 'header:menu:close', menuDetail);\n\t\t}\n\n\t\tif ('menu-toggle' === detail.type) {\n\t\t\tmenuDetail = detail;\n\t\t}\n\n\t\tif ($search === detail.target) {\n\t\t\tsearchDetail = detail;\n\t\t} else if (searchDetail) {\n\t\t\t$dispatch($search, 'header:menu:close', searchDetail);\n\n\t\t\tsearchDetail = null;\n\t\t}\n\n\t\tif ($menus === detail.target) {\n\t\t\tmenusDetail = detail;\n\t\t} else if (menusDetail && !isMenuToggle && !viewportIsSmall.matches) {\n\t\t\t$dispatch($menus, 'header:menu:close', menusDetail);\n\n\t\t\tmenusDetail = null;\n\t\t}\n\n\t\tif ($account === detail.target) {\n\t\t\taccountDetail = detail;\n\t\t} else if (accountDetail) {\n\t\t\t$dispatch($account, 'header:menu:close', accountDetail);\n\n\t\t\taccountDetail = null;\n\t\t}\n\n\t\t// Update Canvas\n\t\t$($headerCanvas, { data: { open: true, state: detail.state } });\n\n\t\t// Update Document Root\n\t\t$($header.ownerDocument.documentElement, { data: { 'header-is-open': true } });\n\t});\n\n\t/* On Header Menu Close\n\t/* ====================================================================== */\n\n\t$header.addEventListener('header:menu:close', ({ detail }) => {\n\t\tconst currentDetail = detail || menusDetail || searchDetail || accountDetail || menuDetail;\n\n\t\tif (currentDetail) {\n\t\t\t// Close the Detail\n\t\t\t$(currentDetail.control, { aria: { expanded: false } });\n\t\t\t$(currentDetail.content, { aria: { expanded: false, hidden: true } });\n\n\t\t\tconst canvasShouldClose = !viewportIsSmallMedium.matches || 'menu-close' !== currentDetail.type && 'account-close' !== currentDetail.type;\n\n\t\t\tif (searchDetail && searchDetail.control === currentDetail.control) {\n\t\t\t\t$dispatch(searchDetail.content.lastChild, 'reset');\n\t\t\t}\n\n\t\t\tif (canvasShouldClose) {\n\t\t\t\t// Close the Canvas\n\t\t\t\t$($headerCanvas, { data: { open: false } });\n\n\t\t\t\t// Update Document Root\n\t\t\t\t$header.ownerDocument.documentElement.removeAttribute('data-header-is-open');\n\t\t\t}\n\t\t}\n\t});\n\n\t/* On DOMNodeInserted\n\t/* ====================================================================== */\n\n\t$header.addEventListener('DOMNodeInserted', function onload() {\n\t\t// Get Document and Window\n\t\tconst $headerDocument = $header.ownerDocument;\n\t\tconst $headerWindow   = $headerDocument.defaultView;\n\n\t\tconst $style = $('style');\n\n\t\tlet overflowY;\n\n\t\tif ($header.parentNode) {\n\t\t\t// Unbind Node Inserted\n\t\t\t$header.removeEventListener('DOMNodeInserted', onload);\n\n\t\t\t// Update Header\n\t\t\t$dispatch($header, 'header:update', data);\n\n\t\t\t/* On Resize\n\t\t\t/* ============================================================== */\n\n\t\t\t$($headerDocument.head,\n\t\t\t\t$style\n\t\t\t);\n\n\t\t\t$headerWindow.addEventListener('orientationchange', onresize);\n\t\t\t$headerWindow.addEventListener('resize', onresize);\n\n\t\t\tonresize();\n\n\t\t\t/* On Match Media Change\n\t\t\t/* ============================================================== */\n\n\t\t\tviewportIsSmall       = $headerWindow.matchMedia('(max-width: 767px)');\n\t\t\tviewportIsSmallMedium = $headerWindow.matchMedia('(max-width: 1023px)');\n\n\t\t\tviewportIsSmall.addListener(onViewportIsSmallChange);\n\t\t\tviewportIsSmallMedium.addListener(onViewportIsSmallMediumChange);\n\n\t\t\tonViewportIsSmallChange();\n\t\t\tonViewportIsSmallMediumChange();\n\t\t}\n\n\t\tfunction onresize() {\n\t\t\tconst width  = $headerDocument.documentElement.clientWidth;\n\t\t\tconst height = $headerDocument.documentElement.clientHeight;\n\t\t\tconst scrollHeight = $headerDocument.documentElement.scrollHeight;\n\n\t\t\toverflowY = getComputedStyle($headerDocument.documentElement).overflowY.replace('visible', () => {\n\t\t\t\treturn scrollHeight > height ? 'scroll' : 'visible';\n\t\t\t});\n\n\t\t\t$replaceAll($style,\n\t\t\t\t`:root{--esri-vw:${width}px;--esri-vh:${height}px}[data-header-is-open]{width:${width}px;height:${height}px;overflow-y:${overflowY}}`\n\t\t\t);\n\t\t}\n\n\t\tfunction onViewportIsSmallChange() {\n\t\t\tif (viewportIsSmall.matches) {\n\t\t\t\t$dispatch($header, 'header:breakpoint:s');\n\n\t\t\t\t$menus.lastChild.appendChild($account);\n\t\t\t} else {\n\t\t\t\t$dispatch($header, 'header:breakpoint:not:s');\n\n\t\t\t\t$client.appendChild($account);\n\t\t\t}\n\t\t}\n\n\t\tfunction onViewportIsSmallMediumChange() {\n\t\t\tif (viewportIsSmallMedium.matches) {\n\t\t\t\t$dispatch($header, 'header:breakpoint:sm');\n\n\t\t\t\t$($menus.lastChild, { aria: { hidden: 'false' === $menus.lastChild.getAttribute('aria-expanded') } });\n\t\t\t} else {\n\t\t\t\t$dispatch($header, 'header:breakpoint:not:sm');\n\n\t\t\t\t$($menus.lastChild, { aria: { hidden: false } });\n\t\t\t}\n\t\t}\n\t});\n\n\treturn $header;\n};\n"],"names":["__assignSource","element","source","prefix","key","addEventListener","Object","setAttribute","$assign","id","Node","document","createElement","slice","call","arguments","forEach","appendChild","createTextNode","$replaceAll","parentNode","lastChild","removeChild","__asFragment","nodes","fragment","createDocumentFragment","node","$fetch","url","callback","xhr","XMLHttpRequest","readyState","status","responseText","open","send","$dispatch","target","type","detail","event","createEvent","initCustomEvent","dispatchEvent","$enableFocusRing","keyboardThrottleTimeoutID","activeElements","activeElement","removeAttribute","Element","push","clearTimeout","setTimeout","createFromURL","create","JSON","parse","$target","$","class","$controlSigninText","$controlSignin","$controlImage","$controlNameText","$controlName","$controlIdText","$controlId","$control","controls","expanded","haspopup","$content","$contentToggleText","$contentToggle","$contentImage","role","$contentInfoNameText","$contentInfoIdText","$contentInfoGroupText","$contentInfo","$contentMenu","aria","labelledby","$contentSigninSwitchText","$contentSigninSwitch","$contentSigninSignoutText","$contentSigninSignout","$contentSigninMenu","hidden","label","nodeValue","signin","switch","signout","user","name","src","image","group","menus","map","item","href","$targetImage","createElementNS","viewBox","width","height","d","$toggle","menu","uuid","suuid","$subcontrol","data","$li","hasMenuItems","length","hasFeaturedItems","tiles","$subtoggle","$subcontent","filled","childitem","$sublink","newContext","icon","oninput","value","newControlValue","controlValue","$search","controlIsFilled","$label","$submit","currentWidth","$measureText","scrollWidth","style","onsubmit","queryLabel","autocomplete","autocorrect","spellcheck","$measureTextNode","$measure","submitLabel","action","focus","onDOMNodeInserted","removeEventListener","ownerDocument","defaultView","matchMedia","addListener","onunload","dialog","$dialog","esriSearch","$dialogCancelButton","cancelLabel","getAttribute","viewportIsSmall","viewportIsSmallMedium","$headerCanvas","$brand","createBrand","$account","createAccount","$menus","createMenus","createSearch","$client","$header","theme","brand","search","account","keyCode","eventType","control","accountDetail","searchDetail","menusDetail","menuDetail","isMenuToggle","content","matches","state","documentElement","header-is-open","currentDetail","canvasShouldClose","onload","onresize","$headerDocument","clientWidth","clientHeight","scrollHeight","getComputedStyle","overflowY","replace","$style","onViewportIsSmallChange","onViewportIsSmallMediumChange","$headerWindow","head"],"mappings":"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","preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjpudWxsLCJzb3VyY2VzIjpbIi9Vc2Vycy9qb25hdGhhbm5lYWwvR2l0SHViL0VzcmkvZ2xvYmFsLW5hdi9oZWFkZXIvbm9kZV9tb2R1bGVzL2RvbW9zZS9kb21vc2UuanMiLCIvVXNlcnMvam9uYXRoYW5uZWFsL0dpdEh1Yi9Fc3JpL2dsb2JhbC1uYXYvaGVhZGVyL25vZGVfbW9kdWxlcy9lc3JpLWdsb2JhbC1zaGFyZWQvc2hhcmVkLmpzIiwiL1VzZXJzL2pvbmF0aGFubmVhbC9HaXRIdWIvRXNyaS9nbG9iYWwtbmF2L2hlYWRlci9oZWFkZXIuanMiLCIvVXNlcnMvam9uYXRoYW5uZWFsL0dpdEh1Yi9Fc3JpL2dsb2JhbC1uYXYvaGVhZGVyL2RlcGVuZGVudC1qcy9oZWFkZXItYWNjb3VudC5qcyIsIi9Vc2Vycy9qb25hdGhhbm5lYWwvR2l0SHViL0VzcmkvZ2xvYmFsLW5hdi9oZWFkZXIvZGVwZW5kZW50LWpzL2hlYWRlci1icmFuZC5qcyIsIi9Vc2Vycy9qb25hdGhhbm5lYWwvR2l0SHViL0VzcmkvZ2xvYmFsLW5hdi9oZWFkZXIvZGVwZW5kZW50LWpzL2hlYWRlci1tZW51cy5qcyIsIi9Vc2Vycy9qb25hdGhhbm5lYWwvR2l0SHViL0VzcmkvZ2xvYmFsLW5hdi9oZWFkZXIvbm9kZV9tb2R1bGVzL2VzcmktZ2xvYmFsLXNlYXJjaC9kZXBlbmRlbnQtanMvc2VhcmNoLmpzIiwiL1VzZXJzL2pvbmF0aGFubmVhbC9HaXRIdWIvRXNyaS9nbG9iYWwtbmF2L2hlYWRlci9kZXBlbmRlbnQtanMvaGVhZGVyLXNlYXJjaC5qcyIsIi9Vc2Vycy9qb25hdGhhbm5lYWwvR2l0SHViL0VzcmkvZ2xvYmFsLW5hdi9oZWFkZXIvZGVwZW5kZW50LWpzL2hlYWRlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBTcGVjdWxhdGl2ZSBET00gRnVuY3Rpb25hbGl0eVxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuZnVuY3Rpb24gX19hc3NpZ25Tb3VyY2UoZWxlbWVudCwgc291cmNlLCBwcmVmaXgpIHtcblx0Zm9yIChsZXQga2V5IGluIHNvdXJjZSkge1xuXHRcdGlmICgnZnVuY3Rpb24nID09PSB0eXBlb2Ygc291cmNlW2tleV0pIHtcblx0XHRcdC8vIGFkZCBmdW5jdGlvbnMgYXMgZXZlbnQgbGlzdGVuZXJzXG5cdFx0XHRlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIocHJlZml4ICsga2V5LCBzb3VyY2Vba2V5XSk7XG5cdFx0fSBlbHNlIGlmIChPYmplY3Qoc291cmNlW2tleV0pID09PSBzb3VyY2Vba2V5XSkge1xuXHRcdFx0Ly8gYXNzaWduIG9iamVjdHMgYXMgc291cmNlXG5cdFx0XHRfX2Fzc2lnblNvdXJjZShlbGVtZW50LCBzb3VyY2Vba2V5XSwgYCR7cHJlZml4ICsga2V5fS1gKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gb3RoZXJ3aXNlLCBzZXQgYXR0cmlidXRlc1xuXHRcdFx0ZWxlbWVudC5zZXRBdHRyaWJ1dGUocHJlZml4ICsga2V5LCBzb3VyY2Vba2V5XSk7XG5cdFx0fVxuXHR9XG59XG5cbi8qIEFzc2lnbiBhbiBlbGVtZW50IHdpdGggYXR0cmlidXRlcywgZXZlbnRzLCBhbmQgY2hpbGRyZW5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbmZ1bmN0aW9uICRhc3NpZ24oaWQpIHtcblx0Ly8gJGFzc2lnbihlbGVtZW50LCB7IGNsYXNzOiAnYnRuJywgY2xpY2s6ICgpID0+IHsgLyogbGlzdGVuZXIgKi8gfSB9KTtcblx0Ly8gJGFzc2lnbignYnV0dG9uJywgeyBhcmlhOiB7IGxhYmVsOiAndGl0bGUnIH0gfSwgY2hpbGQpO1xuXHQvLyAkYXNzaWduKCdkaXYnLCBjaGlsZDEsIGNoaWxkMiwgJ2EgbmV3IHRleHQgbm9kZScpO1xuXHQvLyAkYXNzaWduKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCAnc3ZnJykpO1xuXG5cdGNvbnN0IGVsZW1lbnQgPSBpZCBpbnN0YW5jZW9mIE5vZGUgPyBpZCA6IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoaWQpO1xuXG5cdFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKS5mb3JFYWNoKChzb3VyY2UpID0+IHtcblx0XHRpZiAoc291cmNlIGluc3RhbmNlb2YgTm9kZSkge1xuXHRcdFx0Ly8gYXBwZW5kIHNvdXJjZXMgdGhhdCBhcmUgbm9kZXNcblx0XHRcdGVsZW1lbnQuYXBwZW5kQ2hpbGQoc291cmNlKTtcblx0XHR9IGVsc2UgaWYgKCdzdHJpbmcnID09PSB0eXBlb2Ygc291cmNlKSB7XG5cdFx0XHQvLyBhcHBlbmQgc3RyaW5ncyBhcyB0ZXh0IG5vZGVzXG5cdFx0XHRlbGVtZW50LmFwcGVuZENoaWxkKFxuXHRcdFx0XHRkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShzb3VyY2UpXG5cdFx0XHQpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRfX2Fzc2lnblNvdXJjZShlbGVtZW50LCBzb3VyY2UsICcnKTtcblx0XHR9XG5cdH0pO1xuXG5cdHJldHVybiBlbGVtZW50O1xufVxuXG4vKiBSZXBsYWNlIGFsbCB0aGUgY2hpbGRyZW4gb2YgYSBwYXJlbnQgbm9kZSB3aXRoIG5ldyBjaGlsZHJlblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuZnVuY3Rpb24gJHJlcGxhY2VBbGwocGFyZW50Tm9kZSkge1xuXHQvLyAkcmVwbGFjZUFsbChlbGVtZW50KTtcblx0Ly8gJHJlcGxhY2VBbGwoZWxlbWVudCwgY2hpbGQxLCBjaGlsZDIpO1xuXG5cdHdoaWxlIChwYXJlbnROb2RlLmxhc3RDaGlsZCkge1xuXHRcdHBhcmVudE5vZGUucmVtb3ZlQ2hpbGQocGFyZW50Tm9kZS5sYXN0Q2hpbGQpO1xuXHR9XG5cblx0cGFyZW50Tm9kZS5hcHBlbmRDaGlsZChcblx0XHRfX2FzRnJhZ21lbnQoYXJndW1lbnRzKVxuXHQpO1xuXG5cdHJldHVybiBwYXJlbnROb2RlO1xufVxuXG4vKiBXcmFwIGEgY2hpbGQgbm9kZSB3aXRoaW4gYW4gZWxlbWVudFxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuZnVuY3Rpb24gJHdyYXBXaXRoKGNoaWxkTm9kZSwgZWxlbWVudCkge1xuXHQvLyAkd3JhcFdpdGgoZWxlbWVudCwgd3JhcHBpbmdFbGVtZW50KTtcblxuXHRpZiAoY2hpbGROb2RlLnBhcmVudE5vZGUpIHtcblx0XHRjaGlsZE5vZGUucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZWxlbWVudCwgY2hpbGROb2RlKS5hcHBlbmRDaGlsZChjaGlsZE5vZGUpO1xuXHR9XG5cblx0cmV0dXJuIGNoaWxkTm9kZTtcbn1cblxuLyogRW1lcmdpbmcgRE9NIEZ1bmN0aW9uYWxpdHlcbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbmZ1bmN0aW9uIF9fYXNGcmFnbWVudChub2Rlcykge1xuXHRjb25zdCBmcmFnbWVudCA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcblxuXHRbXS5zbGljZS5jYWxsKG5vZGVzLCAxKS5mb3JFYWNoKChub2RlKSA9PiB7XG5cdFx0aWYgKG5vZGUgaW5zdGFuY2VvZiBOb2RlKSB7XG5cdFx0XHRmcmFnbWVudC5hcHBlbmRDaGlsZChub2RlKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0ZnJhZ21lbnQuYXBwZW5kQ2hpbGQoXG5cdFx0XHRcdGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKG5vZGUpXG5cdFx0XHQpO1xuXHRcdH1cblx0fSk7XG5cblx0cmV0dXJuIGZyYWdtZW50O1xufVxuXG4vKiBJbnNlcnQgbm9kZXMgYWZ0ZXIgYSBjaGlsZCBub2RlXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5mdW5jdGlvbiAkYWZ0ZXIoY2hpbGROb2RlKSB7XG5cdC8vICRhZnRlcihlbGVtZW50LCBzaWJsaW5nMSwgc2libGluZzIsICdhIG5ldyB0ZXh0IG5vZGUnKTtcblxuXHRpZiAoY2hpbGROb2RlLnBhcmVudE5vZGUpIHtcblx0XHRjaGlsZE5vZGUucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoXG5cdFx0XHRfX2FzRnJhZ21lbnQoYXJndW1lbnRzKSxcblx0XHRcdGNoaWxkTm9kZS5uZXh0U2libGluZ1xuXHRcdCk7XG5cdH1cblxuXHRyZXR1cm4gY2hpbGROb2RlO1xufVxuXG4vKiBBcHBlbmRzIG5vZGVzIHRvIGEgcGFyZW50IG5vZGVcbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbmZ1bmN0aW9uICRhcHBlbmQocGFyZW50Tm9kZSkge1xuXHQvLyAkYXBwZW5kKHBhcmVudE5vZGUsIGNoaWxkMSwgY2hpbGQyLCAnYSBuZXcgdGV4dCBub2RlJyk7XG5cblx0cGFyZW50Tm9kZS5hcHBlbmQoXG5cdFx0X19hc0ZyYWdtZW50KGFyZ3VtZW50cylcblx0KTtcblxuXHRyZXR1cm4gcGFyZW50Tm9kZTtcbn1cblxuLyogSW5zZXJ0IG5vZGVzIGJlZm9yZSBhbiBlbGVtZW50XG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5mdW5jdGlvbiAkYmVmb3JlKGVsZW1lbnQpIHtcblx0Ly8gJGJlZm9yZShlbGVtZW50LCBzaWJsaW5nMSwgc2libGluZzIsICdhIG5ldyB0ZXh0IG5vZGUnKTtcblxuXHRpZiAoZWxlbWVudC5wYXJlbnROb2RlKSB7XG5cdFx0ZWxlbWVudC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShcblx0XHRcdF9fYXNGcmFnbWVudChhcmd1bWVudHMpLFxuXHRcdFx0ZWxlbWVudFxuXHRcdCk7XG5cdH1cblxuXHRyZXR1cm4gZWxlbWVudDtcbn1cblxuLyogUmV0dXJuIHRoZSBjbG9zZXN0IGFuY2VzdG9yIGVsZW1lbnQgbWF0Y2hpbmcgYSBnaXZlbiBzZWxlY3RvclxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuZnVuY3Rpb24gJGNsb3Nlc3QoZWxlbWVudCwgc2VsZWN0b3JzKSB7XG5cdC8vICRjbG9zZXN0KGVsZW1lbnQsIHNlbGVjdG9ycyk7XG5cblx0bGV0IHRhcmdldCA9IGVsZW1lbnQ7XG5cblx0d2hpbGUgKHRhcmdldCAmJiAxID09PSB0YXJnZXQubm9kZVR5cGUpIHtcblx0XHRpZiAoJG1hdGNoZXModGFyZ2V0LCBzZWxlY3RvcnMpKSB7XG5cdFx0XHRyZXR1cm4gdGFyZ2V0O1xuXHRcdH1cblxuXHRcdHRhcmdldCA9IHRhcmdldC5wYXJlbnROb2RlO1xuXHR9XG5cblx0cmV0dXJuIG51bGw7XG59XG5cbi8qIFJldHVybiB3aGV0aGVyIG9yIG5vdCBhIERPTSBlbGVtZW50IG1hdGNoZXMgYSBnaXZlbiBzZWxlY3RvclxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuZnVuY3Rpb24gJG1hdGNoZXMoZWxlbWVudCwgc2VsZWN0b3JzKSB7XG5cdC8vICRtYXRjaGVzKGVsZW1lbnQsIHNlbGVjdG9ycyk7XG5cblx0Y29uc3QgZWxlbWVudHMgPSBlbGVtZW50LnBhcmVudE5vZGUucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvcnMpO1xuXG5cdGxldCBpbmRleCA9IDA7XG5cblx0d2hpbGUgKGVsZW1lbnRzW2luZGV4XSAmJiBlbGVtZW50c1tpbmRleF0gIT09IGVsZW1lbnQpIHtcblx0XHQrK2luZGV4O1xuXHR9XG5cblx0cmV0dXJuIEJvb2xlYW4oZWxlbWVudHNbaW5kZXhdKTtcbn1cblxuLyogUHJlcGVuZHMgYSBjaGlsZCB0byBhIHBhcmVudCBub2RlXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5mdW5jdGlvbiAkcHJlcGVuZChwYXJlbnROb2RlKSB7XG5cdC8vICRwcmVwZW5kKGVsZW1lbnQsIGNoaWxkMSwgY2hpbGQyLCAnYSBuZXcgdGV4dCBub2RlJyk7XG5cblx0cGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoXG5cdFx0X19hc0ZyYWdtZW50KGFyZ3VtZW50cyksXG5cdFx0cGFyZW50Tm9kZS5maXJzdENoaWxkXG5cdCk7XG5cblx0cmV0dXJuIHBhcmVudE5vZGU7XG59XG5cbi8qIFJlbW92ZSBhIGNoaWxkIG5vZGUgZnJvbSBpdHMgcGFyZW50XG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5mdW5jdGlvbiAkcmVtb3ZlKGNoaWxkTm9kZSkge1xuXHQvLyAkcmVtb3ZlKGVsZW1lbnQpO1xuXG5cdGlmIChjaGlsZE5vZGUucGFyZW50Tm9kZSkge1xuXHRcdGNoaWxkTm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGNoaWxkTm9kZSk7XG5cdH1cblxuXHRyZXR1cm4gY2hpbGROb2RlO1xufVxuXG4vKiBSZXBsYWNlIGEgY2hpbGQgbm9kZSB3aXRoIG5vZGVzXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5mdW5jdGlvbiAkcmVwbGFjZVdpdGgoY2hpbGROb2RlKSB7XG5cdC8vICRyZXBsYWNlV2l0aChlbGVtZW50LCBzaWJsaW5nMSwgc2libGluZzIsICdhIG5ldyB0ZXh0IG5vZGUnKTtcblxuXHRpZiAoY2hpbGROb2RlLnBhcmVudE5vZGUpIHtcblx0XHRjaGlsZE5vZGUucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQoXG5cdFx0XHRfX2FzRnJhZ21lbnQoYXJndW1lbnRzKSxcblx0XHRcdGNoaWxkTm9kZVxuXHRcdCk7XG5cdH1cblxuXHRyZXR1cm4gY2hpbGROb2RlO1xufVxuXG4vKiBFbWVyZ2luZyBFdmVudCBGdW5jdGlvbmFsaXR5XG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG4vKiBDcmVhdGUgYSBuZXcgQ3VzdG9tRXZlbnRcbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbmZ1bmN0aW9uICRDdXN0b21FdmVudCh0eXBlKSB7XG5cdC8vIGVsZW1lbnQuZGlzcGF0Y2hFdmVudChuZXcgJEN1c3RvbUV2ZW50KCdjbGljaycsIHsgYnViYmxlczogdHJ1ZSB9KSk7XG5cblx0Y29uc3QgZXZlbnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnQ3VzdG9tRXZlbnQnKTtcblx0Y29uc3QgcGFyYW0gPSBPYmplY3QoYXJndW1lbnRzWzFdKSB8fCB7IGJ1YmJsZXM6IGZhbHNlLCBjYW5jZWxhYmxlOiBmYWxzZSwgZGV0YWlsOiB1bmRlZmluZWQgfTtcblxuXHRldmVudC5pbml0Q3VzdG9tRXZlbnQodHlwZSwgcGFyYW0uYnViYmxlcywgcGFyYW0uY2FuY2VsYWJsZSwgcGFyYW0uZGV0YWlsKTtcblxuXHRyZXR1cm4gZXZlbnQ7XG59XG5cbi8qIEZldGNoIHJlc3BvbnNlIHRleHQgZnJvbSBhIFVSTCBhbmQgcGFzcyBpdCB0byBhIGNhbGxiYWNrXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5mdW5jdGlvbiAkZmV0Y2godXJsLCBjYWxsYmFjaykge1xuXHQvLyAkZmV0Y2goJ2FwaT9mb289YmFyJywgKHJlc3BvbnNlVGV4dCkgPT4ge30pO1xuXG5cdGNvbnN0IHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuXG5cdHhoci5hZGRFdmVudExpc3RlbmVyKCdyZWFkeXN0YXRlY2hhbmdlJywgKCkgPT4ge1xuXHRcdGlmICg0ID09PSB4aHIucmVhZHlTdGF0ZSAmJiAyMDAgPT09IHhoci5zdGF0dXMpIHtcblx0XHRcdGNhbGxiYWNrKHhoci5yZXNwb25zZVRleHQpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGNhbGxiYWNrLXJldHVyblxuXHRcdH1cblx0fSk7XG5cblx0eGhyLm9wZW4oJ0dFVCcsIHVybCk7XG5cdHhoci5zZW5kKCk7XG5cblx0cmV0dXJuIHhocjtcbn1cblxuLyogRXhwb3J0XG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5leHBvcnQge1xuXHQkYXNzaWduLFxuXHQkYWZ0ZXIsXG5cdCRhcHBlbmQsXG5cdCRiZWZvcmUsXG5cdCRjbG9zZXN0LFxuXHQkQ3VzdG9tRXZlbnQsXG5cdCRmZXRjaCxcblx0JG1hdGNoZXMsXG5cdCRwcmVwZW5kLFxuXHQkcmVtb3ZlLFxuXHQkcmVwbGFjZUFsbCxcblx0JHJlcGxhY2VXaXRoLFxuXHQkd3JhcFdpdGhcbn07XG4iLCJpbXBvcnQgeyAkYXNzaWduLCAkZmV0Y2gsICRyZXBsYWNlQWxsIH0gZnJvbSAnZG9tb3NlJztcblxuLyogRGlzcGF0Y2ggYW4gQ3VzdG9tIEV2ZW50IHdpdGggYSBkZXRhaWxcbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbmZ1bmN0aW9uICRkaXNwYXRjaCh0YXJnZXQsIHR5cGUsIGRldGFpbCkge1xuXHQvLyBhbiBldmVudFxuXHRjb25zdCBldmVudCA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdDdXN0b21FdmVudCcpO1xuXG5cdGV2ZW50LmluaXRDdXN0b21FdmVudCh0eXBlLCB0cnVlLCB0cnVlLCBkZXRhaWwpO1xuXG5cdHRhcmdldC5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbn1cblxuZnVuY3Rpb24gJGVuYWJsZUZvY3VzUmluZyh0YXJnZXQpIHtcblx0Ly8gcmV0b29sZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vam9uYXRoYW50bmVhbC9qcy1mb2N1cy1yaW5nXG5cblx0bGV0IGtleWJvYXJkVGhyb3R0bGVUaW1lb3V0SUQ7XG5cblx0Y29uc3QgYWN0aXZlRWxlbWVudHMgPSBbXTtcblxuXHR0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsICgpID0+IHtcblx0XHRhY3RpdmVFbGVtZW50cy5mb3JFYWNoKChhY3RpdmVFbGVtZW50KSA9PiB7XG5cdFx0XHRhY3RpdmVFbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgnanMtZm9jdXMnKTtcblx0XHRcdGFjdGl2ZUVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdqcy1mb2N1cy1yaW5nJyk7XG5cdFx0fSk7XG5cdH0sIHRydWUpO1xuXG5cdHRhcmdldC5hZGRFdmVudExpc3RlbmVyKCdmb2N1cycsICgpID0+IHtcblx0XHRjb25zdCBhY3RpdmVFbGVtZW50ID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcblxuXHRcdGlmIChhY3RpdmVFbGVtZW50IGluc3RhbmNlb2YgRWxlbWVudCkge1xuXHRcdFx0YWN0aXZlRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2pzLWZvY3VzJywgJycpO1xuXG5cdFx0XHRpZiAoa2V5Ym9hcmRUaHJvdHRsZVRpbWVvdXRJRCkge1xuXHRcdFx0XHRhY3RpdmVFbGVtZW50LnNldEF0dHJpYnV0ZSgnanMtZm9jdXMtcmluZycsICcnKTtcblx0XHRcdH1cblxuXHRcdFx0YWN0aXZlRWxlbWVudHMucHVzaChhY3RpdmVFbGVtZW50KTtcblx0XHR9XG5cdH0sIHRydWUpO1xuXG5cdHRhcmdldC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKCkgPT4ge1xuXHRcdGtleWJvYXJkVGhyb3R0bGVUaW1lb3V0SUQgPSBjbGVhclRpbWVvdXQoa2V5Ym9hcmRUaHJvdHRsZVRpbWVvdXRJRCkgfHwgc2V0VGltZW91dCgoKSA9PiB7XG5cdFx0XHRrZXlib2FyZFRocm90dGxlVGltZW91dElEID0gMDtcblx0XHR9LCAxMDApO1xuXHR9LCB0cnVlKTtcbn1cblxuZXhwb3J0IHtcblx0JGFzc2lnbixcblx0JGRpc3BhdGNoLFxuXHQkZW5hYmxlRm9jdXNSaW5nLFxuXHQkZmV0Y2gsXG5cdCRyZXBsYWNlQWxsXG59O1xuIiwiLyogR2xvYmFsIEhlYWRlciwgQ29weXJpZ2h0IDIwMTcgRXNyaVxuXG5MaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2VcbnRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlXG5MaWNlbnNlIGF0IGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuXG5Vbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlIGRpc3RyaWJ1dGVkXG51bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUlxuQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cblxuU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9uc1xudW5kZXIgdGhlIExpY2Vuc2UuICovXG5cbmltcG9ydCB7ICRmZXRjaCB9IGZyb20gJ2VzcmktZ2xvYmFsLXNoYXJlZCc7XG5pbXBvcnQgY3JlYXRlIGZyb20gJy4vZGVwZW5kZW50LWpzL2hlYWRlcic7XG5cbmZ1bmN0aW9uIGNyZWF0ZUZyb21EZWZhdWx0KGNhbGxiYWNrKSB7XG5cdGNyZWF0ZUZyb21VUkwoJy9lc3JpLWhlYWRlci5qc29uJywgY2FsbGJhY2spO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVGcm9tVVJMKHVybCwgY2FsbGJhY2spIHtcblx0JGZldGNoKHVybCwgKHJlc3BvbnNlVGV4dCkgPT4ge1xuXHRcdGNhbGxiYWNrKFxuXHRcdFx0Y3JlYXRlKFxuXHRcdFx0XHRKU09OLnBhcnNlKHJlc3BvbnNlVGV4dClcblx0XHRcdClcblx0XHQpO1xuXHR9KTtcbn1cblxuZXhwb3J0IGRlZmF1bHQge1xuXHRjcmVhdGUsXG5cdGNyZWF0ZUZyb21VUkwsXG5cdGNyZWF0ZUZyb21EZWZhdWx0XG59O1xuIiwiLyogVG9vbGluZ1xuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuaW1wb3J0IHsgJGFzc2lnbiBhcyAkLCAkZGlzcGF0Y2gsICRyZXBsYWNlQWxsIH0gZnJvbSAnZXNyaS1nbG9iYWwtc2hhcmVkJztcblxuLyogQWNjb3VudFxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuY29uc3QgcHJlZml4ID0gJ2VzcmktaGVhZGVyLWFjY291bnQnO1xuXG5leHBvcnQgZGVmYXVsdCAoKSA9PiB7XG5cdGNvbnN0ICR0YXJnZXQgPSAkKCdkaXYnLCB7IGNsYXNzOiBwcmVmaXggfSk7XG5cblx0LyogQWNjb3VudDogQ29udHJvbDogU2lnbmluXG5cdC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXHRjb25zdCAkY29udHJvbFNpZ25pblRleHQgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnJyk7XG5cdGNvbnN0ICRjb250cm9sU2lnbmluID0gJCgnYnV0dG9uJywgeyBjbGFzczogYCR7cHJlZml4fS1jb250cm9sICR7cHJlZml4fS1jb250cm9sLS1zaWduaW5gIH0sXG5cdFx0JGNvbnRyb2xTaWduaW5UZXh0XG5cdCk7XG5cblx0Ly8gT24gQ2xpY2tcblx0JGNvbnRyb2xTaWduaW4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcblx0XHQkZGlzcGF0Y2goJGNvbnRyb2xTaWduaW4sICdoZWFkZXI6Y2xpY2s6c2lnbmluJywgeyBldmVudCB9KTtcblx0fSk7XG5cblx0LyogQWNjb3VudDogQ29udHJvbFxuXHQvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblx0Y29uc3QgJGNvbnRyb2xJbWFnZSA9ICQoJ2ltZycsIHsgY2xhc3M6IGAke3ByZWZpeH0taW1hZ2VgIH0pO1xuXG5cdGNvbnN0ICRjb250cm9sTmFtZVRleHQgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnJyk7XG5cdGNvbnN0ICRjb250cm9sTmFtZSA9ICQoJ3NwYW4nLCB7IGNsYXNzOiBgJHtwcmVmaXh9LW5hbWVgIH0sXG5cdFx0JGNvbnRyb2xOYW1lVGV4dFxuXHQpO1xuXG5cdGNvbnN0ICRjb250cm9sSWRUZXh0ID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJycpO1xuXHRjb25zdCAkY29udHJvbElkID0gJCgnc3BhbicsIHsgY2xhc3M6IGAke3ByZWZpeH0taWRgIH0sXG5cdFx0JGNvbnRyb2xJZFRleHRcblx0KTtcblxuXHRjb25zdCAkY29udHJvbCA9ICQoJ2J1dHRvbicsXG5cdFx0e1xuXHRcdFx0Y2xhc3M6IGAke3ByZWZpeH0tY29udHJvbCAke3ByZWZpeH0tY29udHJvbC0tc2lnbmVkaW5gLCBpZDogYCR7cHJlZml4fS1jb250cm9sYCxcblx0XHRcdGFyaWE6IHsgY29udHJvbHM6IGAke3ByZWZpeH0tbWVudWAsIGV4cGFuZGVkOiBmYWxzZSwgaGFzcG9wdXA6IHRydWUgfVxuXHRcdH0sXG5cdFx0JGNvbnRyb2xJbWFnZSxcblx0XHQkY29udHJvbE5hbWUsXG5cdFx0JGNvbnRyb2xJZFxuXHQpO1xuXG5cdC8vIE9uIENsaWNrXG5cdCRjb250cm9sLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG5cdFx0JGRpc3BhdGNoKCRjb250cm9sLCAnaGVhZGVyOmNsaWNrOmFjY291bnQnLCB7IGV2ZW50IH0pO1xuXG5cdFx0JGRpc3BhdGNoKCRjb250cm9sLCAnaGVhZGVyOm1lbnU6dG9nZ2xlJywge1xuXHRcdFx0YWNjb3VudDogdHJ1ZSxcblx0XHRcdGNvbnRyb2w6ICRjb250cm9sLFxuXHRcdFx0Y29udGVudDogJGNvbnRlbnQsXG5cdFx0XHRzdGF0ZTogICAnbWVudScsXG5cdFx0XHR0YXJnZXQ6ICAkdGFyZ2V0LFxuXHRcdFx0dHlwZTogICAgJ2FjY291bnQtdG9nZ2xlJ1xuXHRcdH0pO1xuXHR9KTtcblxuXHQvKiBBY2NvdW50OiBDb250ZW50XG5cdC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXHQvLyBUb2dnbGVcblx0Y29uc3QgJGNvbnRlbnRUb2dnbGVUZXh0ID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJycpO1xuXHRjb25zdCAkY29udGVudFRvZ2dsZSA9ICQoJ2J1dHRvbicsIHsgY2xhc3M6IGAke3ByZWZpeH0tY29udGVudC10b2dnbGVgIH0sXG5cdFx0JGNvbnRlbnRUb2dnbGVUZXh0XG5cdCk7XG5cblx0JGNvbnRlbnRUb2dnbGUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG5cdFx0JGRpc3BhdGNoKCRjb250ZW50VG9nZ2xlLCAnaGVhZGVyOm1lbnU6Y2xvc2UnLCB7XG5cdFx0XHRjb250cm9sOiAkY29udHJvbCxcblx0XHRcdGNvbnRlbnQ6ICRjb250ZW50LFxuXHRcdFx0dHlwZTogICAgJ2FjY291bnQtY2xvc2UnXG5cdFx0fSk7XG5cdH0pO1xuXG5cdC8vIEltYWdlXG5cdGNvbnN0ICRjb250ZW50SW1hZ2UgPSAkKCdpbWcnLCB7IGNsYXNzOiBgJHtwcmVmaXh9LWNvbnRlbnQtaW1hZ2VgLCByb2xlOiAncHJlc2VudGF0aW9uJyB9KTtcblxuXHQvLyBJbmZvXG5cdGNvbnN0ICRjb250ZW50SW5mb05hbWVUZXh0ICA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCcnKTtcblx0Y29uc3QgJGNvbnRlbnRJbmZvSWRUZXh0ICAgID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJycpO1xuXHRjb25zdCAkY29udGVudEluZm9Hcm91cFRleHQgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnJyk7XG5cdGNvbnN0ICRjb250ZW50SW5mbyA9ICQoJ2RpdicsIHsgY2xhc3M6IGAke3ByZWZpeH0tY29udGVudC1pbmZvYCB9LFxuXHRcdCRjb250ZW50SW1hZ2UsXG5cdFx0JCgnc3BhbicsIHsgY2xhc3M6IGAke3ByZWZpeH0tY29udGVudC1uYW1lYCAgfSxcblx0XHRcdCRjb250ZW50SW5mb05hbWVUZXh0XG5cdFx0KSxcblx0XHQkKCdzcGFuJywgeyBjbGFzczogYCR7cHJlZml4fS1jb250ZW50LWlkYCAgICB9LFxuXHRcdFx0JGNvbnRlbnRJbmZvSWRUZXh0XG5cdFx0KSxcblx0XHQkKCdzcGFuJywgeyBjbGFzczogYCR7cHJlZml4fS1jb250ZW50LWdyb3VwYCB9LFxuXHRcdFx0JGNvbnRlbnRJbmZvR3JvdXBUZXh0XG5cdFx0KVxuXHQpO1xuXG5cdC8vIE1lbnVcblx0Y29uc3QgJGNvbnRlbnRNZW51ID0gJCgndWwnLCB7XG5cdFx0Y2xhc3M6IGAke3ByZWZpeH0tY29udGVudC1tZW51YCxcblx0XHRyb2xlOiAnbmF2aWdhdGlvbicsIGFyaWE6IHsgbGFiZWxsZWRieTogYCR7cHJlZml4fS1jb250cm9sYCB9XG5cdH0pO1xuXG5cdC8vIFN3aXRjaCBDb250cm9sXG5cdGNvbnN0ICRjb250ZW50U2lnbmluU3dpdGNoVGV4dCA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCcnKTtcblx0Y29uc3QgJGNvbnRlbnRTaWduaW5Td2l0Y2ggPSAkKCdidXR0b24nLCB7IGNsYXNzOiBgJHtwcmVmaXh9LXNpZ25pbi1jb250cm9sIC1zd2l0Y2hgIH0sXG5cdFx0JGNvbnRlbnRTaWduaW5Td2l0Y2hUZXh0XG5cdCk7XG5cblx0Ly8gU3dpdGNoIENvbnRyb2w6IE9uIENsaWNrXG5cdCRjb250ZW50U2lnbmluU3dpdGNoLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG5cdFx0JGRpc3BhdGNoKCRjb250ZW50U2lnbmluU3dpdGNoLCAnaGVhZGVyOmNsaWNrOnN3aXRjaCcsIHsgZXZlbnQgfSk7XG5cdH0pO1xuXG5cdC8vIFNpZ25vdXQgQ29udHJvbFxuXHRjb25zdCAkY29udGVudFNpZ25pblNpZ25vdXRUZXh0ID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJycpO1xuXHRjb25zdCAkY29udGVudFNpZ25pblNpZ25vdXQgPSAkKCdidXR0b24nLCB7IGNsYXNzOiBgJHtwcmVmaXh9LXNpZ25pbi1jb250cm9sIC1sb2dvdXRgIH0sXG5cdFx0JGNvbnRlbnRTaWduaW5TaWdub3V0VGV4dFxuXHQpO1xuXG5cdC8vIFNpZ25vdXQgQ29udHJvbDogT24gQ2xpY2tcblx0JGNvbnRlbnRTaWduaW5TaWdub3V0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG5cdFx0JGRpc3BhdGNoKCRjb250ZW50U2lnbmluU2lnbm91dCwgJ2hlYWRlcjpjbGljazpzaWdub3V0JywgeyBldmVudCB9KTtcblx0fSk7XG5cblx0Ly8gU2lnbmluIE1lbnVcblx0Y29uc3QgJGNvbnRlbnRTaWduaW5NZW51ID0gJCgndWwnLFxuXHRcdHtcblx0XHRcdGNsYXNzOiBgJHtwcmVmaXh9LXNpZ25pbi1tZW51YCxcblx0XHRcdHJvbGU6ICdncm91cCdcblx0XHR9LFxuXHRcdCQoJ2xpJywgeyBjbGFzczogYCR7cHJlZml4fS1zaWduaW4taXRlbWAgfSxcblx0XHRcdCRjb250ZW50U2lnbmluU3dpdGNoXG5cdFx0KSxcblx0XHQkKCdsaScsIHsgY2xhc3M6IGAke3ByZWZpeH0tc2lnbmluLWl0ZW1gIH0sXG5cdFx0XHQkY29udGVudFNpZ25pblNpZ25vdXRcblx0XHQpXG5cdCk7XG5cblx0Ly8gQ29udGVudFxuXHRjb25zdCAkY29udGVudCA9ICQoJ2RpdicsXG5cdFx0e1xuXHRcdFx0Y2xhc3M6IGAke3ByZWZpeH0tbWVudWAsIGlkOiBgJHtwcmVmaXh9LW1lbnVgLFxuXHRcdFx0cm9sZTogJ2dyb3VwJywgYXJpYTogeyBleHBhbmRlZDogZmFsc2UsIGhpZGRlbjogdHJ1ZSB9XG5cdFx0fSxcblx0XHQkY29udGVudFRvZ2dsZSxcblx0XHQkY29udGVudEluZm8sXG5cdFx0JGNvbnRlbnRNZW51LFxuXHRcdCRjb250ZW50U2lnbmluTWVudVxuXHQpO1xuXG5cdC8qIEFjY291bnQ6IE9uIFVwZGF0ZVxuXHQvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblx0JHRhcmdldC5hZGRFdmVudExpc3RlbmVyKCdoZWFkZXI6dXBkYXRlOmFjY291bnQnLCAoeyBkZXRhaWwgfSkgPT4ge1xuXHRcdCQoJGNvbnRyb2wsIHsgYXJpYTogeyBsYWJlbDogZGV0YWlsLmxhYmVsIH0gfSk7XG5cblx0XHQvLyBVcGRhdGUgdGhlIGNvbnRyb2wgdGV4dFxuXHRcdCRjb250ZW50VG9nZ2xlVGV4dC5ub2RlVmFsdWUgICAgICAgID0gZGV0YWlsLmxhYmVsO1xuXHRcdCRjb250cm9sU2lnbmluVGV4dC5ub2RlVmFsdWUgICAgICAgID0gZGV0YWlsLmNvbnRyb2xzLnNpZ25pbjtcblx0XHQkY29udGVudFNpZ25pblN3aXRjaFRleHQubm9kZVZhbHVlICA9IGRldGFpbC5jb250cm9scy5zd2l0Y2g7XG5cdFx0JGNvbnRlbnRTaWduaW5TaWdub3V0VGV4dC5ub2RlVmFsdWUgPSBkZXRhaWwuY29udHJvbHMuc2lnbm91dDtcblxuXHRcdC8vIElmIHRoZXJlIGlzIGEgdXNlciBvYmplY3Rcblx0XHRpZiAoZGV0YWlsLnVzZXIpIHtcblx0XHRcdC8vIFVwZGF0ZSB0aGUgYWNjb3VudCB0ZXh0ICsgaW1hZ2Vcblx0XHRcdCRjb250cm9sTmFtZVRleHQubm9kZVZhbHVlID0gJGNvbnRlbnRJbmZvTmFtZVRleHQubm9kZVZhbHVlID0gZGV0YWlsLnVzZXIubmFtZTtcblx0XHRcdCRjb250cm9sSWRUZXh0Lm5vZGVWYWx1ZSAgID0gJGNvbnRlbnRJbmZvSWRUZXh0Lm5vZGVWYWx1ZSAgID0gZGV0YWlsLnVzZXIuaWQ7XG5cdFx0XHQkY29udHJvbEltYWdlLnNyYyAgICAgICAgICA9ICRjb250ZW50SW1hZ2Uuc3JjICAgICAgICAgICAgICA9IGRldGFpbC51c2VyLmltYWdlO1xuXG5cdFx0XHQkY29udGVudEluZm9Hcm91cFRleHQubm9kZVZhbHVlID0gZGV0YWlsLnVzZXIuZ3JvdXA7XG5cblx0XHRcdC8vIFVwZGF0ZSB0aGUgY29udGVudCBtZW51XG5cdFx0XHQkcmVwbGFjZUFsbCgkY29udGVudE1lbnUsXG5cdFx0XHRcdC4uLmRldGFpbC5tZW51cy5tYXAoXG5cdFx0XHRcdFx0KGl0ZW0pID0+ICQoJ2xpJywgeyBjbGFzczogYCR7cHJlZml4fS1jb250ZW50LWl0ZW1gIH0sXG5cdFx0XHRcdFx0XHQkKCdhJywgeyBjbGFzczogYCR7cHJlZml4fS1jb250ZW50LWxpbmtgLCBocmVmOiBpdGVtLmhyZWYgfSxcblx0XHRcdFx0XHRcdFx0aXRlbS5sYWJlbFxuXHRcdFx0XHRcdFx0KVxuXHRcdFx0XHRcdClcblx0XHRcdFx0KVxuXHRcdFx0KTtcblxuXHRcdFx0Ly8gVXNlIHRoZSBjb250cm9sIGFuZCBjb250ZW50XG5cdFx0XHQkcmVwbGFjZUFsbCgkdGFyZ2V0LCAkY29udHJvbCwgJGNvbnRlbnQpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBPdGhlcndpc2UsIHVzZSB0aGUgc2lnbmluIGNvbnRyb2xcblx0XHRcdCRyZXBsYWNlQWxsKCR0YXJnZXQsICRjb250cm9sU2lnbmluKTtcblx0XHR9XG5cdH0pO1xuXG5cdHJldHVybiAkdGFyZ2V0O1xufVxuIiwiLyogVG9vbGluZ1xuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuaW1wb3J0IHsgJGFzc2lnbiBhcyAkLCAkZGlzcGF0Y2gsICRyZXBsYWNlQWxsIH0gZnJvbSAnZXNyaS1nbG9iYWwtc2hhcmVkJztcblxuLyogQnJhbmRcbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbmNvbnN0IHByZWZpeCA9ICdlc3JpLWhlYWRlci1icmFuZCc7XG5cbmV4cG9ydCBkZWZhdWx0ICgpID0+IHtcblx0LyogQnJhbmQ6IEltYWdlXG5cdC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXHRjb25zdCAkdGFyZ2V0SW1hZ2UgPSAkKFxuXHRcdGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCAnc3ZnJyksXG5cdFx0eyBjbGFzczogYCR7cHJlZml4fS1pbWFnZWAgfVxuXHQpO1xuXG5cdC8qIEJyYW5kXG5cdC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXHRjb25zdCAkdGFyZ2V0ID0gJCgnYScsIHsgY2xhc3M6IHByZWZpeCwgaWQ6IHByZWZpeCB9LFxuXHRcdCR0YXJnZXRJbWFnZVxuXHQpO1xuXG5cdC8vIE9uIENsaWNrXG5cdCR0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcblx0XHQkZGlzcGF0Y2goJHRhcmdldCwgJ2hlYWRlcjpjbGljazpicmFuZCcsIHsgZXZlbnQgfSk7XG5cdH0pO1xuXG5cdC8qIEJyYW5kOiBPbiBVcGRhdGVcblx0LyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cdCR0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcignaGVhZGVyOnVwZGF0ZTpicmFuZCcsICh7IGRldGFpbCB9KSA9PiB7XG5cdFx0JCgkdGFyZ2V0LCB7IGhyZWY6IGRldGFpbC5ocmVmLCBhcmlhOiB7IGxhYmVsOiBkZXRhaWwubGFiZWwgfSB9KTtcblxuXHRcdCQoJHRhcmdldEltYWdlLCB7IHZpZXdCb3g6IGAwIDAgJHtkZXRhaWwud2lkdGh9ICR7ZGV0YWlsLmhlaWdodH1gLCB3aWR0aDogYCR7ZGV0YWlsLndpZHRofWAsIGhlaWdodDogYCR7ZGV0YWlsLmhlaWdodH1gIH0pO1xuXG5cdFx0JHJlcGxhY2VBbGwoJHRhcmdldEltYWdlLFxuXHRcdFx0Li4uZGV0YWlsLmltYWdlLm1hcChcblx0XHRcdFx0KGQpID0+ICQoXG5cdFx0XHRcdFx0ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICdwYXRoJyksXG5cdFx0XHRcdFx0eyBkIH1cblx0XHRcdFx0KVxuXHRcdFx0KVxuXHRcdCk7XG5cdH0pO1xuXG5cdHJldHVybiAkdGFyZ2V0O1xufVxuIiwiLyogVG9vbGluZ1xuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuaW1wb3J0IHsgJGFzc2lnbiBhcyAkLCAkZGlzcGF0Y2gsICRyZXBsYWNlQWxsIH0gZnJvbSAnZXNyaS1nbG9iYWwtc2hhcmVkJztcblxuLyogTWVudXNcbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbmNvbnN0IHByZWZpeCA9ICdlc3JpLWhlYWRlci1tZW51cyc7XG5cbmV4cG9ydCBkZWZhdWx0ICgpID0+IHtcblx0LyogVG9nZ2xlIE1lbnVcblx0LyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cdGNvbnN0ICR0b2dnbGUgPSAkKCdidXR0b24nLCB7XG5cdFx0Y2xhc3M6IGAke3ByZWZpeH0tdG9nZ2xlYCwgaWQ6IGAke3ByZWZpeH0tdG9nZ2xlYCxcblx0XHRhcmlhOiB7IGNvbnRyb2xzOiBgJHtwcmVmaXh9LWNvbnRlbnRgLCBleHBhbmRlZDogZmFsc2UsIGhhc3BvcHVwOiB0cnVlLCBsYWJlbGxlZGJ5OiAnZXNyaS1oZWFkZXItYnJhbmQnIH1cblx0fSk7XG5cblx0JHRvZ2dsZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuXHRcdCRkaXNwYXRjaCgkdG9nZ2xlLCAnaGVhZGVyOm1lbnU6dG9nZ2xlJywge1xuXHRcdFx0Y29udHJvbDogJHRvZ2dsZSxcblx0XHRcdGNvbnRlbnQ6ICRjb250ZW50LFxuXHRcdFx0cm9vdDogICAgdHJ1ZSxcblx0XHRcdHN0YXRlOiAgICdtZW51Jyxcblx0XHRcdHRhcmdldDogICR0YXJnZXQsXG5cdFx0XHR0eXBlOiAgICAncm9vdC10b2dnbGUnLFxuXHRcdFx0ZXZlbnRcblx0XHR9KTtcblx0fSk7XG5cblx0LyogTWVudXM6IENvbnRlbnRcblx0LyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cdGNvbnN0ICRjb250ZW50ID0gJCgnZGl2JywgeyBjbGFzczogYCR7cHJlZml4fS1jb250ZW50YCxcblx0XHRhcmlhOiB7IGhpZGRlbjogdHJ1ZSwgZXhwYW5kZWQ6IGZhbHNlIH1cblx0fSk7XG5cblx0LyogTWVudXNcblx0LyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cdGNvbnN0ICR0YXJnZXQgPSAkKCdkaXYnLCB7IGNsYXNzOiBwcmVmaXgsIGlkOiBwcmVmaXggfSxcblx0XHQkdG9nZ2xlLCAkY29udGVudFxuXHQpO1xuXG5cdC8qIE1lbnVzOiBPbiBVcGRhdGVcblx0LyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cdCR0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcignaGVhZGVyOnVwZGF0ZTptZW51cycsICh7IGRldGFpbCB9KSA9PiB7XG5cdFx0JHJlcGxhY2VBbGwoXG5cdFx0XHQkY29udGVudCxcblx0XHRcdC4uLmRldGFpbC5tYXAoXG5cdFx0XHRcdChtZW51LCB1dWlkKSA9PiAkKCdkaXYnLFxuXHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdGNsYXNzOiBgJHtwcmVmaXh9LW1lbnVgLFxuXHRcdFx0XHRcdFx0cm9sZTogJ2dyb3VwJ1xuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0JCgndWwnLFxuXHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHRjbGFzczogYCR7cHJlZml4fS1saXN0YCxcblx0XHRcdFx0XHRcdFx0cm9sZTogJ25hdmlnYXRpb24nLCBhcmlhOiB7IGxhYmVsbGVkYnk6ICdlc3JpLWhlYWRlci1icmFuZCcgfVxuXHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdC4uLm1lbnUubWFwKChpdGVtLCBzdXVpZCkgPT4ge1xuXHRcdFx0XHRcdFx0XHQvKiBHbG9iYWwgTmF2aWdhdGlvbjogTWVudXM6IExpbmtcblx0XHRcdFx0XHRcdFx0LyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblx0XHRcdFx0XHRcdFx0Y29uc3QgJHN1YmNvbnRyb2wgPSAkKCdhJyxcblx0XHRcdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcdFx0XHRjbGFzczogYCR7cHJlZml4fS1saW5rYCwgaWQ6IGAke3ByZWZpeH0tbGluay0ke3V1aWR9LSR7c3V1aWR9YCxcblx0XHRcdFx0XHRcdFx0XHRcdGhyZWY6IGl0ZW0uaHJlZiB8fCAnamF2YXNjcmlwdDo7JyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXNjcmlwdC11cmxcblx0XHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHRcdGl0ZW0ubGFiZWxcblx0XHRcdFx0XHRcdFx0KTtcblxuXHRcdFx0XHRcdFx0XHRpZiAoaXRlbS5kYXRhKSB7XG5cdFx0XHRcdFx0XHRcdFx0JHN1YmNvbnRyb2woe1xuXHRcdFx0XHRcdFx0XHRcdFx0ZGF0YTogaXRlbS5kYXRhXG5cdFx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRjb25zdCAkbGkgPSAkKCdsaScsIHsgY2xhc3M6IGAke3ByZWZpeH0taXRlbWAgfSwgJHN1YmNvbnRyb2wpO1xuXG5cdFx0XHRcdFx0XHRcdGNvbnN0IGhhc01lbnVJdGVtcyA9IGl0ZW0ubWVudXMgJiYgaXRlbS5tZW51cy5sZW5ndGg7XG5cdFx0XHRcdFx0XHRcdGNvbnN0IGhhc0ZlYXR1cmVkSXRlbXMgPSBpdGVtLnRpbGVzICYmIGl0ZW0udGlsZXMubGVuZ3RoO1xuXG5cdFx0XHRcdFx0XHRcdGlmIChoYXNNZW51SXRlbXMgfHwgaGFzRmVhdHVyZWRJdGVtcykge1xuXHRcdFx0XHRcdFx0XHRcdC8qIEdsb2JhbCBOYXZpZ2F0aW9uOiBTdWJtZW51XG5cdFx0XHRcdFx0XHRcdFx0LyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXHRcdFx0XHRcdFx0XHRcdGNvbnN0ICRzdWJ0b2dnbGUgPSAkKCdidXR0b24nLCB7IGNsYXNzOiBgJHtwcmVmaXh9LXN1Ym1lbnUtdG9nZ2xlYCB9LFxuXHRcdFx0XHRcdFx0XHRcdFx0aXRlbS5sYWJlbFxuXHRcdFx0XHRcdFx0XHRcdCk7XG5cblx0XHRcdFx0XHRcdFx0XHRjb25zdCAkc3ViY29udGVudCA9ICQoJ2RpdicsXG5cdFx0XHRcdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNsYXNzOiBgJHtwcmVmaXh9LXN1Ym1lbnVgLCBpZDogYCR7cHJlZml4fS1zdWJtZW51LSR7dXVpZH0tJHtzdXVpZH1gLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRyb2xlOiAnZ3JvdXAnLCBhcmlhOiB7IGhpZGRlbjogdHJ1ZSwgZXhwYW5kZWQ6IGZhbHNlIH0sXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGRhdGE6IHsgZmlsbGVkOiBpdGVtLm1lbnVzLmxlbmd0aCA+IDEwID8gaXRlbS5tZW51cy5zbGljZSgwLCAxOCkubGVuZ3RoIDogJycgfVxuXHRcdFx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0XHRcdCRzdWJ0b2dnbGVcblx0XHRcdFx0XHRcdFx0XHQpO1xuXG5cdFx0XHRcdFx0XHRcdFx0aWYgKGhhc01lbnVJdGVtcykge1xuXHRcdFx0XHRcdFx0XHRcdFx0JCgkc3ViY29udGVudCxcblx0XHRcdFx0XHRcdFx0XHRcdFx0JCgndWwnLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNsYXNzOiBgJHtwcmVmaXh9LXN1Ymxpc3RgLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cm9sZTogJ25hdmlnYXRpb24nLCBhcmlhOiB7IGxhYmVsbGVkYnk6IGAke3ByZWZpeH0tbGluay0ke3V1aWR9LSR7c3V1aWR9YCB9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvKiBHbG9iYWwgTmF2aWdhdGlvbjogTWVudXM6IFN1Ymxpbmtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQuLi5pdGVtLm1lbnVzLnNsaWNlKDAsIDE4KS5tYXAoXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQoY2hpbGRpdGVtKSA9PiB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNvbnN0ICRzdWJsaW5rID0gJCgnYScsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2xhc3M6IGAke3ByZWZpeH0tc3VibGlua2AsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRocmVmOiBjaGlsZGl0ZW0uaHJlZlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2hpbGRpdGVtLmxhYmVsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCk7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKGNoaWxkaXRlbS5kYXRhKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0JCgkc3VibGluaywge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0ZGF0YTogY2hpbGRpdGVtLmRhdGFcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmIChjaGlsZGl0ZW0ubmV3Q29udGV4dCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCQoJHN1YmxpbmssIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHRhcmdldDogJ19ibGFuaycsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZWw6ICdub29wZW5lcidcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiAkKCdsaScsIHsgY2xhc3M6IGAke3ByZWZpeH0tc3ViaXRlbWAgfSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQkc3VibGlua1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdClcblx0XHRcdFx0XHRcdFx0XHRcdFx0KVxuXHRcdFx0XHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRpZiAoaGFzRmVhdHVyZWRJdGVtcykge1xuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gLi4uXG5cdFx0XHRcdFx0XHRcdFx0XHQkKCRzdWJjb250ZW50LFxuXHRcdFx0XHRcdFx0XHRcdFx0XHQkKCd1bCcsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2xhc3M6IGAke3ByZWZpeH0tc3VibGlzdC0tZmVhdHVyZWRgLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cm9sZTogJ25hdmlnYXRpb24nLCBhcmlhOiB7IGxhYmVsbGVkYnk6IGAke3ByZWZpeH0tbGluay0ke3V1aWR9LSR7c3V1aWR9YCB9LFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0ZGF0YTogeyBmaWxsZWQ6IGAkeyBpdGVtLnRpbGVzLnNsaWNlKDAsIDQpLmxlbmd0aCB9YCB9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvKiBHbG9iYWwgTmF2aWdhdGlvbjogTWVudXM6IFN1Ymxpbmtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdC4uLml0ZW0udGlsZXMuc2xpY2UoMCwgNCkubWFwKFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0KGNoaWxkaXRlbSkgPT4ge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjb25zdCAkc3VibGluayA9ICQoJ2EnLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNsYXNzOiBgJHtwcmVmaXh9LXN1YmxpbmstLWZlYXR1cmVkYCxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGhyZWY6IGNoaWxkaXRlbS5ocmVmXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQkKFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICdzdmcnKSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNoaWxkaXRlbS53aWR0aCAmJiBjaGlsZGl0ZW0uaGVpZ2h0ID8geyB2aWV3Qm94OiBgMCAwICR7Y2hpbGRpdGVtLndpZHRofSAke2NoaWxkaXRlbS5oZWlnaHR9YCB9IDoge30sXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7IGNsYXNzOiBgJHtwcmVmaXh9LXN1YmxpbmstaW1hZ2VgIH0sXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQkKGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Li4uY2hpbGRpdGVtLmljb24ubWFwKFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdChkKSA9PiAkKFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICdwYXRoJyksXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7IGQgfVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdClcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0KVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0KVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCksXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0JCgnc3BhbicsIHsgY2xhc3M6IGAke3ByZWZpeH0tc3VibGluay10ZXh0YCB9LFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2hpbGRpdGVtLmxhYmVsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0KVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQpO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmIChjaGlsZGl0ZW0uZGF0YSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCQoJHN1YmxpbmssIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGRhdGE6IGNoaWxkaXRlbS5kYXRhXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoY2hpbGRpdGVtLm5ld0NvbnRleHQpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQkKCRzdWJsaW5rLCB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0YXJnZXQ6ICdfYmxhbmsnLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmVsOiAnbm9vcGVuZXInXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gJCgnbGknLCB7IGNsYXNzOiBgJHtwcmVmaXh9LXN1Yml0ZW0tLWZlYXR1cmVkYCB9LFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCRzdWJsaW5rXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0KVxuXHRcdFx0XHRcdFx0XHRcdFx0XHQpXG5cdFx0XHRcdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdCQoJGxpLFxuXHRcdFx0XHRcdFx0XHRcdFx0JHN1YmNvbnRlbnRcblx0XHRcdFx0XHRcdFx0XHQpO1xuXG5cdFx0XHRcdFx0XHRcdFx0JHN1YmNvbnRyb2wuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG5cdFx0XHRcdFx0XHRcdFx0XHQkZGlzcGF0Y2goJHN1YmNvbnRyb2wsICdoZWFkZXI6bWVudTp0b2dnbGUnLCB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNvbnRyb2w6ICRzdWJjb250cm9sLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRjb250ZW50OiAkc3ViY29udGVudCxcblx0XHRcdFx0XHRcdFx0XHRcdFx0c3VibWVudTogdHJ1ZSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0c3RhdGU6ICAgJ21lbnUnLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHR0eXBlOiAgICAnbWVudS10b2dnbGUnXG5cdFx0XHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdFx0XHR9KTtcblxuXHRcdFx0XHRcdFx0XHRcdCRzdWJ0b2dnbGUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG5cdFx0XHRcdFx0XHRcdFx0XHQkZGlzcGF0Y2goJHN1YnRvZ2dsZSwgJ2hlYWRlcjptZW51OmNsb3NlJywge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRjb250cm9sOiAkc3ViY29udHJvbCxcblx0XHRcdFx0XHRcdFx0XHRcdFx0c3VibWVudTogdHJ1ZSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y29udGVudDogJHN1YmNvbnRlbnQsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHR5cGU6ICAgICdtZW51LWNsb3NlJ1xuXHRcdFx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRyZXR1cm4gJGxpO1xuXHRcdFx0XHRcdFx0fSlcblx0XHRcdFx0XHQpXG5cdFx0XHRcdClcblx0XHRcdClcblx0XHQpO1xuXHR9KTtcblxuXHRyZXR1cm4gJHRhcmdldDtcbn07XG4iLCJpbXBvcnQgeyAkYXNzaWduIGFzICQsICRkaXNwYXRjaCB9IGZyb20gJ2VzcmktZ2xvYmFsLXNoYXJlZCc7XG5cbi8qIFNlYXJjaFxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuZXhwb3J0IGRlZmF1bHQgKGRhdGEpID0+IHtcblx0LyogRWxlbWVudHNcblx0LyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cdGNvbnN0ICRsYWJlbCA9ICQoJ2xhYmVsJywge1xuXHRcdGNsYXNzOiBgJHtkYXRhLnByZWZpeH0tbGFiZWxgLFxuXHRcdGZvcjogYCR7ZGF0YS5wcmVmaXh9LXF1ZXJ5LWNvbnRyb2xgXG5cdH0sIGRhdGEucXVlcnlMYWJlbCk7XG5cblx0Y29uc3QgJGNvbnRyb2wgPSAkKCdpbnB1dCcsIHtcblx0XHRjbGFzczogYCR7ZGF0YS5wcmVmaXh9LWNvbnRyb2xgLCBpZDogYCR7ZGF0YS5wcmVmaXh9LWNvbnRyb2xgLFxuXHRcdHR5cGU6ICdzZWFyY2gnLCBuYW1lOiAncScsXG5cdFx0YXV0b2NhcGl0YWxpemU6ICdvZmYnLCBhdXRvY29tcGxldGU6ICdvZmYnLCBhdXRvY29ycmVjdDogJ29mZicsIHNwZWxsY2hlY2s6ICdmYWxzZSdcblx0fSk7XG5cblx0Y29uc3QgJG1lYXN1cmVUZXh0Tm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCcnKTtcblxuXHRjb25zdCAkbWVhc3VyZVRleHQgPSAkKCdkaXYnLCB7XG5cdFx0Y2xhc3M6IGAke2RhdGEucHJlZml4fS1tZWFzdXJlLXRleHRgLFxuXHRcdGFyaWE6IHsgaGlkZGVuOiB0cnVlIH1cblx0fSwgJG1lYXN1cmVUZXh0Tm9kZSk7XG5cblx0Y29uc3QgJG1lYXN1cmUgPSAkKCdkaXYnLCB7IGNsYXNzOiBgJHtkYXRhLnByZWZpeH0tbWVhc3VyZWAgfSwgJG1lYXN1cmVUZXh0KTtcblxuXHRjb25zdCAkc3VibWl0ID0gJCgnYnV0dG9uJywge1xuXHRcdGNsYXNzOiBgJHtkYXRhLnByZWZpeH0tc3VibWl0YCwgdHlwZTogJ3N1Ym1pdCcsXG5cdFx0YXJpYTogeyBsYWJlbDogZGF0YS5zdWJtaXRMYWJlbCB9XG5cdH0pO1xuXG5cdGNvbnN0ICRzZWFyY2ggPSAkKCdmb3JtJywge1xuXHRcdGNsYXNzOiBgJHtkYXRhLnByZWZpeH0tZm9ybWAsIGFjdGlvbjogZGF0YS5hY3Rpb24sXG5cdFx0cm9sZTogJ3NlYXJjaCcsIGFyaWE6IHsgbGFiZWw6IGRhdGEubGFiZWwgfVxuXHR9LCAkbGFiZWwsICRjb250cm9sLCAkbWVhc3VyZSwgJHN1Ym1pdCk7XG5cblx0LyogRm9jdXMgRXZlbnRcblx0LyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cdCRzZWFyY2guYWRkRXZlbnRMaXN0ZW5lcihgJHtkYXRhLnByZWZpeH06Zm9jdXNgLCAoKSA9PiB7XG5cdFx0JGNvbnRyb2wuZm9jdXMoKTtcblx0fSk7XG5cblx0LyogT24gSW5wdXRcblx0LyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cdGxldCBjb250cm9sSXNGaWxsZWQgPSBmYWxzZTtcblx0bGV0IGNvbnRyb2xWYWx1ZSA9ICcnO1xuXG5cdGZ1bmN0aW9uIG9uaW5wdXQoZXZlbnQpIHtcblx0XHQvKiBDb25kaXRpb25hbGx5IFJlc2V0IENvbnRyb2wgVmFsdWVcblx0XHQvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXHRcdGlmIChldmVudCAmJiAncmVzZXQnID09PSBldmVudC50eXBlKSB7XG5cdFx0XHQkY29udHJvbC52YWx1ZSA9ICcnO1xuXHRcdH1cblxuXHRcdC8qIFVwZGF0ZSBOZXcgQ29udHJvbCBWYWx1ZVxuXHRcdC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cdFx0Y29uc3QgbmV3Q29udHJvbFZhbHVlID0gJGNvbnRyb2wudmFsdWU7XG5cblx0XHRpZiAobmV3Q29udHJvbFZhbHVlICE9PSBjb250cm9sVmFsdWUpIHtcblx0XHRcdGNvbnRyb2xWYWx1ZSA9IG5ld0NvbnRyb2xWYWx1ZTtcblxuXHRcdFx0JGRpc3BhdGNoKCRzZWFyY2gsIGAke2RhdGEucHJlZml4fTppbnB1dGAsIHtcblx0XHRcdFx0dmFsdWU6IGNvbnRyb2xWYWx1ZSxcblx0XHRcdFx0ZXZlbnRcblx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdC8qIFVwZGF0ZSBMYWJlbCBhbmQgU3VibWl0IFVJXG5cdFx0LyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblx0XHRpZiAoY29udHJvbElzRmlsbGVkICYmICFuZXdDb250cm9sVmFsdWUpIHtcblx0XHRcdGNvbnRyb2xJc0ZpbGxlZCA9IGZhbHNlO1xuXG5cdFx0XHQkbGFiZWwucmVtb3ZlQXR0cmlidXRlKCdkYXRhLWZpbGxlZCcpO1xuXHRcdFx0JHN1Ym1pdC5yZW1vdmVBdHRyaWJ1dGUoJ2RhdGEtZmlsbGVkJyk7XG5cdFx0fSBlbHNlIGlmICghY29udHJvbElzRmlsbGVkICYmIG5ld0NvbnRyb2xWYWx1ZSkge1xuXHRcdFx0Y29udHJvbElzRmlsbGVkID0gdHJ1ZTtcblxuXHRcdFx0JCgkbGFiZWwsIHsgZGF0YTogeyBmaWxsZWQ6ICcnIH0gfSk7XG5cdFx0XHQkKCRzdWJtaXQsIHsgZGF0YTogeyBmaWxsZWQ6ICcnIH0gfSk7XG5cdFx0fVxuXG5cdFx0LyogVXBkYXRlIE1lYXN1cmUgVUlcblx0XHQvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXHRcdCRtZWFzdXJlVGV4dE5vZGUubm9kZVZhbHVlID0gbmV3Q29udHJvbFZhbHVlO1xuXG5cdFx0Y29uc3QgY3VycmVudFdpZHRoID0gYCR7JG1lYXN1cmVUZXh0LnNjcm9sbFdpZHRofXB4YDtcblxuXHRcdCRtZWFzdXJlLnN0eWxlLndpZHRoID0gY3VycmVudFdpZHRoO1xuXHR9XG5cblx0LyogT24gU3VibWl0XG5cdC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXHRmdW5jdGlvbiBvbnN1Ym1pdChldmVudCkge1xuXHRcdCRkaXNwYXRjaCgkc2VhcmNoLCBgJHtkYXRhLnByZWZpeH06c3VibWl0YCwge1xuXHRcdFx0dmFsdWU6ICRjb250cm9sLnZhbHVlLFxuXHRcdFx0ZXZlbnRcblx0XHR9KTtcblx0fVxuXG5cdC8qIE9uIERPTU5vZGVJbnNlcnRlZFxuXHQvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblx0JHNlYXJjaC5hZGRFdmVudExpc3RlbmVyKCdET01Ob2RlSW5zZXJ0ZWQnLCBmdW5jdGlvbiBvbkRPTU5vZGVJbnNlcnRlZCgpIHtcblx0XHQvLyBJZiBTZWFyY2ggbm93IGhhcyBhIHBhcmVudCBub2RlXG5cdFx0aWYgKCRzZWFyY2gucGFyZW50Tm9kZSkge1xuXHRcdFx0Ly8gVW5iaW5kIHRoZSBET01Ob2RlSW5zZXJ0ZWQgbWV0aG9kXG5cdFx0XHQkc2VhcmNoLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ0RPTU5vZGVJbnNlcnRlZCcsIG9uRE9NTm9kZUluc2VydGVkKTtcblxuXHRcdFx0Ly8gVXBkYXRlIFNlYXJjaFxuXHRcdFx0JGRpc3BhdGNoKCRzZWFyY2gsIGAke2RhdGEucHJlZml4fTp1cGRhdGVgLCBkYXRhKTtcblx0XHR9XG5cdH0pO1xuXG5cdC8qIE9uIFVwZGF0ZVxuXHQvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblx0JHNlYXJjaC5hZGRFdmVudExpc3RlbmVyKGAke2RhdGEucHJlZml4fTp1cGRhdGVgLCAoKSA9PiB7XG5cdFx0LyogQmluZCBNZWRpYSBFdmVudFxuXHRcdC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXHRcdGNvbnN0IG1lZGlhID0gJHNlYXJjaC5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3Lm1hdGNoTWVkaWEoZGF0YS5tYXRjaE1lZGlhIHx8ICcobWF4LXdpZHRoOiA3MjBweCknKTtcblxuXHRcdG1lZGlhLmFkZExpc3RlbmVyKG9uaW5wdXQpO1xuXG5cdFx0LyogQmluZCBPdGhlciBFdmVudHNcblx0XHQvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXHRcdCRjb250cm9sLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0Jywgb25pbnB1dCk7XG5cblx0XHQkc2VhcmNoLmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2V0Jywgb25pbnB1dCk7XG5cdFx0JHNlYXJjaC5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBvbnN1Ym1pdCk7XG5cdFx0JHNlYXJjaC5hZGRFdmVudExpc3RlbmVyKGAke2RhdGEucHJlZml4fTp1bmxvYWRgLCBvbnVubG9hZCk7XG5cdH0pO1xuXG5cdHJldHVybiAkc2VhcmNoO1xufTtcbiIsIi8qIFRvb2xpbmdcbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbmltcG9ydCB7ICRhc3NpZ24gYXMgJCwgJGRpc3BhdGNoLCAkcmVwbGFjZUFsbCB9IGZyb20gJ2VzcmktZ2xvYmFsLXNoYXJlZCc7XG5cbmltcG9ydCBlc3JpU2VhcmNoIGZyb20gJ2VzcmktZ2xvYmFsLXNlYXJjaCc7XG5cbi8qIFNlYXJjaFxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuY29uc3QgcHJlZml4ID0gJ2VzcmktaGVhZGVyLXNlYXJjaCc7XG5cbmV4cG9ydCBkZWZhdWx0ICgpID0+IHtcblx0LyogU2VhcmNoOiBDb250cm9sXG5cdC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXHRjb25zdCAkY29udHJvbEltYWdlID0gJChcblx0XHRkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ3N2ZycpLFxuXHRcdHsgY2xhc3M6IGAke3ByZWZpeH0taW1hZ2VgLCBpZDogYCR7cHJlZml4fS1pbWFnZWAgfVxuXHQpO1xuXG5cdGNvbnN0ICRjb250cm9sID0gJCgnYnV0dG9uJyxcblx0XHR7XG5cdFx0XHRjbGFzczogYCR7cHJlZml4fS1jb250cm9sYCwgaWQ6IGAke3ByZWZpeH0tY29udHJvbGAsXG5cdFx0XHRhcmlhOiB7IGV4cGFuZGVkOiBmYWxzZSwgY29udHJvbHM6IGAke3ByZWZpeH0tY29udGVudGAgfVxuXHRcdH0sXG5cdFx0JGNvbnRyb2xJbWFnZVxuXHQpO1xuXG5cdCRjb250cm9sLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG5cdFx0JGRpc3BhdGNoKCRjb250cm9sLCAnaGVhZGVyOmNsaWNrOnNlYXJjaCcsIHsgZXZlbnQgfSk7XG5cblx0XHQkZGlzcGF0Y2goJGNvbnRyb2wsICdoZWFkZXI6bWVudTp0b2dnbGUnLCB7XG5cdFx0XHRjb250cm9sOiAkY29udHJvbCxcblx0XHRcdGNvbnRlbnQ6ICRjb250ZW50LFxuXHRcdFx0c3RhdGU6ICAgJ3NlYXJjaCcsXG5cdFx0XHR0YXJnZXQ6ICAkdGFyZ2V0LFxuXHRcdFx0dHlwZTogICAgJ3NlYXJjaC10b2dnbGUnLFxuXHRcdFx0ZXZlbnRcblx0XHR9KTtcblx0fSk7XG5cblx0LyogU2VhcmNoOiBDb250ZW50XG5cdC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXHRjb25zdCAkY29udGVudCA9ICQoJ2RpdicsIHtcblx0XHRjbGFzczogYCR7cHJlZml4fS1jb250ZW50YCwgaWQ6IGAke3ByZWZpeH0tY29udGVudGAsXG5cdFx0YXJpYTogeyBleHBhbmRlZDogZmFsc2UsIGxhYmVsbGVkYnk6IGAke3ByZWZpeH0tY29udHJvbGAgfVxuXHR9KTtcblxuXHQvKiBTZWFyY2g6IFRhcmdldFxuXHQvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblx0Y29uc3QgJHRhcmdldCA9ICQoJ2RpdicsIHsgY2xhc3M6IHByZWZpeCB9LFxuXHRcdCRjb250cm9sLCAkY29udGVudFxuXHQpO1xuXG5cdC8qIFNlYXJjaDogT24gVXBkYXRlXG5cdC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXHQkdGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoJ2hlYWRlcjp1cGRhdGU6c2VhcmNoJywgKHsgZGV0YWlsIH0pID0+IHtcblx0XHQkKCRjb250cm9sLCB7IGFyaWE6IHsgbGFiZWw6IGRldGFpbC5sYWJlbCB9IH0pO1xuXG5cdFx0aWYgKCdzdHJpbmcnID09PSB0eXBlb2YgZGV0YWlsLmltYWdlKSB7XG5cdFx0XHQkY29udHJvbEltYWdlLnJlbW92ZUF0dHJpYnV0ZSgndmlld0JveCcpO1xuXG5cdFx0XHQkcmVwbGFjZUFsbCgkY29udHJvbEltYWdlLFxuXHRcdFx0XHQkKCd1c2UnLCB7ICdocmVmJzogZGV0YWlsLmltYWdlIH0pXG5cdFx0XHQpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQkcmVwbGFjZUFsbCgkY29udHJvbEltYWdlLFxuXHRcdFx0XHQuLi5kZXRhaWwuaW1hZ2UubWFwKFxuXHRcdFx0XHRcdChkKSA9PiAkKFxuXHRcdFx0XHRcdFx0ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICdwYXRoJyksXG5cdFx0XHRcdFx0XHR7IGQgfVxuXHRcdFx0XHRcdClcblx0XHRcdFx0KVxuXHRcdFx0KTtcblx0XHR9XG5cblx0XHRpZiAoZGV0YWlsLmRpYWxvZykge1xuXHRcdFx0ZGV0YWlsLmRpYWxvZy5wcmVmaXggPSAnZXNyaS1oZWFkZXItc2VhcmNoLWRpYWxvZyc7XG5cblx0XHRcdGNvbnN0ICRkaWFsb2cgPSBlc3JpU2VhcmNoKGRldGFpbC5kaWFsb2cpO1xuXG5cdFx0XHRjb25zdCAkZGlhbG9nQ2FuY2VsQnV0dG9uID0gJCgnYnV0dG9uJywge1xuXHRcdFx0XHRjbGFzczogJ2VzcmktaGVhZGVyLXNlYXJjaC1kaWFsb2ctY2FuY2VsJyxcblx0XHRcdFx0dHlwZTogJ3Jlc2V0J1xuXHRcdFx0fSxcblx0XHRcdFx0JCgnc3BhbicsXG5cdFx0XHRcdFx0ZGV0YWlsLmRpYWxvZy5jYW5jZWxMYWJlbFxuXHRcdFx0XHQpXG5cdFx0XHQpO1xuXG5cdFx0XHQkZGlhbG9nQ2FuY2VsQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG5cdFx0XHRcdCRkaXNwYXRjaCgkY29udHJvbCwgJ2hlYWRlcjptZW51OmNsb3NlJywge1xuXHRcdFx0XHRcdGNvbnRyb2w6ICRjb250cm9sLFxuXHRcdFx0XHRcdGNvbnRlbnQ6ICRjb250ZW50LFxuXHRcdFx0XHRcdHN0YXRlOiAgICdzZWFyY2gnLFxuXHRcdFx0XHRcdHR5cGU6ICAgICdzZWFyY2gtY2xvc2UnLFxuXHRcdFx0XHRcdGV2ZW50XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSk7XG5cblx0XHRcdCQoJGRpYWxvZyxcblx0XHRcdFx0JGRpYWxvZ0NhbmNlbEJ1dHRvblxuXHRcdFx0KTtcblxuXHRcdFx0JHJlcGxhY2VBbGwoJGNvbnRlbnQsXG5cdFx0XHRcdCRkaWFsb2dcblx0XHRcdCk7XG5cblx0XHRcdCRjb250cm9sLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG5cdFx0XHRcdGlmICgndHJ1ZScgPT09ICRjb250cm9sLmdldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcpKSB7XG5cdFx0XHRcdFx0JGRpc3BhdGNoKCRkaWFsb2csIGAke2RldGFpbC5kaWFsb2cucHJlZml4fTpmb2N1c2AsIHsgZXZlbnQgfSk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH1cblx0fSk7XG5cblx0cmV0dXJuICR0YXJnZXQ7XG59O1xuIiwiaW1wb3J0IHsgJGFzc2lnbiBhcyAkLCAkZGlzcGF0Y2gsICRlbmFibGVGb2N1c1JpbmcsICRyZXBsYWNlQWxsIH0gZnJvbSAnZXNyaS1nbG9iYWwtc2hhcmVkJztcblxuaW1wb3J0IGNyZWF0ZUFjY291bnQgZnJvbSAnLi9oZWFkZXItYWNjb3VudCc7XG5pbXBvcnQgY3JlYXRlQnJhbmQgICBmcm9tICcuL2hlYWRlci1icmFuZCc7XG5pbXBvcnQgY3JlYXRlTWVudXMgICBmcm9tICcuL2hlYWRlci1tZW51cyc7XG5pbXBvcnQgY3JlYXRlU2VhcmNoICBmcm9tICcuL2hlYWRlci1zZWFyY2gnO1xuXG4vKiBIZWFkZXJcbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuZXhwb3J0IGRlZmF1bHQgKGRhdGEpID0+IHtcblx0bGV0IHZpZXdwb3J0SXNTbWFsbDtcblx0bGV0IHZpZXdwb3J0SXNTbWFsbE1lZGl1bTtcblxuXHQvKiBDYW52YXNcblx0LyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cdGNvbnN0ICRoZWFkZXJDYW52YXMgPSAkKCdidXR0b24nLCB7XG5cdFx0Y2xhc3M6ICdlc3JpLWhlYWRlci1jYW52YXMnLFxuXHRcdHRhYmluZGV4OiAnLTEnLFxuXHRcdGRhdGE6IHsgb3BlbjogZmFsc2UgfVxuXHR9KTtcblxuXHQkaGVhZGVyQ2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuXHRcdCRkaXNwYXRjaCgkaGVhZGVyQ2FudmFzLCAnaGVhZGVyOm1lbnU6Y2xvc2UnKTtcblx0fSk7XG5cblx0LyogRWxlbWVudHNcblx0LyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cdGNvbnN0ICRicmFuZCAgID0gY3JlYXRlQnJhbmQoKTtcblx0Y29uc3QgJGFjY291bnQgPSBjcmVhdGVBY2NvdW50KCk7XG5cdGNvbnN0ICRtZW51cyAgID0gY3JlYXRlTWVudXMoKTtcblx0Y29uc3QgJHNlYXJjaCAgPSBjcmVhdGVTZWFyY2goKTtcblxuXHRjb25zdCAkY2xpZW50ICA9ICQoJ2RpdicsIHsgY2xhc3M6ICdlc3JpLWhlYWRlci1jbGllbnQnIH0sXG5cdFx0JGFjY291bnRcblx0KTtcblxuXHRjb25zdCAkaGVhZGVyID0gJCgnZGl2JywgeyBjbGFzczogYGVzcmktaGVhZGVyIC0ke2RhdGEudGhlbWUgfHwgJ3dlYid9YCB9LFxuXHRcdCRoZWFkZXJDYW52YXMsXG5cdFx0JGJyYW5kLFxuXHRcdCRtZW51cyxcblx0XHQkc2VhcmNoLFxuXHRcdCRjbGllbnRcblx0KTtcblxuXHQkZW5hYmxlRm9jdXNSaW5nKCRoZWFkZXIpO1xuXG5cdC8qIE9uIEhlYWRlciBVcGRhdGVcblx0LyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cdCRoZWFkZXIuYWRkRXZlbnRMaXN0ZW5lcignaGVhZGVyOnVwZGF0ZScsICh7IGRldGFpbCB9KSA9PiB7XG5cdFx0aWYgKGRldGFpbC5icmFuZCkge1xuXHRcdFx0JGRpc3BhdGNoKCRicmFuZCwgJ2hlYWRlcjp1cGRhdGU6YnJhbmQnLCBkZXRhaWwuYnJhbmQpO1xuXHRcdH1cblxuXHRcdGlmIChkZXRhaWwubWVudXMpIHtcblx0XHRcdCRkaXNwYXRjaCgkbWVudXMsICdoZWFkZXI6dXBkYXRlOm1lbnVzJywgZGV0YWlsLm1lbnVzKTtcblx0XHR9XG5cblx0XHRpZiAoZGV0YWlsLnNlYXJjaCkge1xuXHRcdFx0JGRpc3BhdGNoKCRzZWFyY2gsICdoZWFkZXI6dXBkYXRlOnNlYXJjaCcsIGRldGFpbC5zZWFyY2gpO1xuXHRcdH1cblxuXHRcdGlmIChkZXRhaWwuYWNjb3VudCkge1xuXHRcdFx0JGRpc3BhdGNoKCRjbGllbnQubGFzdENoaWxkLCAnaGVhZGVyOnVwZGF0ZTphY2NvdW50JywgZGV0YWlsLmFjY291bnQpO1xuXHRcdH1cblxuXHRcdCRoZWFkZXIub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldy5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKHsga2V5Q29kZSB9KSA9PiB7XG5cdFx0XHRpZiAoMjcgPT09IGtleUNvZGUpIHtcblx0XHRcdFx0JGRpc3BhdGNoKCRoZWFkZXIsICdoZWFkZXI6bWVudTpjbG9zZScpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9KTtcblxuXHQvKiBPbiBIZWFkZXIgTWVudSBUb2dnbGVcblx0LyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cdCRoZWFkZXIuYWRkRXZlbnRMaXN0ZW5lcignaGVhZGVyOm1lbnU6dG9nZ2xlJywgKHsgZGV0YWlsIH0pID0+IHtcblx0XHRjb25zdCBzdWJtZW51U2hvdWxkT3BlbiA9ICd0cnVlJyAhPT0gZGV0YWlsLmNvbnRyb2wuZ2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJyk7XG5cdFx0Y29uc3QgZXZlbnRUeXBlID0gc3VibWVudVNob3VsZE9wZW4gPyAnaGVhZGVyOm1lbnU6b3BlbicgOiAnaGVhZGVyOm1lbnU6Y2xvc2UnO1xuXG5cdFx0JGRpc3BhdGNoKGRldGFpbC5jb250cm9sLCBldmVudFR5cGUsIGRldGFpbCk7XG5cdH0pO1xuXG5cdC8qIE9uIEhlYWRlciBNZW51IE9wZW5cblx0LyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cdGxldCBhY2NvdW50RGV0YWlsID0gbnVsbDtcblx0bGV0IHNlYXJjaERldGFpbCAgPSBudWxsO1xuXHRsZXQgbWVudXNEZXRhaWwgICA9IG51bGw7XG5cdGxldCBtZW51RGV0YWlsICAgPSBudWxsO1xuXG5cdCRoZWFkZXIuYWRkRXZlbnRMaXN0ZW5lcignaGVhZGVyOm1lbnU6b3BlbicsICh7IGRldGFpbCB9KSA9PiB7XG5cdFx0Y29uc3QgaXNNZW51VG9nZ2xlID0gJ21lbnUtdG9nZ2xlJyA9PT0gZGV0YWlsLnR5cGU7XG5cblx0XHQvLyBVcGRhdGUgQ29udHJvbCwgQ29udGVudFxuXHRcdCQoZGV0YWlsLmNvbnRyb2wsIHsgYXJpYTogeyBleHBhbmRlZDogdHJ1ZSB9IH0pO1xuXHRcdCQoZGV0YWlsLmNvbnRlbnQsIHsgYXJpYTogeyBleHBhbmRlZDogdHJ1ZSwgaGlkZGVuOiBmYWxzZSB9IH0pO1xuXG5cdFx0aWYgKG1lbnVEZXRhaWwgJiYgbWVudURldGFpbC5jb250cm9sICE9PSBkZXRhaWwuY29udHJvbCkge1xuXHRcdFx0JGRpc3BhdGNoKG1lbnVEZXRhaWwuY29udHJvbCwgJ2hlYWRlcjptZW51OmNsb3NlJywgbWVudURldGFpbCk7XG5cdFx0fVxuXG5cdFx0aWYgKCdtZW51LXRvZ2dsZScgPT09IGRldGFpbC50eXBlKSB7XG5cdFx0XHRtZW51RGV0YWlsID0gZGV0YWlsO1xuXHRcdH1cblxuXHRcdGlmICgkc2VhcmNoID09PSBkZXRhaWwudGFyZ2V0KSB7XG5cdFx0XHRzZWFyY2hEZXRhaWwgPSBkZXRhaWw7XG5cdFx0fSBlbHNlIGlmIChzZWFyY2hEZXRhaWwpIHtcblx0XHRcdCRkaXNwYXRjaCgkc2VhcmNoLCAnaGVhZGVyOm1lbnU6Y2xvc2UnLCBzZWFyY2hEZXRhaWwpO1xuXG5cdFx0XHRzZWFyY2hEZXRhaWwgPSBudWxsO1xuXHRcdH1cblxuXHRcdGlmICgkbWVudXMgPT09IGRldGFpbC50YXJnZXQpIHtcblx0XHRcdG1lbnVzRGV0YWlsID0gZGV0YWlsO1xuXHRcdH0gZWxzZSBpZiAobWVudXNEZXRhaWwgJiYgIWlzTWVudVRvZ2dsZSAmJiAhdmlld3BvcnRJc1NtYWxsLm1hdGNoZXMpIHtcblx0XHRcdCRkaXNwYXRjaCgkbWVudXMsICdoZWFkZXI6bWVudTpjbG9zZScsIG1lbnVzRGV0YWlsKTtcblxuXHRcdFx0bWVudXNEZXRhaWwgPSBudWxsO1xuXHRcdH1cblxuXHRcdGlmICgkYWNjb3VudCA9PT0gZGV0YWlsLnRhcmdldCkge1xuXHRcdFx0YWNjb3VudERldGFpbCA9IGRldGFpbDtcblx0XHR9IGVsc2UgaWYgKGFjY291bnREZXRhaWwpIHtcblx0XHRcdCRkaXNwYXRjaCgkYWNjb3VudCwgJ2hlYWRlcjptZW51OmNsb3NlJywgYWNjb3VudERldGFpbCk7XG5cblx0XHRcdGFjY291bnREZXRhaWwgPSBudWxsO1xuXHRcdH1cblxuXHRcdC8vIFVwZGF0ZSBDYW52YXNcblx0XHQkKCRoZWFkZXJDYW52YXMsIHsgZGF0YTogeyBvcGVuOiB0cnVlLCBzdGF0ZTogZGV0YWlsLnN0YXRlIH0gfSk7XG5cblx0XHQvLyBVcGRhdGUgRG9jdW1lbnQgUm9vdFxuXHRcdCQoJGhlYWRlci5vd25lckRvY3VtZW50LmRvY3VtZW50RWxlbWVudCwgeyBkYXRhOiB7ICdoZWFkZXItaXMtb3Blbic6IHRydWUgfSB9KTtcblx0fSk7XG5cblx0LyogT24gSGVhZGVyIE1lbnUgQ2xvc2Vcblx0LyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cdCRoZWFkZXIuYWRkRXZlbnRMaXN0ZW5lcignaGVhZGVyOm1lbnU6Y2xvc2UnLCAoeyBkZXRhaWwgfSkgPT4ge1xuXHRcdGNvbnN0IGN1cnJlbnREZXRhaWwgPSBkZXRhaWwgfHwgbWVudXNEZXRhaWwgfHwgc2VhcmNoRGV0YWlsIHx8IGFjY291bnREZXRhaWwgfHwgbWVudURldGFpbDtcblxuXHRcdGlmIChjdXJyZW50RGV0YWlsKSB7XG5cdFx0XHQvLyBDbG9zZSB0aGUgRGV0YWlsXG5cdFx0XHQkKGN1cnJlbnREZXRhaWwuY29udHJvbCwgeyBhcmlhOiB7IGV4cGFuZGVkOiBmYWxzZSB9IH0pO1xuXHRcdFx0JChjdXJyZW50RGV0YWlsLmNvbnRlbnQsIHsgYXJpYTogeyBleHBhbmRlZDogZmFsc2UsIGhpZGRlbjogdHJ1ZSB9IH0pO1xuXG5cdFx0XHRjb25zdCBjYW52YXNTaG91bGRDbG9zZSA9ICF2aWV3cG9ydElzU21hbGxNZWRpdW0ubWF0Y2hlcyB8fCAnbWVudS1jbG9zZScgIT09IGN1cnJlbnREZXRhaWwudHlwZSAmJiAnYWNjb3VudC1jbG9zZScgIT09IGN1cnJlbnREZXRhaWwudHlwZTtcblxuXHRcdFx0aWYgKHNlYXJjaERldGFpbCAmJiBzZWFyY2hEZXRhaWwuY29udHJvbCA9PT0gY3VycmVudERldGFpbC5jb250cm9sKSB7XG5cdFx0XHRcdCRkaXNwYXRjaChzZWFyY2hEZXRhaWwuY29udGVudC5sYXN0Q2hpbGQsICdyZXNldCcpO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoY2FudmFzU2hvdWxkQ2xvc2UpIHtcblx0XHRcdFx0Ly8gQ2xvc2UgdGhlIENhbnZhc1xuXHRcdFx0XHQkKCRoZWFkZXJDYW52YXMsIHsgZGF0YTogeyBvcGVuOiBmYWxzZSB9IH0pO1xuXG5cdFx0XHRcdC8vIFVwZGF0ZSBEb2N1bWVudCBSb290XG5cdFx0XHRcdCRoZWFkZXIub3duZXJEb2N1bWVudC5kb2N1bWVudEVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdkYXRhLWhlYWRlci1pcy1vcGVuJyk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9KTtcblxuXHQvKiBPbiBET01Ob2RlSW5zZXJ0ZWRcblx0LyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cdCRoZWFkZXIuYWRkRXZlbnRMaXN0ZW5lcignRE9NTm9kZUluc2VydGVkJywgZnVuY3Rpb24gb25sb2FkKCkge1xuXHRcdC8vIEdldCBEb2N1bWVudCBhbmQgV2luZG93XG5cdFx0Y29uc3QgJGhlYWRlckRvY3VtZW50ID0gJGhlYWRlci5vd25lckRvY3VtZW50O1xuXHRcdGNvbnN0ICRoZWFkZXJXaW5kb3cgICA9ICRoZWFkZXJEb2N1bWVudC5kZWZhdWx0VmlldztcblxuXHRcdGNvbnN0ICRzdHlsZSA9ICQoJ3N0eWxlJyk7XG5cblx0XHRsZXQgb3ZlcmZsb3dZO1xuXG5cdFx0aWYgKCRoZWFkZXIucGFyZW50Tm9kZSkge1xuXHRcdFx0Ly8gVW5iaW5kIE5vZGUgSW5zZXJ0ZWRcblx0XHRcdCRoZWFkZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcignRE9NTm9kZUluc2VydGVkJywgb25sb2FkKTtcblxuXHRcdFx0Ly8gVXBkYXRlIEhlYWRlclxuXHRcdFx0JGRpc3BhdGNoKCRoZWFkZXIsICdoZWFkZXI6dXBkYXRlJywgZGF0YSk7XG5cblx0XHRcdC8qIE9uIFJlc2l6ZVxuXHRcdFx0LyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXHRcdFx0JCgkaGVhZGVyRG9jdW1lbnQuaGVhZCxcblx0XHRcdFx0JHN0eWxlXG5cdFx0XHQpO1xuXG5cdFx0XHQkaGVhZGVyV2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ29yaWVudGF0aW9uY2hhbmdlJywgb25yZXNpemUpO1xuXHRcdFx0JGhlYWRlcldpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBvbnJlc2l6ZSk7XG5cblx0XHRcdG9ucmVzaXplKCk7XG5cblx0XHRcdC8qIE9uIE1hdGNoIE1lZGlhIENoYW5nZVxuXHRcdFx0LyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXHRcdFx0dmlld3BvcnRJc1NtYWxsICAgICAgID0gJGhlYWRlcldpbmRvdy5tYXRjaE1lZGlhKCcobWF4LXdpZHRoOiA3NjdweCknKTtcblx0XHRcdHZpZXdwb3J0SXNTbWFsbE1lZGl1bSA9ICRoZWFkZXJXaW5kb3cubWF0Y2hNZWRpYSgnKG1heC13aWR0aDogMTAyM3B4KScpO1xuXG5cdFx0XHR2aWV3cG9ydElzU21hbGwuYWRkTGlzdGVuZXIob25WaWV3cG9ydElzU21hbGxDaGFuZ2UpO1xuXHRcdFx0dmlld3BvcnRJc1NtYWxsTWVkaXVtLmFkZExpc3RlbmVyKG9uVmlld3BvcnRJc1NtYWxsTWVkaXVtQ2hhbmdlKTtcblxuXHRcdFx0b25WaWV3cG9ydElzU21hbGxDaGFuZ2UoKTtcblx0XHRcdG9uVmlld3BvcnRJc1NtYWxsTWVkaXVtQ2hhbmdlKCk7XG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gb25yZXNpemUoKSB7XG5cdFx0XHRjb25zdCB3aWR0aCAgPSAkaGVhZGVyRG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoO1xuXHRcdFx0Y29uc3QgaGVpZ2h0ID0gJGhlYWRlckRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQ7XG5cdFx0XHRjb25zdCBzY3JvbGxIZWlnaHQgPSAkaGVhZGVyRG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbEhlaWdodDtcblxuXHRcdFx0b3ZlcmZsb3dZID0gZ2V0Q29tcHV0ZWRTdHlsZSgkaGVhZGVyRG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KS5vdmVyZmxvd1kucmVwbGFjZSgndmlzaWJsZScsICgpID0+IHtcblx0XHRcdFx0cmV0dXJuIHNjcm9sbEhlaWdodCA+IGhlaWdodCA/ICdzY3JvbGwnIDogJ3Zpc2libGUnO1xuXHRcdFx0fSk7XG5cblx0XHRcdCRyZXBsYWNlQWxsKCRzdHlsZSxcblx0XHRcdFx0YDpyb290ey0tZXNyaS12dzoke3dpZHRofXB4Oy0tZXNyaS12aDoke2hlaWdodH1weH1bZGF0YS1oZWFkZXItaXMtb3Blbl17d2lkdGg6JHt3aWR0aH1weDtoZWlnaHQ6JHtoZWlnaHR9cHg7b3ZlcmZsb3cteToke292ZXJmbG93WX19YFxuXHRcdFx0KTtcblx0XHR9XG5cblx0XHRmdW5jdGlvbiBvblZpZXdwb3J0SXNTbWFsbENoYW5nZSgpIHtcblx0XHRcdGlmICh2aWV3cG9ydElzU21hbGwubWF0Y2hlcykge1xuXHRcdFx0XHQkZGlzcGF0Y2goJGhlYWRlciwgJ2hlYWRlcjpicmVha3BvaW50OnMnKTtcblxuXHRcdFx0XHQkbWVudXMubGFzdENoaWxkLmFwcGVuZENoaWxkKCRhY2NvdW50KTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdCRkaXNwYXRjaCgkaGVhZGVyLCAnaGVhZGVyOmJyZWFrcG9pbnQ6bm90OnMnKTtcblxuXHRcdFx0XHQkY2xpZW50LmFwcGVuZENoaWxkKCRhY2NvdW50KTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRmdW5jdGlvbiBvblZpZXdwb3J0SXNTbWFsbE1lZGl1bUNoYW5nZSgpIHtcblx0XHRcdGlmICh2aWV3cG9ydElzU21hbGxNZWRpdW0ubWF0Y2hlcykge1xuXHRcdFx0XHQkZGlzcGF0Y2goJGhlYWRlciwgJ2hlYWRlcjpicmVha3BvaW50OnNtJyk7XG5cblx0XHRcdFx0JCgkbWVudXMubGFzdENoaWxkLCB7IGFyaWE6IHsgaGlkZGVuOiAnZmFsc2UnID09PSAkbWVudXMubGFzdENoaWxkLmdldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcpIH0gfSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQkZGlzcGF0Y2goJGhlYWRlciwgJ2hlYWRlcjpicmVha3BvaW50Om5vdDpzbScpO1xuXG5cdFx0XHRcdCQoJG1lbnVzLmxhc3RDaGlsZCwgeyBhcmlhOiB7IGhpZGRlbjogZmFsc2UgfSB9KTtcblx0XHRcdH1cblx0XHR9XG5cdH0pO1xuXG5cdHJldHVybiAkaGVhZGVyO1xufTtcbiJdLCJuYW1lcyI6WyJfX2Fzc2lnblNvdXJjZSIsImVsZW1lbnQiLCJzb3VyY2UiLCJwcmVmaXgiLCJrZXkiLCJhZGRFdmVudExpc3RlbmVyIiwiT2JqZWN0Iiwic2V0QXR0cmlidXRlIiwiJGFzc2lnbiIsImlkIiwiTm9kZSIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsInNsaWNlIiwiY2FsbCIsImFyZ3VtZW50cyIsImZvckVhY2giLCJhcHBlbmRDaGlsZCIsImNyZWF0ZVRleHROb2RlIiwiJHJlcGxhY2VBbGwiLCJwYXJlbnROb2RlIiwibGFzdENoaWxkIiwicmVtb3ZlQ2hpbGQiLCJfX2FzRnJhZ21lbnQiLCJub2RlcyIsImZyYWdtZW50IiwiY3JlYXRlRG9jdW1lbnRGcmFnbWVudCIsIm5vZGUiLCIkZmV0Y2giLCJ1cmwiLCJjYWxsYmFjayIsInhociIsIlhNTEh0dHBSZXF1ZXN0IiwicmVhZHlTdGF0ZSIsInN0YXR1cyIsInJlc3BvbnNlVGV4dCIsIm9wZW4iLCJzZW5kIiwiJGRpc3BhdGNoIiwidGFyZ2V0IiwidHlwZSIsImRldGFpbCIsImV2ZW50IiwiY3JlYXRlRXZlbnQiLCJpbml0Q3VzdG9tRXZlbnQiLCJkaXNwYXRjaEV2ZW50IiwiJGVuYWJsZUZvY3VzUmluZyIsImtleWJvYXJkVGhyb3R0bGVUaW1lb3V0SUQiLCJhY3RpdmVFbGVtZW50cyIsImFjdGl2ZUVsZW1lbnQiLCJyZW1vdmVBdHRyaWJ1dGUiLCJFbGVtZW50IiwicHVzaCIsImNsZWFyVGltZW91dCIsInNldFRpbWVvdXQiLCJjcmVhdGVGcm9tVVJMIiwiY3JlYXRlIiwiSlNPTiIsInBhcnNlIiwiJHRhcmdldCIsIiQiLCJjbGFzcyIsIiRjb250cm9sU2lnbmluVGV4dCIsIiRjb250cm9sU2lnbmluIiwiJGNvbnRyb2xJbWFnZSIsIiRjb250cm9sTmFtZVRleHQiLCIkY29udHJvbE5hbWUiLCIkY29udHJvbElkVGV4dCIsIiRjb250cm9sSWQiLCIkY29udHJvbCIsImNvbnRyb2xzIiwiZXhwYW5kZWQiLCJoYXNwb3B1cCIsIiRjb250ZW50IiwiJGNvbnRlbnRUb2dnbGVUZXh0IiwiJGNvbnRlbnRUb2dnbGUiLCIkY29udGVudEltYWdlIiwicm9sZSIsIiRjb250ZW50SW5mb05hbWVUZXh0IiwiJGNvbnRlbnRJbmZvSWRUZXh0IiwiJGNvbnRlbnRJbmZvR3JvdXBUZXh0IiwiJGNvbnRlbnRJbmZvIiwiJGNvbnRlbnRNZW51IiwiYXJpYSIsImxhYmVsbGVkYnkiLCIkY29udGVudFNpZ25pblN3aXRjaFRleHQiLCIkY29udGVudFNpZ25pblN3aXRjaCIsIiRjb250ZW50U2lnbmluU2lnbm91dFRleHQiLCIkY29udGVudFNpZ25pblNpZ25vdXQiLCIkY29udGVudFNpZ25pbk1lbnUiLCJoaWRkZW4iLCJsYWJlbCIsIm5vZGVWYWx1ZSIsInNpZ25pbiIsInN3aXRjaCIsInNpZ25vdXQiLCJ1c2VyIiwibmFtZSIsInNyYyIsImltYWdlIiwiZ3JvdXAiLCJtZW51cyIsIm1hcCIsIml0ZW0iLCJocmVmIiwiJHRhcmdldEltYWdlIiwiY3JlYXRlRWxlbWVudE5TIiwidmlld0JveCIsIndpZHRoIiwiaGVpZ2h0IiwiZCIsIiR0b2dnbGUiLCJtZW51IiwidXVpZCIsInN1dWlkIiwiJHN1YmNvbnRyb2wiLCJkYXRhIiwiJGxpIiwiaGFzTWVudUl0ZW1zIiwibGVuZ3RoIiwiaGFzRmVhdHVyZWRJdGVtcyIsInRpbGVzIiwiJHN1YnRvZ2dsZSIsIiRzdWJjb250ZW50IiwiZmlsbGVkIiwiY2hpbGRpdGVtIiwiJHN1YmxpbmsiLCJuZXdDb250ZXh0IiwiaWNvbiIsIm9uaW5wdXQiLCJ2YWx1ZSIsIm5ld0NvbnRyb2xWYWx1ZSIsImNvbnRyb2xWYWx1ZSIsIiRzZWFyY2giLCJjb250cm9sSXNGaWxsZWQiLCIkbGFiZWwiLCIkc3VibWl0IiwiY3VycmVudFdpZHRoIiwiJG1lYXN1cmVUZXh0Iiwic2Nyb2xsV2lkdGgiLCJzdHlsZSIsIm9uc3VibWl0IiwicXVlcnlMYWJlbCIsImF1dG9jb21wbGV0ZSIsImF1dG9jb3JyZWN0Iiwic3BlbGxjaGVjayIsIiRtZWFzdXJlVGV4dE5vZGUiLCIkbWVhc3VyZSIsInN1Ym1pdExhYmVsIiwiYWN0aW9uIiwiZm9jdXMiLCJvbkRPTU5vZGVJbnNlcnRlZCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJvd25lckRvY3VtZW50IiwiZGVmYXVsdFZpZXciLCJtYXRjaE1lZGlhIiwiYWRkTGlzdGVuZXIiLCJvbnVubG9hZCIsImRpYWxvZyIsIiRkaWFsb2ciLCJlc3JpU2VhcmNoIiwiJGRpYWxvZ0NhbmNlbEJ1dHRvbiIsImNhbmNlbExhYmVsIiwiZ2V0QXR0cmlidXRlIiwidmlld3BvcnRJc1NtYWxsIiwidmlld3BvcnRJc1NtYWxsTWVkaXVtIiwiJGhlYWRlckNhbnZhcyIsIiRicmFuZCIsImNyZWF0ZUJyYW5kIiwiJGFjY291bnQiLCJjcmVhdGVBY2NvdW50IiwiJG1lbnVzIiwiY3JlYXRlTWVudXMiLCJjcmVhdGVTZWFyY2giLCIkY2xpZW50IiwiJGhlYWRlciIsInRoZW1lIiwiYnJhbmQiLCJzZWFyY2giLCJhY2NvdW50Iiwia2V5Q29kZSIsImV2ZW50VHlwZSIsImNvbnRyb2wiLCJhY2NvdW50RGV0YWlsIiwic2VhcmNoRGV0YWlsIiwibWVudXNEZXRhaWwiLCJtZW51RGV0YWlsIiwiaXNNZW51VG9nZ2xlIiwiY29udGVudCIsIm1hdGNoZXMiLCJzdGF0ZSIsImRvY3VtZW50RWxlbWVudCIsImhlYWRlci1pcy1vcGVuIiwiY3VycmVudERldGFpbCIsImNhbnZhc1Nob3VsZENsb3NlIiwib25sb2FkIiwib25yZXNpemUiLCIkaGVhZGVyRG9jdW1lbnQiLCJjbGllbnRXaWR0aCIsImNsaWVudEhlaWdodCIsInNjcm9sbEhlaWdodCIsImdldENvbXB1dGVkU3R5bGUiLCJvdmVyZmxvd1kiLCJyZXBsYWNlIiwiJHN0eWxlIiwib25WaWV3cG9ydElzU21hbGxDaGFuZ2UiLCJvblZpZXdwb3J0SXNTbWFsbE1lZGl1bUNoYW5nZSIsIiRoZWFkZXJXaW5kb3ciLCJoZWFkIl0sIm1hcHBpbmdzIjoidUNBR0EsU0FBU0EsRUFBZUMsRUFBU0MsRUFBUUMsT0FDbkMsSUFBSUMsS0FBT0YsRUFDWCxtQkFBc0JBLEVBQU9FLEtBRXhCQyxpQkFBaUJGLEVBQVNDLEVBQUtGLEVBQU9FLElBQ3BDRSxPQUFPSixFQUFPRSxNQUFVRixFQUFPRSxLQUUxQkgsRUFBU0MsRUFBT0UsR0FBU0QsRUFBU0MsU0FHekNHLGFBQWFKLEVBQVNDLEVBQUtGLEVBQU9FLElBUTdDLFNBQVNJLEVBQVFDLE9BTVZSLEVBQVVRLGFBQWNDLEtBQU9ELEVBQUtFLFNBQVNDLGNBQWNILFlBRTlESSxN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"}