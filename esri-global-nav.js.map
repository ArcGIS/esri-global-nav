{"version":3,"file":"esri-global-nav.js","sources":["node_modules/domose/domose.js","src/shared/js/shared.js","src/esri-global-nav.js","src/header/js/header-account.js","src/header/js/header-brand.js","src/header/js/header-menus.js","src/search/js/search.js","src/header/js/header-search.js","src/header/js/header-apps.js","src/header/js/header.js","src/footer/js/footer-brand.js","src/footer/js/language.js","src/footer/js/footer-language.js","src/footer/js/footer-menu.js","src/footer/js/footer-info.js","src/footer/js/footer-social.js","src/footer/js/footer.js"],"sourcesContent":["/* Speculative DOM Functionality\n/* ========================================================================== */\n\nfunction __assignSource(element, source, prefix) {\n\tfor (let key in source) {\n\t\tif ('function' === typeof source[key]) {\n\t\t\t// add functions as event listeners\n\t\t\telement.addEventListener(prefix + key, source[key]);\n\t\t} else if (Object(source[key]) === source[key]) {\n\t\t\t// assign objects as source\n\t\t\t__assignSource(element, source[key], `${prefix + key}-`);\n\t\t} else {\n\t\t\t// otherwise, set attributes\n\t\t\telement.setAttribute(prefix + key, source[key]);\n\t\t}\n\t}\n}\n\n/* Assign an element with attributes, events, and children\n/* ========================================================================== */\n\nfunction $assign(id) {\n\t// $assign(element, { class: 'btn', click: () => { /* listener */ } });\n\t// $assign('button', { aria: { label: 'title' } }, child);\n\t// $assign('div', child1, child2, 'a new text node');\n\t// $assign(document.createElementNS('http://www.w3.org/2000/svg', 'svg'));\n\n\tconst element = id instanceof Node ? id : document.createElement(id);\n\n\t[].slice.call(arguments, 1).forEach((source) => {\n\t\tif (source instanceof Node) {\n\t\t\t// append sources that are nodes\n\t\t\telement.appendChild(source);\n\t\t} else if ('string' === typeof source) {\n\t\t\t// append strings as text nodes\n\t\t\telement.appendChild(\n\t\t\t\tdocument.createTextNode(source)\n\t\t\t);\n\t\t} else {\n\t\t\t__assignSource(element, source, '');\n\t\t}\n\t});\n\n\treturn element;\n}\n\n/* Dispatch an event from an Element\n/* ========================================================================== */\n\nfunction $dispatchEvent(element, event) {\n\t// $dispatchEvent(element, new CustomEvent('foo', { bubbles: true }));\n\t// $dispatchEvent(element, 'foo', { bubbles: true });\n\n\treturn element.dispatchEvent(\n\t\tevent instanceof Event ? event : $CustomEvent(event, arguments[1])\n\t);\n}\n\n/* Replace all the children of a parent node with new children\n/* ========================================================================== */\n\nfunction $replaceAll(parentNode) {\n\t// $replaceAll(element);\n\t// $replaceAll(element, child1, child2);\n\n\twhile (parentNode.lastChild) {\n\t\tparentNode.removeChild(parentNode.lastChild);\n\t}\n\n\tparentNode.appendChild(\n\t\t__asFragment(arguments)\n\t);\n\n\treturn parentNode;\n}\n\n/* Wrap a child node within an element\n/* ========================================================================== */\n\nfunction $wrapWith(childNode, element) {\n\t// $wrapWith(element, wrappingElement);\n\n\tif (childNode.parentNode) {\n\t\tchildNode.parentNode.insertBefore(element, childNode).appendChild(childNode);\n\t}\n\n\treturn childNode;\n}\n\n/* Emerging DOM Functionality\n/* ========================================================================== */\n\nfunction __asFragment(nodes) {\n\tconst fragment = document.createDocumentFragment();\n\n\t[].slice.call(nodes, 1).forEach((node) => {\n\t\tif (node instanceof Node) {\n\t\t\tfragment.appendChild(node);\n\t\t} else {\n\t\t\tfragment.appendChild(\n\t\t\t\tdocument.createTextNode(node)\n\t\t\t);\n\t\t}\n\t});\n\n\treturn fragment;\n}\n\n/* Insert nodes after a child node\n/* ========================================================================== */\n\nfunction $after(childNode) {\n\t// $after(element, sibling1, sibling2, 'a new text node');\n\n\tif (childNode.parentNode) {\n\t\tchildNode.parentNode.insertBefore(\n\t\t\t__asFragment(arguments),\n\t\t\tchildNode.nextSibling\n\t\t);\n\t}\n\n\treturn childNode;\n}\n\n/* Appends nodes to a parent node\n/* ========================================================================== */\n\nfunction $append(parentNode) {\n\t// $append(parentNode, child1, child2, 'a new text node');\n\n\tparentNode.append(\n\t\t__asFragment(arguments)\n\t);\n\n\treturn parentNode;\n}\n\n/* Insert nodes before an element\n/* ========================================================================== */\n\nfunction $before(element) {\n\t// $before(element, sibling1, sibling2, 'a new text node');\n\n\tif (element.parentNode) {\n\t\telement.parentNode.insertBefore(\n\t\t\t__asFragment(arguments),\n\t\t\telement\n\t\t);\n\t}\n\n\treturn element;\n}\n\n/* Return the closest ancestor element matching a given selector\n/* ========================================================================== */\n\nfunction $closest(element, selectors) {\n\t// $closest(element, selectors);\n\n\tlet target = element;\n\n\twhile (target && 1 === target.nodeType) {\n\t\tif ($matches(target, selectors)) {\n\t\t\treturn target;\n\t\t}\n\n\t\ttarget = target.parentNode;\n\t}\n\n\treturn null;\n}\n\n/* Return whether or not a DOM element matches a given selector\n/* ========================================================================== */\n\nfunction $matches(element, selectors) {\n\t// $matches(element, selectors);\n\n\tconst elements = element.parentNode.querySelectorAll(selectors);\n\n\tlet index = 0;\n\n\twhile (elements[index] && elements[index] !== element) {\n\t\t++index;\n\t}\n\n\treturn Boolean(elements[index]);\n}\n\n/* Prepends a child to a parent node\n/* ========================================================================== */\n\nfunction $prepend(parentNode) {\n\t// $prepend(element, child1, child2, 'a new text node');\n\n\tparentNode.insertBefore(\n\t\t__asFragment(arguments),\n\t\tparentNode.firstChild\n\t);\n\n\treturn parentNode;\n}\n\n/* Remove a child node from its parent\n/* ========================================================================== */\n\nfunction $remove(childNode) {\n\t// $remove(element);\n\n\tif (childNode.parentNode) {\n\t\tchildNode.parentNode.removeChild(childNode);\n\t}\n\n\treturn childNode;\n}\n\n/* Replace a child node with nodes\n/* ========================================================================== */\n\nfunction $replaceWith(childNode) {\n\t// $replaceWith(element, sibling1, sibling2, 'a new text node');\n\n\tif (childNode.parentNode) {\n\t\tchildNode.parentNode.replaceChild(\n\t\t\t__asFragment(arguments),\n\t\t\tchildNode\n\t\t);\n\t}\n\n\treturn childNode;\n}\n\n/* Emerging Event Functionality\n/* ========================================================================== */\n\n/* Create a new CustomEvent\n/* ========================================================================== */\n\nfunction $CustomEvent(type) {\n\t// element.dispatchEvent(new $CustomEvent('click', { bubbles: true }));\n\n\tconst event = document.createEvent('CustomEvent');\n\tconst param = Object(arguments[1]) || { bubbles: false, cancelable: false, detail: undefined };\n\n\tevent.initCustomEvent(type, param.bubbles, param.cancelable, param.detail);\n\n\treturn event;\n}\n\n/* Fetch response text from a URL and pass it to a callback\n/* ========================================================================== */\n\nfunction $fetch(url, callback) {\n\t// $fetch('api?foo=bar', (responseText) => {});\n\n\tconst xhr = new XMLHttpRequest();\n\n\txhr.addEventListener('readystatechange', () => {\n\t\tif (4 === xhr.readyState && 200 === xhr.status) {\n\t\t\tcallback(xhr.responseText); // eslint-disable-line callback-return\n\t\t}\n\t});\n\n\txhr.open('GET', url);\n\txhr.send();\n\n\treturn xhr;\n}\n\n/* Export\n/* ========================================================================== */\n\nexport {\n\t$assign,\n\t$after,\n\t$append,\n\t$before,\n\t$closest,\n\t$CustomEvent,\n\t$dispatchEvent,\n\t$fetch,\n\t$matches,\n\t$prepend,\n\t$remove,\n\t$replaceAll,\n\t$replaceWith,\n\t$wrapWith\n};\n","import {$assign, $replaceAll} from 'domose';\n\n/* Dispatch an Custom Event with a detail\n/* ========================================================================== */\n\nfunction $dispatch(target, type, detail) {\n\t// an event\n\tconst event = document.createEvent('CustomEvent');\n\n\tevent.initCustomEvent(type, true, true, detail);\n\n\ttarget.dispatchEvent(event);\n}\n\nfunction $enableFocusRing(target) {\n\t// retooled from https://github.com/jonathantneal/js-focus-ring\n\n\tlet keyboardThrottleTimeoutID;\n\n\tconst activeElements = [];\n\n\ttarget.addEventListener('blur', () => {\n\t\tactiveElements.forEach((activeElement) => {\n\t\t\tactiveElement.removeAttribute('js-focus');\n\t\t\tactiveElement.removeAttribute('js-focus-ring');\n\t\t});\n\t}, true);\n\n\ttarget.addEventListener('focus', () => {\n\t\tconst activeElement = document.activeElement;\n\n\t\tif (activeElement instanceof Element) {\n\t\t\tactiveElement.setAttribute('js-focus', '');\n\n\t\t\tif (keyboardThrottleTimeoutID) {\n\t\t\t\tactiveElement.setAttribute('js-focus-ring', '');\n\t\t\t}\n\n\t\t\tactiveElements.push(activeElement);\n\t\t}\n\t}, true);\n\n\ttarget.addEventListener('keydown', () => {\n\t\tkeyboardThrottleTimeoutID = clearTimeout(keyboardThrottleTimeoutID) || setTimeout(() => {\n\t\t\tkeyboardThrottleTimeoutID = 0;\n\t\t}, 100);\n\t}, true);\n}\n\nfunction $fetch(url, callback, onError = () => {\n}) {\n\tconst xhr = new XMLHttpRequest();\n\n\txhr.addEventListener('readystatechange', () => {\n\t\tif (4 === xhr.readyState) {\n\t\t\tif (200 === xhr.status) {\n\t\t\t\tcallback(xhr.responseText); // eslint-disable-line callback-return\n\t\t\t} else {\n\t\t\t\tonError();\n\t\t\t}\n\t\t}\n\t});\n\n\txhr.open('GET', url);\n\txhr.send();\n\n\treturn xhr;\n}\n\nfunction $renderSvgOrImg({imgDef = \"\", imgClass = \"\", imgWidth, imgHeight, viewBox, id, $targetElm}) {\n\tconst $imgWrapper = $assign('span');\n\n\tconst svgProps = {class: imgClass, role: 'presentation'};\n\tif (imgWidth && imgHeight) {\n\t\tsvgProps.width = imgWidth;\n\t\tsvgProps.height = imgHeight;\n\t}\n\tif (viewBox) {\n\t\tsvgProps.viewBox = viewBox;\n\t}\n\tif (id) {\n\t\tsvgProps.id = id;\n\t}\n\n\tif (typeof imgDef === 'string') {\n\t\tif (imgDef.indexOf('.svg') === imgDef.length - 4) {\n\t\t\t$fetch(imgDef, (svgContents) => {\n\t\t\t\tconst $img = $assign(\n\t\t\t\t\tdocument.createElementNS('http://www.w3.org/2000/svg', 'svg'),\n\t\t\t\t\tsvgProps\n\t\t\t\t);\n\t\t\t\t$img.innerHTML = svgContents;\n\t\t\t\t$imgWrapper.append($img);\n\t\t\t}, () => {\n\t\t\t\trenderImgTag({$imgWrapper, id, imgDef, imgClass, imgWidth, imgHeight});\n\t\t\t});\n\t\t} else {\n\t\t\trenderImgTag({$imgWrapper, id, imgDef, imgClass, imgWidth, imgHeight});\n\t\t}\n\t} else {\n\t\tconst $img = $assign(document.createElementNS('http://www.w3.org/2000/svg', 'svg'),\n\t\t\tsvgProps,\n\t\t\t$assign(document.createDocumentFragment(),\n\t\t\t\t...imgDef.map(\n\t\t\t\t\t(d) => $assign(\n\t\t\t\t\t\tdocument.createElementNS('http://www.w3.org/2000/svg', 'path'),\n\t\t\t\t\t\t{d}\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t));\n\t\t$imgWrapper.append($img);\n\t}\n\n\tif ($targetElm) {\n\t\t$targetElm.innerHTML = '';\n\t\t$targetElm.appendChild($imgWrapper);\n\t}\n\n\treturn $imgWrapper;\n\n\tfunction renderImgTag({$imgWrapper, id, imgDef, imgClass, imgWidth, imgHeight}) {\n\t\t$imgWrapper.append($assign('img', {\n\t\t\tid,\n\t\t\tsrc: imgDef,\n\t\t\tclass: imgClass,\n\t\t\tstyle:  `${imgWidth ? `width:${imgWidth}px` : ''}; ${imgHeight ? `height:${imgHeight}px` : ''}`\n\t\t}));\n\t}\n}\n\nexport {\n\t$assign,\n\t$dispatch,\n\t$enableFocusRing,\n\t$fetch,\n\t$replaceAll,\n\t$renderSvgOrImg\n};\n","import createHeader from './header/js/header';\nimport createFooter from './footer/js/footer';\n\nwindow.esriHeader = {create: createHeader};\nwindow.esriFooter = {create: createFooter};\n\nfunction buildHeader({targetElm, menuData}) {\n\tconst $esriHeader = createHeader(menuData.header);\n\tconst $headerBarrier = document.querySelector(targetElm);\n\t$headerBarrier.appendChild($esriHeader);\n}\n\nfunction buildFooter({targetElm, menuData}) {\n\tconst $esriFooter = createFooter(menuData.footer);\n\tconst $footerBarrier = document.querySelector(targetElm);\n\t$footerBarrier.appendChild($esriFooter);\n}\n\nexport default {\n\tcreateHeader: buildHeader,\n\tcreateFooter: buildFooter,\n\tcreate: ({headerElm, footerElm, menuData}) => {\n\t\tbuildHeader({menuData, targetElm : headerElm});\n\t\tbuildFooter({menuData, targetElm : footerElm});\n\t}\n};\n","import {$assign as $, $dispatch, $replaceAll, $renderSvgOrImg} from '../../shared/js/shared';\n\nconst prefix = 'esri-header-account';\n\nexport default () => {\n\tconst $target = $('div', {class: prefix});\n\n\t/* Account: Control: Signin\n\t/* ====================================================================== */\n\n\tconst $controlSigninText = document.createTextNode('');\n\tconst $controlSignin = $('button', {class: `${prefix}-control ${prefix}-control--signin`},\n\t\t$controlSigninText\n\t);\n\n\t// On Click\n\t$controlSignin.addEventListener('click', (event) => {\n\t\t$dispatch($controlSignin, 'header:click:signin', {event});\n\t});\n\n\t/* Account: Control\n\t/* ====================================================================== */\n\n\tconst $controlImage = $('span');\n\n\tconst $controlNameText = document.createTextNode('');\n\tconst $controlName = $('span', {class: `${prefix}-name`},\n\t\t$controlNameText\n\t);\n\n\tconst $controlIdText = document.createTextNode('');\n\tconst $controlId = $('span', {class: `${prefix}-id`},\n\t\t$controlIdText\n\t);\n\n\tconst $control = $('button',\n\t\t{\n\t\t\tclass: `${prefix}-control ${prefix}-control--signedin`, id: `${prefix}-control`,\n\t\t\taria: {controls: `${prefix}-menu`, expanded: false, haspopup: true}\n\t\t},\n\t\t$controlImage,\n\t\t$controlName,\n\t\t$controlId\n\t);\n\n\t// On Click\n\t$control.addEventListener('click', (event) => {\n\t\t$dispatch($control, 'header:click:account', {event});\n\n\t\t$dispatch($control, 'header:menu:toggle', {\n\t\t\taccount: true,\n\t\t\tcontrol: $control,\n\t\t\tcontent: $content,\n\t\t\tstate: 'menu',\n\t\t\ttarget: $target,\n\t\t\ttype: 'account-toggle'\n\t\t});\n\t});\n\n\t/* Account: Content\n\t/* ====================================================================== */\n\n\t// Toggle\n\tconst $contentToggleText = document.createTextNode('');\n\tconst $contentToggle = $('button', {class: `${prefix}-content-toggle`},\n\t\t$contentToggleText\n\t);\n\n\t$contentToggle.addEventListener('click', () => {\n\t\t$dispatch($contentToggle, 'header:menu:close', {\n\t\t\tcontrol: $control,\n\t\t\tcontent: $content,\n\t\t\ttype: 'account-close'\n\t\t});\n\t});\n\n\t// Image\n\tconst $contentImage = $('span');\n\n\t// Info\n\tconst $contentInfoNameText = document.createTextNode('');\n\tconst $contentInfoIdText = document.createTextNode('');\n\tconst $contentInfoGroupText = document.createTextNode('');\n\tconst $contentInfo = $('div', {class: `${prefix}-content-info`},\n\t\t$contentImage,\n\t\t$('span', {class: `${prefix}-content-name`},\n\t\t\t$contentInfoNameText\n\t\t),\n\t\t$('span', {class: `${prefix}-content-id`},\n\t\t\t$contentInfoIdText\n\t\t),\n\t\t$('span', {class: `${prefix}-content-group`},\n\t\t\t$contentInfoGroupText\n\t\t)\n\t);\n\n\t// Menu\n\tconst $contentMenu = $('ul', {\n\t\tclass: `${prefix}-content-menu`,\n\t\trole: 'navigation', aria: {labelledby: `${prefix}-control`}\n\t});\n\n\t// Switch Control\n\tconst $contentSigninSwitchText = document.createTextNode('');\n\tconst $contentSigninSwitch = $('button', {class: `${prefix}-signin-control -switch`},\n\t\t$contentSigninSwitchText\n\t);\n\n\t// Switch Control: On Click\n\t$contentSigninSwitch.addEventListener('click', (event) => {\n\t\t$dispatch($contentSigninSwitch, 'header:click:switch', {event});\n\t});\n\n\t// Signout Control\n\tconst $contentSigninSignoutText = document.createTextNode('');\n\tconst $contentSigninSignout = $('button', {class: `${prefix}-signin-control -logout`},\n\t\t$contentSigninSignoutText\n\t);\n\n\t// Signout Control: On Click\n\t$contentSigninSignout.addEventListener('click', (event) => {\n\t\t$dispatch($contentSigninSignout, 'header:click:signout', {event});\n\t});\n\n\t// Signin Menu\n\tconst $contentSigninMenu = $('ul',\n\t\t{\n\t\t\tclass: `${prefix}-signin-menu`,\n\t\t\trole: 'group'\n\t\t},\n\t\t$('li', {class: `${prefix}-signin-item`},\n\t\t\t$contentSigninSwitch\n\t\t),\n\t\t$('li', {class: `${prefix}-signin-item`},\n\t\t\t$contentSigninSignout\n\t\t)\n\t);\n\n\t// Content\n\tconst $content = $('div',\n\t\t{\n\t\t\tclass: `${prefix}-menu`, id: `${prefix}-menu`,\n\t\t\trole: 'group', aria: {expanded: false, hidden: true}\n\t\t},\n\t\t$contentToggle,\n\t\t$contentInfo,\n\t\t$contentMenu,\n\t\t$contentSigninMenu\n\t);\n\n\t/* Account: On Update\n\t/* ====================================================================== */\n\n\t$target.addEventListener('header:update:account', ({detail}) => {\n\t\t$($control, {aria: {label: detail.label}});\n\n\t\t// Update the control text\n\t\t$contentToggleText.nodeValue = detail.label;\n\t\t$controlSigninText.nodeValue = detail.controls.signin;\n\t\t$contentSigninSwitchText.nodeValue = detail.controls.switch;\n\t\t$contentSigninSignoutText.nodeValue = detail.controls.signout;\n\n\t\t// If there is a user object\n\t\tif (detail.user) {\n\t\t\t// Update the account text + image\n\t\t\t$controlNameText.nodeValue = $contentInfoNameText.nodeValue = detail.user.name;\n\t\t\t$controlIdText.nodeValue = $contentInfoIdText.nodeValue = detail.user.id;\n\t\t\t$contentInfoGroupText.nodeValue = detail.user.group;\n\n\t\t\t$renderSvgOrImg({imgDef: detail.user.image, imgClass: `${prefix}-image`, $targetElm: $controlImage});\n\t\t\t$renderSvgOrImg({imgDef: detail.user.image, imgClass: `${prefix}-content-image`, $targetElm: $contentImage});\n\n\t\t\t// Update the content menu\n\t\t\t$replaceAll($contentMenu,\n\t\t\t\t...detail.menus.map(\n\t\t\t\t\t(item) => $('li', {class: `${prefix}-content-item`},\n\t\t\t\t\t\t$('a', {class: `${prefix}-content-link`, href: item.href},\n\t\t\t\t\t\t\titem.label\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t);\n\n\t\t\t// Use the control and content\n\t\t\t$replaceAll($target, $control, $content);\n\t\t} else {\n\t\t\t// Otherwise, use the signin control\n\t\t\t$replaceAll($target, $controlSignin);\n\t\t}\n\t});\n\n\treturn $target;\n};\n","import {$assign as $, $dispatch, $replaceAll, $renderSvgOrImg} from '../../shared/js/shared';\n\nconst prefix = 'esri-header-brand';\n\nexport default () => {\n\tconst $target = $('a', {class: prefix, id: prefix});\n\n\t// On Click\n\t$target.addEventListener('click', (event) => {\n\t\t$dispatch($target, 'header:click:brand', {event});\n\t});\n\n\t/* Brand: On Update\n\t/* ====================================================================== */\n\t$target.addEventListener('header:update:brand', ({detail}) => {\n\t\t$($target, {href: detail.href, aria: {label: detail.label}});\n\t\t$renderSvgOrImg({imgDef: detail.image, imgClass: `${prefix}-image`, imgWidth: detail.width, imgHeight:detail.height, $targetElm:$target});\n\t});\n\n\treturn $target;\n};\n","import {$assign as $, $dispatch, $replaceAll, $renderSvgOrImg} from '../../shared/js/shared';\n\nconst prefix = 'esri-header-menus';\n\nexport default () => {\n\t/* Toggle Menu\n\t/* ====================================================================== */\n\n\tconst $toggle = $('button', {\n\t\tclass: `${prefix}-toggle`, id: `${prefix}-toggle`,\n\t\taria: {controls: `${prefix}-content`, expanded: false, haspopup: true, labelledby: 'esri-header-brand'}\n\t});\n\n\t$toggle.addEventListener('click', (event) => {\n\t\t$dispatch($toggle, 'header:menu:toggle', {\n\t\t\tcontrol: $toggle,\n\t\t\tcontent: $content,\n\t\t\troot: true,\n\t\t\tstate: 'menu',\n\t\t\ttarget: $target,\n\t\t\ttype: 'root-toggle',\n\t\t\tevent\n\t\t});\n\t});\n\n\t/* Menus: Content\n\t/* ====================================================================== */\n\n\tconst $content = $('div', {\n\t\tclass: `${prefix}-content`,\n\t\taria: {hidden: true, expanded: false}\n\t});\n\n\t/* Menus\n\t/* ====================================================================== */\n\n\tconst $target = $('div', {class: prefix, id: prefix},\n\t\t$toggle, $content\n\t);\n\n\t/* Menus: On Update\n\t/* ====================================================================== */\n\n\t$target.addEventListener('header:update:menus', ({detail}) => {\n\t\t$replaceAll(\n\t\t\t$content,\n\t\t\t...detail.map(\n\t\t\t\t(menu, uuid) => $('div',\n\t\t\t\t\t{\n\t\t\t\t\t\tclass: `${prefix}-menu`,\n\t\t\t\t\t\trole: 'group'\n\t\t\t\t\t},\n\t\t\t\t\t$('ul',\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tclass: `${prefix}-list`,\n\t\t\t\t\t\t\trole: 'navigation', aria: {labelledby: 'esri-header-brand'}\n\t\t\t\t\t\t},\n\t\t\t\t\t\t...menu.map((item, suuid) => {\n\t\t\t\t\t\t\t/* Global Navigation: Menus: Link\n\t\t\t\t\t\t\t/* ====================================================== */\n\n\t\t\t\t\t\t\tconst $subcontrol = $('a',\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tclass: `${prefix}-link`, id: `${prefix}-link-${uuid}-${suuid}`,\n\t\t\t\t\t\t\t\t\thref: item.href || 'javascript:;' // eslint-disable-line no-script-url\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\titem.label\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\tif (item.data) {\n\t\t\t\t\t\t\t\t$subcontrol({\n\t\t\t\t\t\t\t\t\tdata: item.data\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tconst $li = $('li', {class: `${prefix}-item`}, $subcontrol);\n\n\t\t\t\t\t\t\tconst hasMenuItems = item.menus && item.menus.length;\n\t\t\t\t\t\t\tconst hasFeaturedItems = item.tiles && item.tiles.length;\n\n\t\t\t\t\t\t\tif (hasMenuItems || hasFeaturedItems) {\n\t\t\t\t\t\t\t\t/* Global Navigation: Submenu\n\t\t\t\t\t\t\t\t/* ====================================== */\n\n\t\t\t\t\t\t\t\tconst $subtoggle = $('button', {class: `${prefix}-submenu-toggle`},\n\t\t\t\t\t\t\t\t\titem.label\n\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\tconst $subcontent = $('div',\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tclass: `${prefix}-submenu`, id: `${prefix}-submenu-${uuid}-${suuid}`,\n\t\t\t\t\t\t\t\t\t\trole: 'group', aria: {hidden: true, expanded: false},\n\t\t\t\t\t\t\t\t\t\tdata: {filled: item.menus.length > 10 ? item.menus.slice(0, 18).length : ''}\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t$subtoggle\n\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\tif (hasMenuItems) {\n\t\t\t\t\t\t\t\t\t$($subcontent,\n\t\t\t\t\t\t\t\t\t\t$('ul',\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\tclass: `${prefix}-sublist`,\n\t\t\t\t\t\t\t\t\t\t\t\trole: 'navigation', aria: {labelledby: `${prefix}-link-${uuid}-${suuid}`}\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t/* Global Navigation: Menus: Sublink\n\t\t\t\t\t\t\t\t\t\t\t/* ============================== */\n\t\t\t\t\t\t\t\t\t\t\t...item.menus.slice(0, 18).map(\n\t\t\t\t\t\t\t\t\t\t\t\t(childitem) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tconst $sublink = $('a',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass: `${prefix}-sublink`,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thref: childitem.href\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tchilditem.label\n\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (childitem.data) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t$($sublink, {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata: childitem.data\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (childitem.newContext) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t$($sublink, {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttarget: '_blank',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trel: 'noopener'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn $('li', {class: `${prefix}-subitem`},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t$sublink\n\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif (hasFeaturedItems) {\n\t\t\t\t\t\t\t\t\t// ...\n\t\t\t\t\t\t\t\t\t$($subcontent,\n\t\t\t\t\t\t\t\t\t\t$('ul',\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\tclass: `${prefix}-sublist--featured`,\n\t\t\t\t\t\t\t\t\t\t\t\trole: 'navigation', aria: {labelledby: `${prefix}-link-${uuid}-${suuid}`},\n\t\t\t\t\t\t\t\t\t\t\t\tdata: {filled: `${item.tiles.slice(0, 4).length}`}\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t/* Global Navigation: Menus: Sublink\n\t\t\t\t\t\t\t\t\t\t\t/* ============================== */\n\n\t\t\t\t\t\t\t\t\t\t\t...item.tiles.slice(0, 4).map(\n\t\t\t\t\t\t\t\t\t\t\t\t(childitem) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tconst $sublink = $('a',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass: `${prefix}-sublink--featured`,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thref: childitem.href\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t$renderSvgOrImg({imgDef: childitem.icon, imgClass: `${prefix}-sublink-image`, imgWidth: childitem.width, imgHeight:childitem.height}),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t$('span', {class: `${prefix}-sublink-text`},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tchilditem.label\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (childitem.data) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t$($sublink, {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata: childitem.data\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (childitem.newContext) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t$($sublink, {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttarget: '_blank',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trel: 'noopener'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn $('li', {class: `${prefix}-subitem--featured`},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t$sublink\n\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t$($li,\n\t\t\t\t\t\t\t\t\t$subcontent\n\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\t$subcontrol.addEventListener('click', () => {\n\t\t\t\t\t\t\t\t\t$dispatch($subcontrol, 'header:menu:toggle', {\n\t\t\t\t\t\t\t\t\t\tcontrol: $subcontrol,\n\t\t\t\t\t\t\t\t\t\tcontent: $subcontent,\n\t\t\t\t\t\t\t\t\t\tsubmenu: true,\n\t\t\t\t\t\t\t\t\t\tstate: 'menu',\n\t\t\t\t\t\t\t\t\t\ttype: 'menu-toggle'\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\t$subtoggle.addEventListener('click', () => {\n\t\t\t\t\t\t\t\t\t$dispatch($subtoggle, 'header:menu:close', {\n\t\t\t\t\t\t\t\t\t\tcontrol: $subcontrol,\n\t\t\t\t\t\t\t\t\t\tsubmenu: true,\n\t\t\t\t\t\t\t\t\t\tcontent: $subcontent,\n\t\t\t\t\t\t\t\t\t\ttype: 'menu-close'\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\treturn $li;\n\t\t\t\t\t\t})\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t)\n\t\t);\n\t});\n\n\treturn $target;\n};\n","import {$assign as $, $dispatch} from '../../shared/js/shared';\n\n/* Search\n/* ========================================================================== */\n\nexport default (data) => {\n\t/* Elements\n\t/* ====================================================================== */\n\n\tconst $label = $('label', {\n\t\tclass: `${data.prefix}-label`,\n\t\tfor: `${data.prefix}-query-control`\n\t}, data.queryLabel);\n\n\tconst $control = $('input', {\n\t\tclass: `${data.prefix}-control`, id: `${data.prefix}-control`,\n\t\ttype: 'search', name: 'q',\n\t\tautocapitalize: 'off', autocomplete: 'off', autocorrect: 'off', spellcheck: 'false'\n\t});\n\n\tconst $measureTextNode = document.createTextNode('');\n\n\tconst $measureText = $('div', {\n\t\tclass: `${data.prefix}-measure-text`,\n\t\taria: {hidden: true}\n\t}, $measureTextNode);\n\n\tconst $measure = $('div', {class: `${data.prefix}-measure`}, $measureText);\n\n\tconst $submit = $('button', {\n\t\tclass: `${data.prefix}-submit`, type: 'submit',\n\t\taria: {label: data.submitLabel}\n\t});\n\n\tconst $search = $('form', {\n\t\tclass: `${data.prefix}-form`, action: data.action,\n\t\trole: 'search', aria: {label: data.label}\n\t}, $label, $control, $measure, $submit);\n\n\t/* Focus Event\n\t/* ====================================================================== */\n\n\t$search.addEventListener(`${data.prefix}:focus`, () => {\n\t\t$control.focus();\n\t});\n\n\t/* On Input\n\t/* ====================================================================== */\n\n\tlet controlIsFilled = false;\n\tlet controlValue = '';\n\n\tfunction oninput(event) {\n\t\t/* Conditionally Reset Control Value\n\t\t/* ================================================================== */\n\n\t\tif (event && 'reset' === event.type) {\n\t\t\t$control.value = '';\n\t\t}\n\n\t\t/* Update New Control Value\n\t\t/* ================================================================== */\n\n\t\tconst newControlValue = $control.value;\n\n\t\tif (newControlValue !== controlValue) {\n\t\t\tcontrolValue = newControlValue;\n\n\t\t\t$dispatch($search, `${data.prefix}:input`, {\n\t\t\t\tvalue: controlValue,\n\t\t\t\tevent\n\t\t\t});\n\t\t}\n\n\t\t/* Update Label and Submit UI\n\t\t/* ================================================================== */\n\n\t\tif (controlIsFilled && !newControlValue) {\n\t\t\tcontrolIsFilled = false;\n\n\t\t\t$label.removeAttribute('data-filled');\n\t\t\t$submit.removeAttribute('data-filled');\n\t\t} else if (!controlIsFilled && newControlValue) {\n\t\t\tcontrolIsFilled = true;\n\n\t\t\t$($label, {data: {filled: ''}});\n\t\t\t$($submit, {data: {filled: ''}});\n\t\t}\n\n\t\t/* Update Measure UI\n\t\t/* ================================================================== */\n\n\t\t$measureTextNode.nodeValue = newControlValue;\n\n\t\tconst currentWidth = `${$measureText.scrollWidth}px`;\n\n\t\t$measure.style.width = currentWidth;\n\t}\n\n\t/* On Submit\n\t/* ====================================================================== */\n\n\tfunction onsubmit(event) {\n\t\t$dispatch($search, `${data.prefix}:submit`, {\n\t\t\tvalue: $control.value,\n\t\t\tevent\n\t\t});\n\t}\n\n\t/* On DOMNodeInserted\n\t/* ====================================================================== */\n\n\t$search.addEventListener('DOMNodeInserted', function onDOMNodeInserted() {\n\t\t// If Search now has a parent node\n\t\tif ($search.parentNode) {\n\t\t\t// Unbind the DOMNodeInserted method\n\t\t\t$search.removeEventListener('DOMNodeInserted', onDOMNodeInserted);\n\n\t\t\t// Update Search\n\t\t\t$dispatch($search, `${data.prefix}:update`, data);\n\t\t}\n\t});\n\n\t/* On Update\n\t/* ====================================================================== */\n\n\t$search.addEventListener(`${data.prefix}:update`, () => {\n\t\t/* Bind Media Event\n\t\t/* ====================================================================== */\n\n\t\tconst media = $search.ownerDocument.defaultView.matchMedia(data.matchMedia || '(max-width: 720px)');\n\n\t\tmedia.addListener(oninput);\n\n\t\t/* Bind Other Events\n\t\t/* ================================================================== */\n\n\t\t$control.addEventListener('input', oninput);\n\n\t\t$search.addEventListener('reset', oninput);\n\t\t$search.addEventListener('submit', onsubmit);\n\t\t$search.addEventListener(`${data.prefix}:unload`, onunload);\n\t});\n\n\treturn $search;\n};\n","import {$assign as $, $dispatch, $replaceAll, $renderSvgOrImg} from '../../shared/js/shared';\nimport esriSearch from '../../search/js/search';\n\nconst prefix = 'esri-header-search';\n\nexport default () => {\n\t/* Search: Control\n\t/* ====================================================================== */\n\n\tconst $control = $('button',\n\t\t{\n\t\t\tclass: `${prefix}-control`, id: `${prefix}-control`,\n\t\t\taria: {expanded: false, controls: `${prefix}-content`}\n\t\t}\n\t);\n\n\t$control.addEventListener('click', (event) => {\n\t\t$dispatch($control, 'header:click:search', {event});\n\n\t\t$dispatch($control, 'header:menu:toggle', {\n\t\t\tcontrol: $control,\n\t\t\tcontent: $content,\n\t\t\tstate: 'search',\n\t\t\ttarget: $target,\n\t\t\ttype: 'search-toggle',\n\t\t\tevent\n\t\t});\n\t});\n\n\t/* Search: Content\n\t/* ====================================================================== */\n\n\tconst $content = $('div', {\n\t\tclass: `${prefix}-content`, id: `${prefix}-content`,\n\t\taria: {expanded: false, labelledby: `${prefix}-control`}\n\t});\n\n\t/* Search: Target\n\t/* ====================================================================== */\n\n\tconst $target = $('div', {class: prefix},\n\t\t$control, $content\n\t);\n\n\t/* Search: On Update\n\t/* ====================================================================== */\n\n\t$target.addEventListener('header:update:search', ({detail}) => {\n\t\t$($control, {aria: {label: detail.label}});\n\t\t$renderSvgOrImg({imgDef: detail.image, imgClass: `${prefix}-image`, id: `${prefix}-image`, $targetElm: $control});\n\n\t\tif (detail.dialog) {\n\t\t\tdetail.dialog.prefix = 'esri-header-search-dialog';\n\n\t\t\tconst $dialog = esriSearch(detail.dialog);\n\n\t\t\tconst $dialogCancelButton = $('button', {\n\t\t\t\t\tclass: 'esri-header-search-dialog-cancel',\n\t\t\t\t\ttype: 'reset'\n\t\t\t\t},\n\t\t\t\t$('span',\n\t\t\t\t\tdetail.dialog.cancelLabel\n\t\t\t\t)\n\t\t\t);\n\n\t\t\t$dialogCancelButton.addEventListener('click', (event) => {\n\t\t\t\t$dispatch($control, 'header:menu:close', {\n\t\t\t\t\tcontrol: $control,\n\t\t\t\t\tcontent: $content,\n\t\t\t\t\tstate: 'search',\n\t\t\t\t\ttype: 'search-close',\n\t\t\t\t\tevent\n\t\t\t\t});\n\t\t\t});\n\n\t\t\t$($dialog,\n\t\t\t\t$dialogCancelButton\n\t\t\t);\n\n\t\t\t$replaceAll($content,\n\t\t\t\t$dialog\n\t\t\t);\n\n\t\t\t$control.addEventListener('click', (event) => {\n\t\t\t\tif ('true' === $control.getAttribute('aria-expanded')) {\n\t\t\t\t\t$dispatch($dialog, `${detail.dialog.prefix}:focus`, {event});\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t});\n\n\treturn $target;\n};\n","import {$assign as $, $dispatch, $replaceAll, $renderSvgOrImg} from '../../shared/js/shared';\n\n/* Apps\n/* ========================================================================== */\n\nconst prefix = 'esri-header-apps';\n\nexport default () => {\n\t/* Apps: Content\n\t/* ====================================================================== */\n\n\tconst $content = $('div', {\n\t\tclass: `${prefix}-content`,\n\t\tid: `${prefix}-content`,\n\t\taria: {expanded: false, labelledby: `${prefix}-control`}\n\t});\n\n\tconst $appSwitcherIcon = $('span', {\n\t\ttitle: \"App Launcher\",\n\t\t\"aria-label\": \"App Launcher Icon\"\n\t});\n\n\t/* Apps: Control\n\t/* ====================================================================== */\n\n\tconst $controlContainer = $('button', {\n\t\tclass: `${prefix}-control empty-padding`, id: `${prefix}-control`\n\t});\n\n\tconst $dropdown = $('div', {\n\t\tclass: 'dropdown'\n\t});\n\n\t$controlContainer.append($dropdown);\n\n\tconst $control = $controlContainer;\n\n\t$controlContainer.addEventListener('click', (event) => {\n\t\t$dispatch($control, 'header:click:apps', {event});\n\n\t\t// Elements with following class won't trigger/dispatch the dropdown\n\t\tif (event.target.classList.contains(`${prefix}-prevent-dropdown`)) return;\n\n\t\t$dispatch($control, 'header:menu:toggle', {\n\t\t\tstate: 'menu',\n\t\t\ttarget: $target,\n\t\t\ttype: 'root-toggle',\n\t\t\tcontrol: $control,\n\t\t\tcontent: $content,\n\t\t\tevent\n\t\t});\n\t});\n\n\t/* Apps: Target\n\t/* ====================================================================== */\n\n\tconst $target = $('div', {class: prefix},\n\t\t$control\n\t);\n\n\t/* Apps: Helper Functions for Update\n\t/* ====================================================================== */\n\n\tconst createDefaultAppLayout = ($topAppContainer, currentApp) => {\n\t\tconst abbreviationSizes = [\"0px\", \"32px\", \"24px\", \"20px\", \"18px\", \"16px\", \"14px\"];\n\n\t\tconst listItem = $(\"li\", {\n\t\t\talt: \"\",\n\t\t\tclass: `${prefix}-prevent-dropdown link-off-black appLinkContainer`,\n\t\t\trole: \"menuitem\"\n\t\t});\n\n\t\tconst appLink = $(\"a\", {\n\t\t\thref: currentApp.url, // + \"#username=\" + this._currentUser.username,\n\t\t\ttarget: \"_blank\",\n\t\t\tclass: \"appLink\"\n\t\t});\n\t\t// Check if App has Icon\n\t\tif (currentApp.image) {\n\t\t\tconst appImageContainer = $(\"div\", {\"class\": \"appIconImage\"});\n\t\t\t$renderSvgOrImg({imgDef: currentApp.image, imgWidth: 48, imgHeight: 48, $targetElm: appImageContainer});\n\t\t\tappLink.append(appImageContainer);\n\t\t} else {\n\t\t\tconst stringWidth = Math.round(getTextWidth(currentApp.abbr || \"\", \"avenir\") / 5);\n\t\t\tlet abbreviationSize = abbreviationSizes[stringWidth];\n\t\t\tif (stringWidth > 6) { // Prevent user from exceeding icon width\n\t\t\t\tcurrentApp.abbr = currentApp.abbr.substr(0, 4);\n\t\t\t\tabbreviationSize = abbreviationSizes[4];\n\t\t\t}\n\t\t\tconst surfaceDiv = $(\"div\", {\"class\": \"appIconImage\"});\n\t\t\tconst surfaceSpan = $(\"span\", {\n\t\t\t\tstyle: `font-size: ${abbreviationSize}`,\n\t\t\t\tclass: \"avenir appIconSvgText\"\n\t\t\t}, currentApp.abbr);\n\t\t\tsurfaceDiv.append(surfaceSpan);\n\t\t\tsurfaceDiv.append($renderSvgOrImg({imgDef: currentApp.placeHolderIcon, imgWidth: 48, imgHeight: 48}));\n\t\t\tappLink.append(surfaceDiv);\n\t\t}\n\t\tconst p = $(\"p\", {style: \"margin:0 auto; text-align:center\"}, currentApp.label);\n\t\tappLink.append(p);\n\t\tlistItem.append(appLink);\n\t\t$topAppContainer.append(listItem);\n\t};\n\n\tconst getTextWidth = (text, font) => { // Adds support for app abbreviations in all languages\n\t\tconst canvas = getTextWidth.canvas || (getTextWidth.canvas = document.createElement(\"canvas\"));\n\t\tconst context = canvas.getContext(\"2d\");\n\t\tcontext.font = font;\n\t\tconst metrics = context.measureText(text);\n\t\treturn metrics.width;\n\t};\n\n\t/* Apps: On Update\n\t/* ====================================================================== */\n\n\t$target.addEventListener('header:update:apps', ({detail}) => {\n\t\tconsole.log('appmode', detail);\n\n\t\t$renderSvgOrImg({imgDef: detail.image.path, imgWidth: detail.image.width, imgHeight: detail.image.height, imgClass: `${prefix}-image`, $targetElm: $appSwitcherIcon});\n\n\t\tif (detail.icons) {\n\t\t\t$target.appendChild($content);\n\t\t\t$control.className = `${prefix}-control`;\n\n\t\t\t$($control, {aria: {label: detail.label}});\n\n\t\t\tconst numberOfApps = detail.icons.length;\n\t\t\tconst dropdownWidth = ` dropdown-width-${(numberOfApps < 4 ? numberOfApps : 4)}`;\n\n\t\t\t// App Icons\n\n\t\t\tconst $topAppContainer = $(\"ul\", {\n\t\t\t\tclass: `${prefix}-prevent-dropdown appContainer`,\n\t\t\t\trole: \"menu\"\n\t\t\t});\n\n\t\t\tconst maxAppsPerDialog = numberOfApps >= 100 ? 100 : numberOfApps;\n\t\t\tfor (let i = 0; i < maxAppsPerDialog; i += 1) {\n\t\t\t\tcreateDefaultAppLayout($topAppContainer, detail.icons[i]);\n\t\t\t}\n\n\t\t\t// Container\n\t\t\tconst $dropdownWrapper = $('div', {class: `${prefix}-prevent-dropdown`}, $topAppContainer);\n\n\t\t\tconst $dropdownNav = $('nav', {\n\t\t\t\tclass: `${prefix}-prevent-dropdown dropdown-menu dropdown-right app-switcher-dropdown-menu ${dropdownWidth}`,\n\t\t\t\trole: \"menu\"\n\t\t\t}, $dropdownWrapper);\n\n\t\t\t$replaceAll($dropdown, $appSwitcherIcon, $dropdownNav);\n\t\t}\n\t});\n\n\treturn $target;\n};\n","import {$assign as $, $dispatch, $enableFocusRing, $replaceAll} from '../../shared/js/shared';\n\nimport createAccount from './header-account';\nimport createBrand from './header-brand';\nimport createMenus from './header-menus';\nimport createSearch from './header-search';\nimport createApps from './header-apps';\n\n/* Header\n/* ====================================================================== */\n\nexport default (data) => {\n\tlet viewportIsSmall;\n\tlet viewportIsSmallMedium;\n\n\t/* Canvas\n\t/* ====================================================================== */\n\n\tconst $headerCanvas = $('button', {\n\t\tclass: 'esri-header-canvas',\n\t\ttabindex: '-1',\n\t\tdata: {open: false}\n\t});\n\n\t$headerCanvas.addEventListener('click', () => {\n\t\t$dispatch($headerCanvas, 'header:menu:close');\n\t});\n\n\t/* Elements\n\t/* ====================================================================== */\n\n\tconst $brand = createBrand();\n\tconst $account = createAccount();\n\tconst $menus = createMenus();\n\tconst $search = createSearch();\n\tconst $apps = createApps();\n\n\tconst $client = $('div', {class: 'esri-header-client'},\n\t\t$account\n\t);\n\n\tconst $lineBreak = $('div', {class: 'esri-header-lineBreak'});\n\n\tconst $header = $('div', {class: `esri-header -${data.theme || 'web'}`},\n\t\t$headerCanvas,\n\t\t$brand,\n\t\t$menus,\n\t\t$search,\n\t\t$lineBreak,\n\t\t$apps,\n\t\t$client\n\t);\n\n\t$enableFocusRing($header);\n\n\t/* On Header Update\n\t/* ====================================================================== */\n\n\t$header.addEventListener('header:update', ({detail}) => {\n\t\tif (detail.brand) {\n\t\t\t$dispatch($brand, 'header:update:brand', detail.brand);\n\t\t}\n\n\t\tif (detail.menus) {\n\t\t\t$dispatch($menus, 'header:update:menus', detail.menus);\n\t\t}\n\n\t\tif (detail.search) {\n\t\t\t$dispatch($search, 'header:update:search', detail.search);\n\t\t}\n\n\t\tif (detail.account) {\n\t\t\t$dispatch($client.lastChild, 'header:update:account', detail.account);\n\t\t}\n\n\t\tif (detail.account) {\n\t\t\t$dispatch($client.lastChild, 'header:update:account', detail.account);\n\t\t}\n\n\t\tif (detail.apps) {\n\t\t\t$dispatch($apps, 'header:update:apps', detail.apps);\n\t\t}\n\n\t\t$header.ownerDocument.defaultView.addEventListener('keydown', ({keyCode}) => {\n\t\t\tif (27 === keyCode) {\n\t\t\t\t$dispatch($header, 'header:menu:close');\n\t\t\t}\n\t\t});\n\t});\n\n\t/* On Header Menu Toggle\n\t/* ====================================================================== */\n\n\t$header.addEventListener('header:menu:toggle', ({detail}) => {\n\t\tconst submenuShouldOpen = 'true' !== detail.control.getAttribute('aria-expanded');\n\t\tconst eventType = submenuShouldOpen ? 'header:menu:open' : 'header:menu:close';\n\n\t\t$dispatch(detail.control, eventType, detail);\n\t});\n\n\t/* On Header Menu Open\n\t/* ====================================================================== */\n\n\tlet accountDetail = null;\n\tlet searchDetail = null;\n\tlet menusDetail = null;\n\tlet menuDetail = null;\n\tlet appsDetail = null;\n\n\t$header.addEventListener('header:menu:open', ({detail}) => {\n\t\tconst isMenuToggle = 'menu-toggle' === detail.type;\n\n\t\t// Update Control, Content\n\t\t$(detail.control, {aria: {expanded: true}});\n\t\t$(detail.content, {aria: {expanded: true, hidden: false}});\n\n\t\tif (menuDetail && menuDetail.control !== detail.control) {\n\t\t\t$dispatch(menuDetail.control, 'header:menu:close', menuDetail);\n\t\t}\n\n\t\tif ('menu-toggle' === detail.type) {\n\t\t\tmenuDetail = detail;\n\t\t}\n\n\t\tif ($search === detail.target) {\n\t\t\tsearchDetail = detail;\n\t\t} else if (searchDetail) {\n\t\t\t$dispatch($search, 'header:menu:close', searchDetail);\n\n\t\t\tsearchDetail = null;\n\t\t}\n\n\t\tif ($menus === detail.target) {\n\t\t\tmenusDetail = detail;\n\t\t} else if (menusDetail && !isMenuToggle && !viewportIsSmall.matches) {\n\t\t\t$dispatch($menus, 'header:menu:close', menusDetail);\n\n\t\t\tmenusDetail = null;\n\t\t}\n\n\t\tif ($account === detail.target) {\n\t\t\taccountDetail = detail;\n\t\t} else if (accountDetail) {\n\t\t\t$dispatch($account, 'header:menu:close', accountDetail);\n\n\t\t\taccountDetail = null;\n\t\t}\n\n\t\tif ($apps === detail.target) {\n\t\t\tappsDetail = detail;\n\t\t} else if (appsDetail) {\n\t\t\t$dispatch($apps, 'header:menu:close', appsDetail);\n\n\t\t\tappsDetail = null;\n\t\t}\n\n\t\t// Update Canvas\n\t\t$($headerCanvas, {data: {open: true, state: detail.state}});\n\n\t\t// Update Document Root\n\t\t$($header.ownerDocument.documentElement, {data: {'header-is-open': true}});\n\t});\n\n\t/* On Header Menu Close\n\t/* ====================================================================== */\n\n\t$header.addEventListener('header:menu:close', ({detail}) => {\n\t\tconst currentDetail = detail || menusDetail || searchDetail || accountDetail || appsDetail || menuDetail;\n\n\t\tif (currentDetail) {\n\t\t\t// Close the Detail\n\t\t\t$(currentDetail.control, {aria: {expanded: false}});\n\t\t\t$(currentDetail.content, {aria: {expanded: false, hidden: true}});\n\n\t\t\tconst canvasShouldClose = !viewportIsSmallMedium.matches || 'menu-close' !== currentDetail.type && 'account-close' !== currentDetail.type;\n\n\t\t\tif (searchDetail && searchDetail.control === currentDetail.control) {\n\t\t\t\t$dispatch(searchDetail.content.lastChild, 'reset');\n\t\t\t}\n\n\t\t\tif (canvasShouldClose) {\n\t\t\t\t// Close the Canvas\n\t\t\t\t$($headerCanvas, {data: {open: false}});\n\n\t\t\t\t// Update Document Root\n\t\t\t\t$header.ownerDocument.documentElement.removeAttribute('data-header-is-open');\n\t\t\t}\n\t\t}\n\t});\n\n\t/* On DOMNodeInserted\n\t/* ====================================================================== */\n\n\t$header.addEventListener('DOMNodeInserted', function onload() {\n\t\t// Get Document and Window\n\t\tconst $headerDocument = $header.ownerDocument;\n\t\tconst $headerWindow = $headerDocument.defaultView;\n\n\t\tconst $style = $('style');\n\n\t\tlet overflowY;\n\n\t\tif ($header.parentNode) {\n\t\t\t// Unbind Node Inserted\n\t\t\t$header.removeEventListener('DOMNodeInserted', onload);\n\n\t\t\t// Update Header\n\t\t\t$dispatch($header, 'header:update', data);\n\n\t\t\t/* On Resize\n\t\t\t/* ============================================================== */\n\n\t\t\t$($headerDocument.head,\n\t\t\t\t$style\n\t\t\t);\n\n\t\t\t$headerWindow.addEventListener('orientationchange', onresize);\n\t\t\t$headerWindow.addEventListener('resize', onresize);\n\n\t\t\tonresize();\n\n\t\t\t/* On Match Media Change\n\t\t\t/* ============================================================== */\n\n\t\t\tviewportIsSmall = $headerWindow.matchMedia('(max-width: 767px)');\n\t\t\tviewportIsSmallMedium = $headerWindow.matchMedia('(max-width: 1023px)');\n\n\t\t\tviewportIsSmall.addListener(onViewportIsSmallChange);\n\t\t\tviewportIsSmallMedium.addListener(onViewportIsSmallMediumChange);\n\n\t\t\tonViewportIsSmallChange();\n\t\t\tonViewportIsSmallMediumChange();\n\t\t}\n\n\t\tfunction onresize() {\n\t\t\tconst width = $headerDocument.documentElement.clientWidth;\n\t\t\tconst height = $headerDocument.documentElement.clientHeight;\n\t\t\tconst scrollHeight = $headerDocument.documentElement.scrollHeight;\n\n\t\t\toverflowY = getComputedStyle($headerDocument.documentElement).overflowY.replace('visible', scrollHeight > height ? 'scroll' : 'visible');\n\n\t\t\t$replaceAll($style,\n\t\t\t\t`:root{--esri-vw:${width}px;--esri-vh:${height}px}[data-header-is-open]{width:${width}px;height:${height}px;overflow-y:${overflowY}}`\n\t\t\t);\n\t\t}\n\n\t\tfunction onViewportIsSmallChange() {\n\t\t\tif (viewportIsSmall.matches) {\n\t\t\t\t$dispatch($header, 'header:breakpoint:s');\n\n\t\t\t\t$menus.lastChild.appendChild($account);\n\t\t\t} else {\n\t\t\t\t$dispatch($header, 'header:breakpoint:not:s');\n\n\t\t\t\t$client.appendChild($account);\n\t\t\t}\n\t\t}\n\n\t\tfunction onViewportIsSmallMediumChange() {\n\t\t\tif (viewportIsSmallMedium.matches) {\n\t\t\t\t$dispatch($header, 'header:breakpoint:sm');\n\n\t\t\t\t$($menus.lastChild, {aria: {hidden: 'false' === $menus.lastChild.getAttribute('aria-expanded')}});\n\t\t\t} else {\n\t\t\t\t$dispatch($header, 'header:breakpoint:not:sm');\n\n\t\t\t\t$($menus.lastChild, {aria: {hidden: false}});\n\t\t\t}\n\t\t}\n\t});\n\n\treturn $header;\n};\n","import {$assign as $, $renderSvgOrImg} from '../../shared/js/shared';\n\n// Create branding and social sections\nexport default (data, prefix) => $('div', {class: `${prefix}-brand`},\n\t$('a',\n\t\t{\n\t\t\tclass: `${prefix}-brand-link`,\n\t\t\thref: data.href,\n\t\t\taria: {label: data.label}\n\t\t},\n\t\t$renderSvgOrImg({imgDef: data.path, imgClass: `${prefix}-brand-image`})\n\t)\n);\n","import {$assign as $} from '../../shared/js/shared';\n\n/* Language\n/* ========================================================================== */\n\nexport default (data) => {\n\tconst $choice = $('select',\n\t\t{\n\t\t\tclass: `${data.prefix}-choice`,\n\t\t\tautofocus: '',\n\t\t\taria: {label: data.optionsLabel}\n\t\t},\n\t\t...data.options.map(\n\t\t\t(option) => $('option', {value: option.value}, option.label)\n\t\t)\n\t);\n\n\tconst $language = $('form', {\n\t\t\tclass: data.prefix,\n\t\t\taria: {labelledby: `${data.prefix}-message`, describedby: 'dialog-description'}\n\t\t},\n\t\t$('p', {class: `${data.prefix}-message`, id: `${data.prefix}-message`},\n\t\t\t$('strong', data.greetingLabel),\n\t\t\t' ',\n\t\t\tdata.messageLabel\n\t\t),\n\t\t$choice,\n\t\t$('button', {\n\t\t\tclass: `${data.prefix}-submit`,\n\t\t\ttype: 'submit',\n\t\t\taria: {label: `${data.submitLabel} ${data.optionsLabel}`}\n\t\t}, data.submitLabel)\n\t);\n\n\t$language.addEventListener('submit', (event) => {\n\t\tevent.preventDefault();\n\n\t\twindow.location.href = $choice.value;\n\t});\n\n\treturn $language;\n};\n","/* Global Footer: Tooling\n/* ========================================================================== */\n\nimport {$assign as $, $dispatch} from '../../shared/js/shared';\n\nimport languageDialog from './language';\n\n/* Global Footer\n/* ========================================================================== */\n\nexport default (data, prefix) => {\n\t// Language Selection Button\n\tconst $labelText = document.createTextNode(data.buttonLabel);\n\tconst $control = $('button', {class: `${prefix}-language-control`, ariaDescribedby: `${prefix}-language`}, $labelText);\n\tconst $barrier = $('div', {class: `${prefix}-language`}, $control);\n\n\t$control.addEventListener('click', openDialog);\n\n\t// Language Dialog\n\tdata.prefix = `${prefix}-language-dialog`;\n\n\tconst $languageDialog = languageDialog(data);\n\n\t// Language Dialog Close Button\n\tconst $languageDialogClose = $('button', {\n\t\tclass: `${prefix}-language-dialog-close`, id: 'dialog-description',\n\t\tariaLabel: data.closeLabel\n\t});\n\n\t$languageDialogClose.addEventListener('click', closeDialog);\n\n\t$($languageDialog, $languageDialogClose);\n\n\t// Language Dialog Canvas\n\tconst $cancelCanvas = $('button', {\n\t\tclass: `${prefix}-language-dialog-cancel-canvas`,\n\t\ttype: 'button',\n\t\ttabindex: -1\n\t});\n\n\t$cancelCanvas.addEventListener('click', closeDialog);\n\n\tfunction openDialog(event) {\n\t\tevent.preventDefault();\n\n\t\t$($canvas, {\n\t\t\taria: {expanded: true}\n\t\t});\n\t}\n\n\tfunction closeDialog(event) {\n\t\tevent.preventDefault();\n\n\t\t$($canvas, {\n\t\t\taria: {expanded: false}\n\t\t});\n\t}\n\n\t// ...\n\tconst $canvas = $('div', {\n\t\tclass: `${prefix}-language-dialog-barrier`,\n\t\taria: {expanded: false}\n\t}, $languageDialog, $cancelCanvas);\n\n\t// ...\n\t$control.addEventListener('click', () => {\n\t\t$dispatch($control, 'footer:click:language', data);\n\t});\n\n\t// ...\n\t$barrier.addEventListener('footer:update:language', ({detail}) => {\n\t\t$labelText.nodeValue = detail.buttonLabel;\n\n\t\t$barrier.ownerDocument.body.appendChild(\n\t\t\t$canvas\n\t\t);\n\n\t\t$barrier.ownerDocument.defaultView.addEventListener('keydown', ({keyCode} = event) => {\n\t\t\tif (27 === keyCode) {\n\t\t\t\tcloseDialog(event);\n\t\t\t}\n\t\t});\n\t});\n\n\treturn $barrier;\n};\n","/* Global Footer\n/* ========================================================================== */\n\nimport {$assign as $, $dispatch} from '../../shared/js/shared';\n\n// Create navigation\nexport default (data, prefix) => {\n\t// ...\n\tconst media = matchMedia('(max-width: 719px)');\n\n\tlet mediaMatches = false;\n\n\tmedia.addListener(onchange);\n\n\t// Menu Items\n\tconst links = data.menu.map(\n\t\t(item, index) => $('li', {class: `${prefix}-menu-item`, id: `${prefix}-menu-link--${index}`},\n\t\t\t$('span',\n\t\t\t\t{\n\t\t\t\t\tclass: `${prefix}-menu-link`,\n\t\t\t\t\trole: 'heading'\n\t\t\t\t},\n\t\t\t\titem.label\n\t\t\t),\n\t\t\t// Submenu\n\t\t\t$('nav',\n\t\t\t\t{\n\t\t\t\t\tclass: `${prefix}-menu--sub`, id: `${prefix}-menu--sub--${index}`,\n\t\t\t\t\taria: {labelledby: `${prefix}-menu-link--${index}`}\n\t\t\t\t},\n\t\t\t\t$('ul',\n\t\t\t\t\t{\n\t\t\t\t\t\tclass: `${prefix}-menu-list--sub`,\n\t\t\t\t\t\trole: 'presentation'\n\t\t\t\t\t},\n\t\t\t\t\t// Submenu Items\n\t\t\t\t\t...item.menu.map(\n\t\t\t\t\t\t(subitem) => $('li', {class: `${prefix}-menu-item--sub`},\n\t\t\t\t\t\t\t$('a', {class: `${prefix}-menu-link--sub`, href: subitem.href},\n\t\t\t\t\t\t\t\tsubitem.label\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t)\n\t\t)\n\t);\n\n\t// Menu\n\tconst $target = $('nav',\n\t\t{\n\t\t\tclass: `${prefix}-menu`,\n\t\t\taria: {label: data.label}\n\t\t},\n\t\t$('ul',\n\t\t\t{\n\t\t\t\tclass: `${prefix}-menu-list`,\n\t\t\t\trole: 'presentation'\n\t\t\t},\n\t\t\t...links\n\t\t)\n\t);\n\n\tonchange();\n\n\treturn $target;\n\n\t// ...\n\tfunction onchange() {\n\t\tif (mediaMatches !== media.matches) {\n\t\t\tmediaMatches = media.matches;\n\n\t\t\tlinks.forEach((link) => {\n\t\t\t\tif (mediaMatches) {\n\t\t\t\t\ttransformAsTouch(link.firstChild);\n\t\t\t\t} else {\n\t\t\t\t\tdetransformAsTouch(link.firstChild);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\t// ...\n\tfunction transformAsTouch(link) {\n\t\tconst isVisible = 'true' !== link.nextElementSibling.getAttribute('aria-hidden');\n\n\t\t$(link, {\n\t\t\ttabindex: 0,\n\t\t\trole: 'button', aria: {expanded: !isVisible, haspopup: !isVisible}\n\t\t});\n\n\t\tlink.addEventListener('click', onclick);\n\t\tlink.addEventListener('keypress', onkeypress);\n\n\t\t$(link.nextElementSibling, {aria: {hidden: true}});\n\t}\n\n\t// ...\n\tfunction detransformAsTouch(link) {\n\t\tlink.removeAttribute('aria-controls');\n\t\tlink.removeAttribute('aria-expanded');\n\t\tlink.removeAttribute('aria-haspopup');\n\t\tlink.removeAttribute('role');\n\t\tlink.removeAttribute('tabindex');\n\n\t\tlink.addEventListener('click', onclick);\n\t\tlink.addEventListener('keypress', onkeypress);\n\n\t\tlink.nextElementSibling.removeAttribute('aria-hidden');\n\t}\n\n\t// ...\n\tfunction onclick(event) {\n\t\tconst currentTarget = event.currentTarget;\n\t\tconst nextTarget = currentTarget.nextElementSibling;\n\t\tconst isVisible = 'true' !== nextTarget.getAttribute('aria-hidden');\n\n\t\t$(currentTarget, {aria: {expanded: !isVisible, haspopup: !isVisible}});\n\n\t\t$(nextTarget, {aria: {hidden: isVisible}});\n\n\t\tif (isVisible) {\n\t\t\t$(currentTarget, {aria: {controls: 0}});\n\t\t} else {\n\t\t\t$(currentTarget, {aria: {controls: nextTarget.id}});\n\t\t}\n\t}\n\n\t// ...\n\tfunction onkeypress(event) {\n\t\tif (event.keyCode === 13 || event.keyCode === 32) {\n\t\t\tevent.preventDefault();\n\n\t\t\t$dispatch(event.currentTarget, 'click');\n\t\t}\n\t}\n};\n","/* Global Footer: Tooling\n/* ========================================================================== */\n\nimport {$assign as $} from '../../shared/js/shared';\n\n/* Global Footer\n/* ========================================================================== */\n\nexport default (data, prefix) =>\n\t$('nav', {class: `${prefix}-info`, aria: {label: data.label}},\n\t\t$('ul', {class: `${prefix}-info-list`, role: 'presentation'},\n\t\t\t...data.menu.map(\n\t\t\t\t(item, index) => $('li', {class: `${prefix}-info-item`, id: `${prefix}-info-link--${index}`},\n\t\t\t\t\t$('a', {class: `${prefix}-info-link`, href: item.href},\n\t\t\t\t\t\titem.label\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t)\n\t\t)\n\t);\n","import {$assign as $, $renderSvgOrImg} from '../../shared/js/shared';\n\nexport default (data, prefix) => {\n\tconst $socialIcons = document.createDocumentFragment();\n\n\n\tdata.menu.forEach((item) => $($socialIcons,\n\t\t$('li', {class: `${prefix}-social-item`},\n\t\t\t$('a',\n\t\t\t\t{\n\t\t\t\t\tclass: `${prefix}-social-link -${item.label.toLowerCase()}`,\n\t\t\t\t\thref: item.href,\n\t\t\t\t\taria: {label: item.label}\n\t\t\t\t},\n\t\t\t\t$renderSvgOrImg({imgDef: item.image.path, imgClass: `${prefix}-social-image`, imgWidth: 30, imgHeight:30, viewBox : item.image.viewBox})\n\t\t\t)\n\t\t)));\n\n\treturn $('nav',\n\t\t{class: `${prefix}-social`, aria: {label: data.label}},\n\t\t$('ul', {class: `${prefix}-social-list`, role: 'presentation'},\n\t\t\t$socialIcons));\n};\n","import {$assign as $, $dispatch, $enableFocusRing} from '../../shared/js/shared';\n\nimport brand from './footer-brand';\nimport language from './footer-language';\nimport menu from './footer-menu';\nimport info from './footer-info';\nimport social from './footer-social';\n\n/* Global Footer\n/* ========================================================================== */\n\nexport default (data) => {\n\tconst prefix = data.prefix || 'esri-footer';\n\n\t/* Footer Components\n\t/* ====================================================================== */\n\n\tconst $footerBrand = brand(data.brand, prefix);\n\tconst $footerInfo = info(data.info, prefix);\n\tconst $footerLanguage = language(data.language, prefix);\n\tconst $footerMenu = menu(data.menu, prefix);\n\tconst $footerSocial = social(data.social, prefix);\n\n\tconst $footer = $('footer',\n\t\t{\n\t\t\tclass: prefix,\n\t\t\taria: {label: data.label}\n\t\t},\n\n\t\t/* Append Footer Components\n\t\t/* ================================================================== */\n\n\t\t$('div', {class: `${prefix}-section--1`},\n\t\t\t$footerBrand,\n\t\t\t$footerSocial\n\t\t),\n\t\t$('div', {class: `${prefix}-section--2`},\n\t\t\t$footerMenu\n\t\t),\n\t\t$('div', {class: `${prefix}-section--3`},\n\t\t\t$footerLanguage,\n\t\t\t$footerInfo\n\t\t)\n\t);\n\n\t/* On DOMNodeInserted\n\t/* ====================================================================== */\n\n\t$footer.addEventListener('DOMNodeInserted', function onDOMNodeInserted() {\n\t\t// Unbind Node Inserted\n\t\t$footer.removeEventListener('DOMNodeInserted', onDOMNodeInserted);\n\n\t\t// Scroll to Footer on focus\n\t\t$footer.addEventListener('focusin', () => {\n\t\t\tconst scrollY = $footer.ownerDocument.documentElement.scrollHeight - $footer.scrollHeight;\n\n\t\t\tif (scrollY > $footer.ownerDocument.defaultView.pageYOffset) {\n\t\t\t\t$footer.ownerDocument.defaultView.scrollTo(0, scrollY);\n\t\t\t}\n\t\t});\n\n\t\t// Update Header\n\t\t$dispatch($footer, 'footer:update', data);\n\t});\n\n\t$enableFocusRing($footer);\n\n\t/* On Footer Update\n\t/* ====================================================================== */\n\n\t$footer.addEventListener('footer:update', ({detail}) => {\n\t\tif (detail.brand) {\n\t\t\t$dispatch($footerBrand, 'footer:update:brand', detail.brand);\n\t\t}\n\n\t\tif (detail.info) {\n\t\t\t$dispatch($footerInfo, 'footer:update:info', detail.info);\n\t\t}\n\n\t\tif (detail.language) {\n\t\t\t$dispatch($footerLanguage, 'footer:update:language', detail.language);\n\t\t}\n\n\t\tif (detail.menu) {\n\t\t\t$dispatch($footerMenu, 'footer:update:menu', detail.menu);\n\t\t}\n\n\t\tif (detail.social) {\n\t\t\t$dispatch($footerSocial, 'footer:update:social', detail.social);\n\t\t}\n\n\t\t$footer.ownerDocument.defaultView.addEventListener('scroll', onscroll);\n\n\t\tonscroll();\n\n\t\tfunction onscroll() {\n\t\t\tconst hidden = 0 > window.pageYOffset;\n\n\t\t\t$($footer, {data: {hidden}});\n\t\t}\n\t});\n\n\treturn $footer;\n};\n"],"names":["__assignSource","element","source","prefix","key","addEventListener","Object","setAttribute","$assign","id","Node","document","createElement","slice","call","arguments","forEach","appendChild","createTextNode","$replaceAll","parentNode","lastChild","removeChild","__asFragment","nodes","fragment","createDocumentFragment","node","$dispatch","target","type","detail","event","createEvent","initCustomEvent","dispatchEvent","$enableFocusRing","keyboardThrottleTimeoutID","activeElements","activeElement","removeAttribute","Element","push","clearTimeout","setTimeout","$fetch","url","callback","onError","xhr","XMLHttpRequest","readyState","status","responseText","open","send","$renderSvgOrImg","renderImgTag","$imgWrapper","imgDef","imgClass","imgWidth","imgHeight","append","viewBox","$targetElm","svgProps","class","role","width","height","indexOf","length","svgContents","$img","createElementNS","innerHTML","map","d","buildHeader","targetElm","menuData","$esriHeader","createHeader","header","querySelector","buildFooter","$esriFooter","createFooter","footer","$target","$","$controlSigninText","$controlSignin","$controlImage","$controlNameText","$controlName","$controlIdText","$controlId","$control","controls","expanded","haspopup","$content","$contentToggleText","$contentToggle","$contentImage","$contentInfoNameText","$contentInfoIdText","$contentInfoGroupText","$contentInfo","$contentMenu","aria","labelledby","$contentSigninSwitchText","$contentSigninSwitch","$contentSigninSignoutText","$contentSigninSignout","$contentSigninMenu","hidden","label","nodeValue","signin","switch","signout","user","name","group","image","menus","item","href","$toggle","menu","uuid","suuid","$subcontrol","data","$li","hasMenuItems","hasFeaturedItems","tiles","$subtoggle","$subcontent","filled","childitem","$sublink","newContext","icon","oninput","value","newControlValue","controlValue","$search","controlIsFilled","$label","$submit","currentWidth","$measureText","scrollWidth","style","onsubmit","queryLabel","autocomplete","autocorrect","spellcheck","$measureTextNode","$measure","submitLabel","action","focus","onDOMNodeInserted","removeEventListener","ownerDocument","defaultView","matchMedia","addListener","onunload","dialog","$dialog","esriSearch","$dialogCancelButton","cancelLabel","getAttribute","$appSwitcherIcon","$controlContainer","$dropdown","classList","contains","createDefaultAppLayout","$topAppContainer","currentApp","abbreviationSizes","listItem","appLink","appImageContainer","stringWidth","Math","round","getTextWidth","abbr","abbreviationSize","substr","surfaceDiv","surfaceSpan","placeHolderIcon","p","text","font","context","canvas","getContext","measureText","log","path","icons","className","numberOfApps","dropdownWidth","maxAppsPerDialog","i","$dropdownWrapper","$dropdownNav","viewportIsSmall","viewportIsSmallMedium","$headerCanvas","$brand","createBrand","$account","createAccount","$menus","createMenus","createSearch","$apps","createApps","$client","$lineBreak","$header","theme","brand","search","account","apps","keyCode","eventType","control","accountDetail","searchDetail","menusDetail","menuDetail","appsDetail","isMenuToggle","content","matches","state","documentElement","header-is-open","currentDetail","canvasShouldClose","onload","onresize","$headerDocument","clientWidth","clientHeight","scrollHeight","getComputedStyle","overflowY","replace","$style","onViewportIsSmallChange","onViewportIsSmallMediumChange","$headerWindow","head","$choice","optionsLabel","options","option","$language","describedby","greetingLabel","messageLabel","preventDefault","location","closeDialog","$canvas","$labelText","buttonLabel","ariaDescribedby","$barrier","$languageDialog","languageDialog","$languageDialogClose","closeLabel","$cancelCanvas","body","onchange","mediaMatches","media","link","firstChild","transformAsTouch","isVisible","nextElementSibling","onclick","onkeypress","detransformAsTouch","currentTarget","nextTarget","links","index","subitem","$socialIcons","toLowerCase","$footerBrand","$footerInfo","info","$footerLanguage","language","$footerMenu","$footerSocial","social","$footer","scrollY","pageYOffset","scrollTo","onscroll","window","esriHeader","create","esriFooter","headerElm","footerElm"],"mappings":"0CAGA,SAASA,EAAeC,EAASC,EAAQC,OACnC,IAAIC,KAAOF,EACX,mBAAsBA,EAAOE,KAExBC,iBAAiBF,EAASC,EAAKF,EAAOE,IACpCE,OAAOJ,EAAOE,MAAUF,EAAOE,KAE1BH,EAASC,EAAOE,GAASD,EAASC,SAGzCG,aAAaJ,EAASC,EAAKF,EAAOE,IAQ7C,SAASI,EAAQC,OAMVR,EAAUQ,aAAcC,KAAOD,EAAKE,SAASC,cAAcH,YAE9DI,MAAMC,KAAKC,UAAW,GAAGC,QAAQ,SAACd,GAChCA,aAAkBQ,OAEbO,YAAYf,GACV,iBAAoBA,IAEtBe,YACPN,SAASO,eAAehB,MAGVD,EAASC,EAAQ,MAI3BD,EAkBR,SAASkB,EAAYC,QAIbA,EAAWC,aACNC,YAAYF,EAAWC,oBAGxBJ,YACVM,EAAaR,YAGPK,EAmBR,SAASG,EAAaC,OACfC,EAAWd,SAASe,kCAEvBb,MAAMC,KAAKU,EAAO,GAAGR,QAAQ,SAACW,GAC5BA,aAAgBjB,OACVO,YAAYU,KAEZV,YACRN,SAASO,eAAeS,MAKpBF,ECpGR,SAASG,EAAUC,EAAQC,EAAMC,OAE1BC,EAAQrB,SAASsB,YAAY,iBAE7BC,gBAAgBJ,GAAM,GAAM,EAAMC,KAEjCI,cAAcH,GAGtB,SAASI,EAAiBP,OAGrBQ,SAEEC,OAECjC,iBAAiB,OAAQ,aAChBW,QAAQ,SAACuB,KACTC,gBAAgB,cAChBA,gBAAgB,qBAE7B,KAEInC,iBAAiB,QAAS,eAC1BkC,EAAgB5B,SAAS4B,cAE3BA,aAAyBE,YACdlC,aAAa,WAAY,IAEnC8B,KACW9B,aAAa,gBAAiB,MAG9BmC,KAAKH,MAEnB,KAEIlC,iBAAiB,UAAW,aACNsC,aAAaN,IAA8BO,WAAW,aACrD,GAC1B,OACD,GAGJ,SAASC,EAAOC,EAAKC,OAAUC,yDAAU,aAElCC,EAAM,IAAIC,wBAEZ7C,iBAAiB,mBAAoB,WACpC,IAAM4C,EAAIE,aACT,MAAQF,EAAIG,SACNH,EAAII,uBAOZC,KAAK,MAAOR,KACZS,OAEGN,EAGR,SAASO,cAmDCC,SAAcC,IAAAA,YAAajD,IAAAA,GAAIkD,IAAAA,OAAQC,IAAAA,SAAUC,IAAAA,SAAUC,IAAAA,YACvDC,OAAOvD,EAAQ,gBAErBmD,QACEC,SACIC,WAAoBA,OAAe,UAAOC,YAAsBA,OAAgB,eAxDpEH,OAAAA,aAAS,SAAIC,SAAAA,aAAW,KAAIC,IAAAA,SAAUC,IAAAA,UAAWE,IAAAA,QAASvD,IAAAA,GAAIwD,IAAAA,WACjFP,EAAclD,EAAQ,QAEtB0D,GAAYC,MAAOP,EAAUQ,KAAM,mBACrCP,GAAYC,MACNO,MAAQR,IACRS,OAASR,GAEfE,MACMA,QAAUA,GAEhBvD,MACMA,GAAKA,GAGO,iBAAXkD,EACNA,EAAOY,QAAQ,UAAYZ,EAAOa,OAAS,IACvCb,EAAQ,SAACc,OACTC,EAAOlE,EACZG,SAASgE,gBAAgB,6BAA8B,OACvDT,KAEIU,UAAYH,IACLV,OAAOW,IACjB,cACYhB,cAAajD,KAAIkD,SAAQC,WAAUC,WAAUC,mBAG9CJ,cAAajD,KAAIkD,SAAQC,WAAUC,WAAUC,kBAEtD,KACAY,EAAOlE,EAAQG,SAASgE,gBAAgB,6BAA8B,OAC3ET,EACA1D,gBAAQG,SAASe,mCACbiC,EAAOkB,IACT,SAACC,UAAMtE,EACNG,SAASgE,gBAAgB,6BAA8B,SACtDG,cAIOf,OAAOW,UAGhBT,MACQW,UAAY,KACZ3D,YAAYyC,IAGjBA,EChHR,SAASqB,SAAaC,IAAAA,UAAWC,IAAAA,SAC1BC,EAAcC,EAAaF,EAASG,QACnBzE,SAAS0E,cAAcL,GAC/B/D,YAAYiE,GAG5B,SAASI,SAAaN,IAAAA,UAAWC,IAAAA,SAC1BM,EAAcC,EAAaP,EAASQ,QACnB9E,SAAS0E,cAAcL,GAC/B/D,YAAYsE,2hCCbtBpF,EAAS,uCAGRuF,EAAUC,EAAE,OAAQxB,MAAOhE,IAK3ByF,EAAqBjF,SAASO,eAAe,IAC7C2E,EAAiBF,EAAE,UAAWxB,MAAUhE,cAAkBA,sBAC/DyF,KAIcvF,iBAAiB,QAAS,SAAC2B,KAC/B6D,EAAgB,uBAAwB7D,gBAM7C8D,EAAgBH,EAAE,QAElBI,EAAmBpF,SAASO,eAAe,IAC3C8E,EAAeL,EAAE,QAASxB,MAAUhE,WACzC4F,GAGKE,EAAiBtF,SAASO,eAAe,IACzCgF,EAAaP,EAAE,QAASxB,MAAUhE,SACvC8F,GAGKE,EAAWR,EAAE,gBAEPxF,cAAkBA,uBAA4BM,GAAON,mBACxDiG,SAAajG,UAAekG,UAAU,EAAOC,UAAU,IAE/DR,EACAE,EACAE,KAIQ7F,iBAAiB,QAAS,SAAC2B,KACzBmE,EAAU,wBAAyBnE,YAEnCmE,EAAU,+BACV,UACAA,UACAI,QACF,cACCb,OACF,yBAQFc,EAAqB7F,SAASO,eAAe,IAC7CuF,EAAiBd,EAAE,UAAWxB,MAAUhE,qBAC7CqG,KAGcnG,iBAAiB,QAAS,aAC9BoG,EAAgB,6BAChBN,UACAI,OACH,wBAKFG,EAAgBf,EAAE,QAGlBgB,EAAuBhG,SAASO,eAAe,IAC/C0F,EAAqBjG,SAASO,eAAe,IAC7C2F,EAAwBlG,SAASO,eAAe,IAChD4F,EAAenB,EAAE,OAAQxB,MAAUhE,mBACxCuG,EACAf,EAAE,QAASxB,MAAUhE,mBACpBwG,GAEDhB,EAAE,QAASxB,MAAUhE,iBACpByG,GAEDjB,EAAE,QAASxB,MAAUhE,oBACpB0G,IAKIE,EAAepB,EAAE,YACZxF,uBACJ,aAAc6G,MAAOC,WAAe9G,gBAIrC+G,EAA2BvG,SAASO,eAAe,IACnDiG,EAAuBxB,EAAE,UAAWxB,MAAUhE,6BACnD+G,KAIoB7G,iBAAiB,QAAS,SAAC2B,KACrCmF,EAAsB,uBAAwBnF,gBAInDoF,EAA4BzG,SAASO,eAAe,IACpDmG,EAAwB1B,EAAE,UAAWxB,MAAUhE,6BACpDiH,KAIqB/G,iBAAiB,QAAS,SAAC2B,KACtCqF,EAAuB,wBAAyBrF,gBAIrDsF,EAAqB3B,EAAE,YAEjBxF,sBACJ,SAEPwF,EAAE,MAAOxB,MAAUhE,kBAClBgH,GAEDxB,EAAE,MAAOxB,MAAUhE,kBAClBkH,IAKId,EAAWZ,EAAE,aAEPxF,UAAeM,GAAON,eAC1B,QAAS6G,MAAOX,UAAU,EAAOkB,QAAQ,IAEhDd,EACAK,EACAC,EACAO,YAMOjH,iBAAiB,wBAAyB,gBAAE0B,IAAAA,SACjDoE,GAAWa,MAAOQ,MAAOzF,EAAOyF,WAGfC,UAAY1F,EAAOyF,QACnBC,UAAY1F,EAAOqE,SAASsB,SACtBD,UAAY1F,EAAOqE,SAASuB,SAC3BF,UAAY1F,EAAOqE,SAASwB,QAGlD7F,EAAO8F,QAEOJ,UAAYd,EAAqBc,UAAY1F,EAAO8F,KAAKC,OAC3DL,UAAYb,EAAmBa,UAAY1F,EAAO8F,KAAKpH,KAChDgH,UAAY1F,EAAO8F,KAAKE,SAE7BpE,OAAQ5B,EAAO8F,KAAKG,MAAOpE,SAAazD,WAAgB8D,WAAY6B,OACpEnC,OAAQ5B,EAAO8F,KAAKG,MAAOpE,SAAazD,mBAAwB8D,WAAYyC,oBAGjFK,YACRhF,EAAOkG,MAAMpD,IACf,SAACqD,UAASvC,EAAE,MAAOxB,MAAUhE,mBAC5BwF,EAAE,KAAMxB,MAAUhE,kBAAuBgI,KAAMD,EAAKC,MACnDD,EAAKV,eAOG9B,EAASS,EAAUI,MAGnBb,EAASG,KAIhBH,GC7LFvF,EAAS,qCAGRuF,EAAUC,EAAE,KAAMxB,MAAOhE,EAAQM,GAAIN,aAGnCE,iBAAiB,QAAS,SAAC2B,KACxB0D,EAAS,sBAAuB1D,cAKnC3B,iBAAiB,sBAAuB,gBAAE0B,IAAAA,SAC/C2D,GAAUyC,KAAMpG,EAAOoG,KAAMnB,MAAOQ,MAAOzF,EAAOyF,YACnC7D,OAAQ5B,EAAOiG,MAAOpE,SAAazD,WAAgB0D,SAAU9B,EAAOsC,MAAOP,UAAU/B,EAAOuC,OAAQL,WAAWyB,MAG1HA,GCjBFvF,EAAS,qCAMRiI,EAAUzC,EAAE,gBACPxF,YAAiBM,GAAON,kBAC3BiG,SAAajG,aAAkBkG,UAAU,EAAOC,UAAU,EAAMW,WAAY,yBAG5E5G,iBAAiB,QAAS,SAAC2B,KACxBoG,EAAS,8BACTA,UACA7B,QACH,QACC,cACCb,OACF,8BAQFa,EAAWZ,EAAE,aACRxF,mBACHoH,QAAQ,EAAMlB,UAAU,KAM1BX,EAAUC,EAAE,OAAQxB,MAAOhE,EAAQM,GAAIN,GAC5CiI,EAAS7B,YAMFlG,iBAAiB,sBAAuB,gBAAE0B,IAAAA,uBAEhDwE,YACGxE,EAAO8C,IACT,SAACwD,EAAMC,UAAS3C,EAAE,aAENxF,eACJ,SAEPwF,gBAAE,YAEUxF,eACJ,aAAc6G,MAAOC,WAAY,gCAErCoB,EAAKxD,IAAI,SAACqD,EAAMK,OAIZC,EAAc7C,EAAE,WAEVxF,UAAeM,GAAON,WAAemI,MAAQC,OACjDL,EAAKC,MAAQ,gBAEpBD,EAAKV,OAGFU,EAAKO,cAEDP,EAAKO,WAIPC,EAAM/C,EAAE,MAAOxB,MAAUhE,WAAgBqI,GAEzCG,EAAeT,EAAKD,OAASC,EAAKD,MAAMzD,OACxCoE,EAAmBV,EAAKW,OAASX,EAAKW,MAAMrE,UAE9CmE,GAAgBC,EAAkB,KAI/BE,EAAanD,EAAE,UAAWxB,MAAUhE,qBACzC+H,EAAKV,OAGAuB,EAAcpD,EAAE,aAEVxF,aAAkBM,GAAON,cAAkBmI,MAAQC,OACvD,QAASvB,MAAOO,QAAQ,EAAMlB,UAAU,SACvC2C,OAAQd,EAAKD,MAAMzD,OAAS,GAAK0D,EAAKD,MAAMpH,MAAM,EAAG,IAAI2D,OAAS,KAE1EsE,GAGGH,KACDI,EACDpD,gBAAE,YAEUxF,kBACJ,aAAc6G,MAAOC,WAAe9G,WAAemI,MAAQC,cAI/DL,EAAKD,MAAMpH,MAAM,EAAG,IAAIgE,IAC1B,SAACoE,OACMC,EAAWvD,EAAE,WAEPxF,kBACJ8I,EAAUd,MAEjBc,EAAUzB,cAGPyB,EAAUR,QACXS,QACKD,EAAUR,OAIdQ,EAAUE,cACXD,UACO,aACH,aAIAvD,EAAE,MAAOxB,MAAUhE,cACzB+I,SAQFN,KAEDG,EACDpD,gBAAE,YAEUxF,4BACJ,aAAc6G,MAAOC,WAAe9G,WAAemI,MAAQC,SAC1DS,UAAWd,EAAKW,MAAMhI,MAAM,EAAG,GAAG2D,mBAKvC0D,EAAKW,MAAMhI,MAAM,EAAG,GAAGgE,IACzB,SAACoE,OACMC,EAAWvD,EAAE,WAEPxF,4BACJ8I,EAAUd,MAEjB3E,GAAiBG,OAAQsF,EAAUG,KAAMxF,SAAazD,mBAAwB0D,SAAUoF,EAAU5E,MAAOP,UAAUmF,EAAU3E,SAC7HqB,EAAE,QAASxB,MAAUhE,mBACpB8I,EAAUzB,eAIRyB,EAAUR,QACXS,QACKD,EAAUR,OAIdQ,EAAUE,cACXD,UACO,aACH,aAIAvD,EAAE,MAAOxB,MAAUhE,wBACzB+I,WAQJR,EACDK,KAGW1I,iBAAiB,QAAS,aAC3BmI,EAAa,8BACbA,UACAO,WACA,QACF,YACD,oBAIG1I,iBAAiB,QAAS,aAC1ByI,EAAY,6BACZN,WACA,UACAO,OACH,wBAKFL,eAQNhD,cCpNQ+C,YA+CNY,EAAQrH,GAIZA,GAAS,UAAYA,EAAMF,SACrBwH,MAAQ,QAMZC,EAAkBpD,EAASmD,MAE7BC,IAAoBC,MACRD,IAELE,EAAYhB,EAAKtI,uBACnBqJ,aAQLE,IAAoBH,MACL,IAEX/G,gBAAgB,iBACfA,gBAAgB,iBACbkH,GAAmBH,OACZ,IAEhBI,GAASlB,MAAOO,OAAQ,QACxBY,GAAUnB,MAAOO,OAAQ,SAMXvB,UAAY8B,MAEvBM,EAAkBC,EAAaC,mBAE5BC,MAAM3F,MAAQwF,WAMfI,EAASjI,KACPyH,EAAYhB,EAAKtI,wBACnBgG,EAASmD,oBA/FZK,EAAShE,EAAE,eACN8C,EAAKtI,oBACPsI,EAAKtI,yBACXsI,EAAKyB,YAEF/D,EAAWR,EAAE,eACR8C,EAAKtI,kBAAkBM,GAAOgI,EAAKtI,uBACvC,SAAU2H,KAAM,mBACN,MAAOqC,aAAc,MAAOC,YAAa,MAAOC,WAAY,UAGvEC,EAAmB3J,SAASO,eAAe,IAE3C4I,EAAenE,EAAE,aACZ8C,EAAKtI,6BACRoH,QAAQ,IACb+C,GAEGC,EAAW5E,EAAE,OAAQxB,MAAUsE,EAAKtI,mBAAmB2J,GAEvDF,EAAUjE,EAAE,gBACP8C,EAAKtI,iBAAiB2B,KAAM,eAC/B0F,MAAOiB,EAAK+B,eAGdf,EAAU9D,EAAE,cACP8C,EAAKtI,eAAesK,OAAQhC,EAAKgC,YACrC,SAAUzD,MAAOQ,MAAOiB,EAAKjB,QACjCmC,EAAQxD,EAAUoE,EAAUX,KAKvBvJ,iBAAoBoI,EAAKtI,gBAAgB,aACvCuK,cAMNhB,GAAkB,EAClBF,EAAe,YA8DXnJ,iBAAiB,kBAAmB,SAASsK,IAEhDlB,EAAQrI,eAEHwJ,oBAAoB,kBAAmBD,KAGrClB,EAAYhB,EAAKtI,iBAAiBsI,QAOtCpI,iBAAoBoI,EAAKtI,iBAAiB,WAInCsJ,EAAQoB,cAAcC,YAAYC,WAAWtC,EAAKsC,YAAc,sBAExEC,YAAY3B,KAKThJ,iBAAiB,QAASgJ,KAE3BhJ,iBAAiB,QAASgJ,KAC1BhJ,iBAAiB,SAAU4J,KAC3B5J,iBAAoBoI,EAAKtI,iBAAiB8K,YAG5CxB,GC7IFtJ,EAAS,sCAMRgG,EAAWR,EAAE,gBAEPxF,aAAkBM,GAAON,mBAC5BkG,UAAU,EAAOD,SAAajG,kBAI9BE,iBAAiB,QAAS,SAAC2B,KACzBmE,EAAU,uBAAwBnE,YAElCmE,EAAU,8BACVA,UACAI,QACF,gBACCb,OACF,gCAQFa,EAAWZ,EAAE,aACRxF,aAAkBM,GAAON,mBAC5BkG,UAAU,EAAOY,WAAe9G,gBAMlCuF,EAAUC,EAAE,OAAQxB,MAAOhE,GAChCgG,EAAUI,YAMHlG,iBAAiB,uBAAwB,gBAAE0B,IAAAA,YAChDoE,GAAWa,MAAOQ,MAAOzF,EAAOyF,YACjB7D,OAAQ5B,EAAOiG,MAAOpE,SAAazD,WAAgBM,GAAON,WAAgB8D,WAAYkC,IAEnGpE,EAAOmJ,OAAQ,GACXA,OAAO/K,OAAS,gCAEjBgL,EAAUC,EAAWrJ,EAAOmJ,QAE5BG,EAAsB1F,EAAE,gBACrB,wCACD,SAEPA,EAAE,OACD5D,EAAOmJ,OAAOI,gBAIIjL,iBAAiB,QAAS,SAAC2B,KACpCmE,EAAU,6BACVA,UACAI,QACF,cACD,6BAKN4E,EACDE,KAGW9E,EACX4E,KAGQ9K,iBAAiB,QAAS,SAAC2B,GAC/B,SAAWmE,EAASoF,aAAa,oBAC1BJ,EAAYpJ,EAAOmJ,OAAO/K,iBAAiB6B,eAMlD0D,GCtFFvF,EAAS,oCAMRoG,EAAWZ,EAAE,aACRxF,gBACHA,mBACAkG,UAAU,EAAOY,WAAe9G,gBAGlCqL,EAAmB7F,EAAE,cACnB,4BACO,sBAMT8F,EAAoB9F,EAAE,gBACjBxF,2BAAgCM,GAAON,eAG5CuL,EAAY/F,EAAE,aACZ,eAGU5B,OAAO2H,OAEnBvF,EAAWsF,IAECpL,iBAAiB,QAAS,SAAC2B,KAClCmE,EAAU,qBAAsBnE,UAGtCA,EAAMH,OAAO8J,UAAUC,SAAYzL,0BAE7BgG,EAAU,4BACZ,cACCT,OACF,sBACGS,UACAI,kBAQLb,EAAUC,EAAE,OAAQxB,MAAOhE,GAChCgG,GAMK0F,EAAyB,SAACC,EAAkBC,OAC3CC,GAAqB,MAAO,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,QAEpEC,EAAWtG,EAAE,UACb,SACKxF,2DACJ,aAGD+L,EAAUvG,EAAE,UACXoG,EAAWjJ,WACT,eACD,eAGJiJ,EAAW/D,MAAO,KACfmE,EAAoBxG,EAAE,OAAQxB,MAAS,oBAC5BR,OAAQoI,EAAW/D,MAAOnE,SAAU,GAAIC,UAAW,GAAIG,WAAYkI,MAC5EpI,OAAOoI,OACT,KACAC,EAAcC,KAAKC,MAAMC,EAAaR,EAAWS,MAAQ,GAAI,UAAY,GAC3EC,EAAmBT,EAAkBI,GACrCA,EAAc,MACNI,KAAOT,EAAWS,KAAKE,OAAO,EAAG,KACzBV,EAAkB,QAEhCW,EAAahH,EAAE,OAAQxB,MAAS,iBAChCyI,EAAcjH,EAAE,4BACA8G,QACd,yBACLV,EAAWS,QACHzI,OAAO6I,KACP7I,OAAOP,GAAiBG,OAAQoI,EAAWc,gBAAiBhJ,SAAU,GAAIC,UAAW,QACxFC,OAAO4I,OAEVG,EAAInH,EAAE,KAAMqE,MAAO,oCAAqC+B,EAAWvE,SACjEzD,OAAO+I,KACN/I,OAAOmI,KACCnI,OAAOkI,IAGnBM,EAAe,SAAfA,EAAgBQ,EAAMC,OAErBC,GADSV,EAAaW,SAAWX,EAAaW,OAASvM,SAASC,cAAc,YAC7DuM,WAAW,eAC1BH,KAAOA,EACCC,EAAQG,YAAYL,GACrB1I,gBAMRhE,iBAAiB,qBAAsB,gBAAE0B,IAAAA,kBACxCsL,IAAI,UAAWtL,MAEN4B,OAAQ5B,EAAOiG,MAAMsF,KAAMzJ,SAAU9B,EAAOiG,MAAM3D,MAAOP,UAAW/B,EAAOiG,MAAM1D,OAAQV,SAAazD,WAAgB8D,WAAYuH,IAE/IzJ,EAAOwL,MAAO,GACTtM,YAAYsF,KACXiH,UAAerN,eAEtBgG,GAAWa,MAAOQ,MAAOzF,EAAOyF,aAa7B,IAXCiG,EAAe1L,EAAOwL,MAAM/I,OAC5BkJ,sBAAoCD,EAAe,EAAIA,EAAe,GAItE3B,EAAmBnG,EAAE,YAChBxF,wCACJ,SAGDwN,EAAmBF,GAAgB,IAAM,IAAMA,EAC5CG,EAAI,EAAGA,EAAID,EAAkBC,GAAK,IACnB9B,EAAkB/J,EAAOwL,MAAMK,QAIjDC,EAAmBlI,EAAE,OAAQxB,MAAUhE,uBAA4B2L,GAEnEgC,EAAenI,EAAE,aACZxF,+EAAmFuN,OACvF,QACJG,KAESnC,EAAWF,EAAkBsC,MAIpCpI,cC9IQ+C,OACXsF,SACAC,SAKEC,EAAgBtI,EAAE,gBAChB,8BACG,WACHrC,MAAM,OAGAjD,iBAAiB,QAAS,aAC7B4N,EAAe,2BAMpBC,EAASC,IACTC,EAAWC,IACXC,EAASC,IACT9E,EAAU+E,IACVC,EAAQC,IAERC,EAAUhJ,EAAE,OAAQxB,MAAO,sBAChCiK,GAGKQ,EAAajJ,EAAE,OAAQxB,MAAO,0BAE9B0K,EAAUlJ,EAAE,OAAQxB,uBAAuBsE,EAAKqG,OAAS,QAC9Db,EACAC,EACAI,EACA7E,EACAmF,EACAH,EACAE,KAGgBE,KAKTxO,iBAAiB,gBAAiB,gBAAE0B,IAAAA,OACvCA,EAAOgN,SACAb,EAAQ,sBAAuBnM,EAAOgN,OAG7ChN,EAAOkG,SACAqG,EAAQ,sBAAuBvM,EAAOkG,OAG7ClG,EAAOiN,UACAvF,EAAS,uBAAwB1H,EAAOiN,QAG/CjN,EAAOkN,WACAN,EAAQtN,UAAW,wBAAyBU,EAAOkN,SAG1DlN,EAAOkN,WACAN,EAAQtN,UAAW,wBAAyBU,EAAOkN,SAG1DlN,EAAOmN,QACAT,EAAO,qBAAsB1M,EAAOmN,QAGvCrE,cAAcC,YAAYzK,iBAAiB,UAAW,YACzD,OAD2D8O,WAEpDN,EAAS,2BAQdxO,iBAAiB,qBAAsB,gBAAE0B,IAAAA,OAE1CqN,EADoB,SAAWrN,EAAOsN,QAAQ9D,aAAa,iBAC3B,mBAAqB,sBAEjDxJ,EAAOsN,QAASD,EAAWrN,SAMlCuN,EAAgB,KAChBC,EAAe,KACfC,EAAc,KACdC,EAAa,KACbC,EAAa,cAETrP,iBAAiB,mBAAoB,gBAAE0B,IAAAA,OACxC4N,EAAe,gBAAkB5N,EAAOD,OAG5CC,EAAOsN,SAAUrI,MAAOX,UAAU,OAClCtE,EAAO6N,SAAU5I,MAAOX,UAAU,EAAMkB,QAAQ,KAE9CkI,GAAcA,EAAWJ,UAAYtN,EAAOsN,WACrCI,EAAWJ,QAAS,oBAAqBI,GAGhD,gBAAkB1N,EAAOD,SACfC,GAGV0H,IAAY1H,EAAOF,SACPE,EACLwN,MACA9F,EAAS,oBAAqB8F,KAEzB,MAGZjB,IAAWvM,EAAOF,SACPE,GACJyN,GAAgBG,GAAiB5B,EAAgB8B,YACjDvB,EAAQ,oBAAqBkB,KAEzB,MAGXpB,IAAarM,EAAOF,SACPE,EACNuN,MACAlB,EAAU,oBAAqBkB,KAEzB,MAGbb,IAAU1M,EAAOF,SACPE,EACH2N,MACAjB,EAAO,oBAAqBiB,KAEzB,QAIZzB,GAAgBxF,MAAOnF,MAAM,EAAMwM,MAAO/N,EAAO+N,WAGjDjB,EAAQhE,cAAckF,iBAAkBtH,MAAOuH,kBAAkB,SAM5D3P,iBAAiB,oBAAqB,gBACvC4P,IADyClO,QACfyN,GAAeD,GAAgBD,GAAiBI,GAAcD,KAE1FQ,EAAe,GAEhBA,EAAcZ,SAAUrI,MAAOX,UAAU,OACzC4J,EAAcL,SAAU5I,MAAOX,UAAU,EAAOkB,QAAQ,SAEpD2I,GAAqBlC,EAAsB6B,SAAW,eAAiBI,EAAcnO,MAAQ,kBAAoBmO,EAAcnO,KAEjIyN,GAAgBA,EAAaF,UAAYY,EAAcZ,WAChDE,EAAaK,QAAQvO,UAAW,SAGvC6O,MAEDjC,GAAgBxF,MAAOnF,MAAM,OAGvBuH,cAAckF,gBAAgBvN,gBAAgB,6BAQjDnC,iBAAiB,kBAAmB,SAAS8P,aAyC3CC,QACF/L,EAAQgM,EAAgBN,gBAAgBO,YACxChM,EAAS+L,EAAgBN,gBAAgBQ,aACzCC,EAAeH,EAAgBN,gBAAgBS,eAEzCC,iBAAiBJ,EAAgBN,iBAAiBW,UAAUC,QAAQ,UAAWH,EAAelM,EAAS,SAAW,aAElHsM,qBACQvM,kBAAqBC,oCAAwCD,eAAkBC,mBAAuBoM,gBAIlHG,IACJ9C,EAAgB8B,WACThB,EAAS,yBAEZxN,UAAUJ,YAAYmN,OAEnBS,EAAS,6BAEX5N,YAAYmN,aAIb0C,IACJ9C,EAAsB6B,WACfhB,EAAS,0BAEjBP,EAAOjN,WAAY2F,MAAOO,OAAQ,UAAY+G,EAAOjN,UAAUkK,aAAa,wBAEpEsD,EAAS,8BAEjBP,EAAOjN,WAAY2F,MAAOO,QAAQ,UAvEhC8I,EAAkBxB,EAAQhE,cAC1BkG,EAAgBV,EAAgBvF,YAEhC8F,EAASjL,EAAE,SAEb+K,SAEA7B,EAAQzN,eAEHwJ,oBAAoB,kBAAmBuF,KAGrCtB,EAAS,gBAAiBpG,KAKlC4H,EAAgBW,KACjBJ,KAGavQ,iBAAiB,oBAAqB+P,KACtC/P,iBAAiB,SAAU+P,SAOvBW,EAAchG,WAAW,wBACnBgG,EAAchG,WAAW,yBAEjCC,YAAY6F,KACN7F,YAAY8F,cA2C7BjC,cC5QQpG,EAAMtI,UAAWwF,EAAE,OAAQxB,MAAUhE,YACpDwF,EAAE,WAEUxF,qBACJsI,EAAKN,WACJX,MAAOiB,EAAKjB,QAEpBhE,GAAiBG,OAAQ8E,EAAK6E,KAAM1J,SAAazD,iCCLnCsI,OACTwI,EAAUtL,gBAAE,gBAEN8C,EAAKtI,2BACJ,SACJqH,MAAOiB,EAAKyI,yBAEjBzI,EAAK0I,QAAQtM,IACf,SAACuM,UAAWzL,EAAE,UAAW2D,MAAO8H,EAAO9H,OAAQ8H,EAAO5J,YAIlD6J,EAAY1L,EAAE,cACX8C,EAAKtI,aACL8G,WAAewB,EAAKtI,kBAAkBmR,YAAa,uBAE3D3L,EAAE,KAAMxB,MAAUsE,EAAKtI,kBAAkBM,GAAOgI,EAAKtI,mBACpDwF,EAAE,SAAU8C,EAAK8I,eACjB,IACA9I,EAAK+I,cAENP,EACAtL,EAAE,gBACS8C,EAAKtI,sBACT,eACCqH,MAAUiB,EAAK+B,gBAAe/B,EAAKyI,eACxCzI,EAAK+B,uBAGCnK,iBAAiB,SAAU,SAAC2B,KAC/ByP,wBAECC,SAASvJ,KAAO8I,EAAQ3H,QAGzB+H,cC9BQ5I,EAAMtI,YAwCZwR,EAAY3P,KACdyP,mBAEJG,SACMvL,UAAU,SA1CbwL,EAAalR,SAASO,eAAeuH,EAAKqJ,aAC1C3L,EAAWR,EAAE,UAAWxB,MAAUhE,sBAA2B4R,gBAAoB5R,eAAoB0R,GACrGG,EAAWrM,EAAE,OAAQxB,MAAUhE,eAAoBgG,KAEhD9F,iBAAiB,iBA0BN2B,KACbyP,mBAEJG,SACMvL,UAAU,SA3BdlG,OAAYA,yBAEX8R,EAAkBC,EAAezJ,GAGjC0J,EAAuBxM,EAAE,gBACpBxF,2BAAgCM,GAAI,+BACnCgI,EAAK2J,eAGI/R,iBAAiB,QAASsR,KAE7CM,EAAiBE,OAGbE,EAAgB1M,EAAE,gBACbxF,wCACJ,mBACK,MAGEE,iBAAiB,QAASsR,OAmBlCC,EAAUjM,EAAE,aACPxF,mCACHkG,UAAU,IACf4L,EAAiBI,YAGXhS,iBAAiB,QAAS,aACxB8F,EAAU,wBAAyBsC,OAIrCpI,iBAAiB,yBAA0B,gBAAE0B,IAAAA,SAC1C0F,UAAY1F,EAAO+P,cAErBjH,cAAcyH,KAAKrR,YAC3B2Q,KAGQ/G,cAAcC,YAAYzK,iBAAiB,UAAW,WAC1D,6DADuE2B,OAAXmN,WAEnDnN,WAKRgQ,cC9EQvJ,EAAMtI,YA8DZoS,IACJC,IAAiBC,EAAM5C,YACX4C,EAAM5C,UAEf7O,QAAQ,SAAC0R,GACVF,IACcE,EAAKC,cAEHD,EAAKC,wBAOnBC,EAAiBF,OACnBG,EAAY,SAAWH,EAAKI,mBAAmBvH,aAAa,iBAEhEmH,YACS,OACJ,SAAU1L,MAAOX,UAAWwM,EAAWvM,UAAWuM,OAGpDxS,iBAAiB,QAAS0S,KAC1B1S,iBAAiB,WAAY2S,KAEhCN,EAAKI,oBAAqB9L,MAAOO,QAAQ,cAInC0L,EAAmBP,KACtBlQ,gBAAgB,mBAChBA,gBAAgB,mBAChBA,gBAAgB,mBAChBA,gBAAgB,UAChBA,gBAAgB,cAEhBnC,iBAAiB,QAAS0S,KAC1B1S,iBAAiB,WAAY2S,KAE7BF,mBAAmBtQ,gBAAgB,wBAIhCuQ,EAAQ/Q,OACVkR,EAAgBlR,EAAMkR,cACtBC,EAAaD,EAAcJ,mBAC3BD,EAAY,SAAWM,EAAW5H,aAAa,iBAEnD2H,GAAgBlM,MAAOX,UAAWwM,EAAWvM,UAAWuM,OAExDM,GAAanM,MAAOO,OAAQsL,KAE1BA,IACDK,GAAgBlM,MAAOZ,SAAU,OAEjC8M,GAAgBlM,MAAOZ,SAAU+M,EAAW1S,eAKvCuS,EAAWhR,GACG,KAAlBA,EAAMmN,SAAoC,KAAlBnN,EAAMmN,YAC3BsC,mBAEIzP,EAAMkR,cAAe,cA7H3BT,EAAQ1H,WAAW,sBAErByH,GAAe,IAEbxH,YAAYuH,OAGZa,EAAQ3K,EAAKJ,KAAKxD,IACvB,SAACqD,EAAMmL,UAAU1N,EAAE,MAAOxB,MAAUhE,eAAoBM,GAAON,iBAAqBkT,GACnF1N,EAAE,cAEUxF,oBACJ,WAEP+H,EAAKV,SAGJ,aAEUrH,eAAoBM,GAAON,iBAAqBkT,QACnDpM,WAAe9G,iBAAqBkT,IAE5C1N,gBAAE,YAEUxF,yBACJ,0BAGJ+H,EAAKG,KAAKxD,IACZ,SAACyO,UAAY3N,EAAE,MAAOxB,MAAUhE,qBAC/BwF,EAAE,KAAMxB,MAAUhE,oBAAyBgI,KAAMmL,EAAQnL,MACxDmL,EAAQ9L,iBAUT9B,EAAUC,EAAE,aAENxF,gBACHqH,MAAOiB,EAAKjB,QAEpB7B,gBAAE,YAEUxF,oBACJ,0BAEJiT,iBAME1N,cCzDQ+C,EAAMtI,UACrBwF,EAAE,OAAQxB,MAAUhE,UAAe6G,MAAOQ,MAAOiB,EAAKjB,QACrD7B,gBAAE,MAAOxB,MAAUhE,eAAoBiE,KAAM,0BACzCqE,EAAKJ,KAAKxD,IACZ,SAACqD,EAAMmL,UAAU1N,EAAE,MAAOxB,MAAUhE,eAAoBM,GAAON,iBAAqBkT,GACnF1N,EAAE,KAAMxB,MAAUhE,eAAoBgI,KAAMD,EAAKC,MAChDD,EAAKV,0BCZKiB,EAAMtI,OACfoT,EAAe5S,SAASe,kCAGzB2G,KAAKrH,QAAQ,SAACkH,UAASvC,EAAE4N,EAC7B5N,EAAE,MAAOxB,MAAUhE,kBAClBwF,EAAE,WAEUxF,mBAAuB+H,EAAKV,MAAMgM,mBACtCtL,EAAKC,WACJX,MAAOU,EAAKV,QAEpBhE,GAAiBG,OAAQuE,EAAKF,MAAMsF,KAAM1J,SAAazD,kBAAuB0D,SAAU,GAAIC,UAAU,GAAIE,QAAUkE,EAAKF,MAAMhE,eAI3H2B,EAAE,OACPxB,MAAUhE,YAAiB6G,MAAOQ,MAAOiB,EAAKjB,QAC/C7B,EAAE,MAAOxB,MAAUhE,iBAAsBiE,KAAM,gBAC9CmP,gBCVa9K,OACTtI,EAASsI,EAAKtI,QAAU,cAKxBsT,EAAe1E,EAAMtG,EAAKsG,MAAO5O,GACjCuT,EAAcC,EAAKlL,EAAKkL,KAAMxT,GAC9ByT,EAAkBC,EAASpL,EAAKoL,SAAU1T,GAC1C2T,EAAczL,EAAKI,EAAKJ,KAAMlI,GAC9B4T,EAAgBC,EAAOvL,EAAKuL,OAAQ7T,GAEpC8T,EAAUtO,EAAE,gBAETxF,QACAqH,MAAOiB,EAAKjB,UAMlB,OAAQrD,MAAUhE,iBACnBsT,EACAM,GAEDpO,EAAE,OAAQxB,MAAUhE,iBACnB2T,GAEDnO,EAAE,OAAQxB,MAAUhE,iBACnByT,EACAF,aAOMrT,iBAAiB,kBAAmB,SAASsK,MAE5CC,oBAAoB,kBAAmBD,KAGvCtK,iBAAiB,UAAW,eAC7B6T,EAAUD,EAAQpJ,cAAckF,gBAAgBS,aAAeyD,EAAQzD,aAEzE0D,EAAUD,EAAQpJ,cAAcC,YAAYqJ,eACvCtJ,cAAcC,YAAYsJ,SAAS,EAAGF,OAKtCD,EAAS,gBAAiBxL,OAGpBwL,KAKT5T,iBAAiB,gBAAiB,qBAyBhCgU,QACF9M,EAAS,EAAI+M,OAAOH,cAExBF,GAAUxL,MAAOlB,gBA5BuBxF,IAAAA,OACvCA,EAAOgN,SACA0E,EAAc,sBAAuB1R,EAAOgN,OAGnDhN,EAAO4R,QACAD,EAAa,qBAAsB3R,EAAO4R,MAGjD5R,EAAO8R,YACAD,EAAiB,yBAA0B7R,EAAO8R,UAGzD9R,EAAOsG,QACAyL,EAAa,qBAAsB/R,EAAOsG,MAGjDtG,EAAOiS,UACAD,EAAe,uBAAwBhS,EAAOiS,UAGjDnJ,cAAcC,YAAYzK,iBAAiB,SAAUgU,SAWvDJ,iBdnGDM,YAAcC,OAAQrP,GAC7BmP,OAAOG,YAAcD,OAAQhP,iBAedT,eACAO,SACN,gBAAEoP,IAAAA,UAAWC,IAAAA,UAAW1P,IAAAA,YAClBA,WAAUD,UAAY0P,OACtBzP,WAAUD,UAAY2P","preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjpudWxsLCJzb3VyY2VzIjpbIi9Vc2Vycy9wYXVsY3BlZGVyc29uL0RvY3VtZW50cy9TYW5kYm94L2dsb2JhbC1uYXYvbm9kZV9tb2R1bGVzL2RvbW9zZS9kb21vc2UuanMiLCIvVXNlcnMvcGF1bGNwZWRlcnNvbi9Eb2N1bWVudHMvU2FuZGJveC9nbG9iYWwtbmF2L3NyYy9zaGFyZWQvanMvc2hhcmVkLmpzIiwiL1VzZXJzL3BhdWxjcGVkZXJzb24vRG9jdW1lbnRzL1NhbmRib3gvZ2xvYmFsLW5hdi9zcmMvZXNyaS1nbG9iYWwtbmF2LmpzIiwiL1VzZXJzL3BhdWxjcGVkZXJzb24vRG9jdW1lbnRzL1NhbmRib3gvZ2xvYmFsLW5hdi9zcmMvaGVhZGVyL2pzL2hlYWRlci1hY2NvdW50LmpzIiwiL1VzZXJzL3BhdWxjcGVkZXJzb24vRG9jdW1lbnRzL1NhbmRib3gvZ2xvYmFsLW5hdi9zcmMvaGVhZGVyL2pzL2hlYWRlci1icmFuZC5qcyIsIi9Vc2Vycy9wYXVsY3BlZGVyc29uL0RvY3VtZW50cy9TYW5kYm94L2dsb2JhbC1uYXYvc3JjL2hlYWRlci9qcy9oZWFkZXItbWVudXMuanMiLCIvVXNlcnMvcGF1bGNwZWRlcnNvbi9Eb2N1bWVudHMvU2FuZGJveC9nbG9iYWwtbmF2L3NyYy9zZWFyY2gvanMvc2VhcmNoLmpzIiwiL1VzZXJzL3BhdWxjcGVkZXJzb24vRG9jdW1lbnRzL1NhbmRib3gvZ2xvYmFsLW5hdi9zcmMvaGVhZGVyL2pzL2hlYWRlci1zZWFyY2guanMiLCIvVXNlcnMvcGF1bGNwZWRlcnNvbi9Eb2N1bWVudHMvU2FuZGJveC9nbG9iYWwtbmF2L3NyYy9oZWFkZXIvanMvaGVhZGVyLWFwcHMuanMiLCIvVXNlcnMvcGF1bGNwZWRlcnNvbi9Eb2N1bWVudHMvU2FuZGJveC9nbG9iYWwtbmF2L3NyYy9oZWFkZXIvanMvaGVhZGVyLmpzIiwiL1VzZXJzL3BhdWxjcGVkZXJzb24vRG9jdW1lbnRzL1NhbmRib3gvZ2xvYmFsLW5hdi9zcmMvZm9vdGVyL2pzL2Zvb3Rlci1icmFuZC5qcyIsIi9Vc2Vycy9wYXVsY3BlZGVyc29uL0RvY3VtZW50cy9TYW5kYm94L2dsb2JhbC1uYXYvc3JjL2Zvb3Rlci9qcy9sYW5ndWFnZS5qcyIsIi9Vc2Vycy9wYXVsY3BlZGVyc29uL0RvY3VtZW50cy9TYW5kYm94L2dsb2JhbC1uYXYvc3JjL2Zvb3Rlci9qcy9mb290ZXItbGFuZ3VhZ2UuanMiLCIvVXNlcnMvcGF1bGNwZWRlcnNvbi9Eb2N1bWVudHMvU2FuZGJveC9nbG9iYWwtbmF2L3NyYy9mb290ZXIvanMvZm9vdGVyLW1lbnUuanMiLCIvVXNlcnMvcGF1bGNwZWRlcnNvbi9Eb2N1bWVudHMvU2FuZGJveC9nbG9iYWwtbmF2L3NyYy9mb290ZXIvanMvZm9vdGVyLWluZm8uanMiLCIvVXNlcnMvcGF1bGNwZWRlcnNvbi9Eb2N1bWVudHMvU2FuZGJveC9nbG9iYWwtbmF2L3NyYy9mb290ZXIvanMvZm9vdGVyLXNvY2lhbC5qcyIsIi9Vc2Vycy9wYXVsY3BlZGVyc29uL0RvY3VtZW50cy9TYW5kYm94L2dsb2JhbC1uYXYvc3JjL2Zvb3Rlci9qcy9mb290ZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyogU3BlY3VsYXRpdmUgRE9NIEZ1bmN0aW9uYWxpdHlcbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbmZ1bmN0aW9uIF9fYXNzaWduU291cmNlKGVsZW1lbnQsIHNvdXJjZSwgcHJlZml4KSB7XG5cdGZvciAobGV0IGtleSBpbiBzb3VyY2UpIHtcblx0XHRpZiAoJ2Z1bmN0aW9uJyA9PT0gdHlwZW9mIHNvdXJjZVtrZXldKSB7XG5cdFx0XHQvLyBhZGQgZnVuY3Rpb25zIGFzIGV2ZW50IGxpc3RlbmVyc1xuXHRcdFx0ZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKHByZWZpeCArIGtleSwgc291cmNlW2tleV0pO1xuXHRcdH0gZWxzZSBpZiAoT2JqZWN0KHNvdXJjZVtrZXldKSA9PT0gc291cmNlW2tleV0pIHtcblx0XHRcdC8vIGFzc2lnbiBvYmplY3RzIGFzIHNvdXJjZVxuXHRcdFx0X19hc3NpZ25Tb3VyY2UoZWxlbWVudCwgc291cmNlW2tleV0sIGAke3ByZWZpeCArIGtleX0tYCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIG90aGVyd2lzZSwgc2V0IGF0dHJpYnV0ZXNcblx0XHRcdGVsZW1lbnQuc2V0QXR0cmlidXRlKHByZWZpeCArIGtleSwgc291cmNlW2tleV0pO1xuXHRcdH1cblx0fVxufVxuXG4vKiBBc3NpZ24gYW4gZWxlbWVudCB3aXRoIGF0dHJpYnV0ZXMsIGV2ZW50cywgYW5kIGNoaWxkcmVuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5mdW5jdGlvbiAkYXNzaWduKGlkKSB7XG5cdC8vICRhc3NpZ24oZWxlbWVudCwgeyBjbGFzczogJ2J0bicsIGNsaWNrOiAoKSA9PiB7IC8qIGxpc3RlbmVyICovIH0gfSk7XG5cdC8vICRhc3NpZ24oJ2J1dHRvbicsIHsgYXJpYTogeyBsYWJlbDogJ3RpdGxlJyB9IH0sIGNoaWxkKTtcblx0Ly8gJGFzc2lnbignZGl2JywgY2hpbGQxLCBjaGlsZDIsICdhIG5ldyB0ZXh0IG5vZGUnKTtcblx0Ly8gJGFzc2lnbihkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ3N2ZycpKTtcblxuXHRjb25zdCBlbGVtZW50ID0gaWQgaW5zdGFuY2VvZiBOb2RlID8gaWQgOiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KGlkKTtcblxuXHRbXS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSkuZm9yRWFjaCgoc291cmNlKSA9PiB7XG5cdFx0aWYgKHNvdXJjZSBpbnN0YW5jZW9mIE5vZGUpIHtcblx0XHRcdC8vIGFwcGVuZCBzb3VyY2VzIHRoYXQgYXJlIG5vZGVzXG5cdFx0XHRlbGVtZW50LmFwcGVuZENoaWxkKHNvdXJjZSk7XG5cdFx0fSBlbHNlIGlmICgnc3RyaW5nJyA9PT0gdHlwZW9mIHNvdXJjZSkge1xuXHRcdFx0Ly8gYXBwZW5kIHN0cmluZ3MgYXMgdGV4dCBub2Rlc1xuXHRcdFx0ZWxlbWVudC5hcHBlbmRDaGlsZChcblx0XHRcdFx0ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoc291cmNlKVxuXHRcdFx0KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0X19hc3NpZ25Tb3VyY2UoZWxlbWVudCwgc291cmNlLCAnJyk7XG5cdFx0fVxuXHR9KTtcblxuXHRyZXR1cm4gZWxlbWVudDtcbn1cblxuLyogRGlzcGF0Y2ggYW4gZXZlbnQgZnJvbSBhbiBFbGVtZW50XG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5mdW5jdGlvbiAkZGlzcGF0Y2hFdmVudChlbGVtZW50LCBldmVudCkge1xuXHQvLyAkZGlzcGF0Y2hFdmVudChlbGVtZW50LCBuZXcgQ3VzdG9tRXZlbnQoJ2ZvbycsIHsgYnViYmxlczogdHJ1ZSB9KSk7XG5cdC8vICRkaXNwYXRjaEV2ZW50KGVsZW1lbnQsICdmb28nLCB7IGJ1YmJsZXM6IHRydWUgfSk7XG5cblx0cmV0dXJuIGVsZW1lbnQuZGlzcGF0Y2hFdmVudChcblx0XHRldmVudCBpbnN0YW5jZW9mIEV2ZW50ID8gZXZlbnQgOiAkQ3VzdG9tRXZlbnQoZXZlbnQsIGFyZ3VtZW50c1sxXSlcblx0KTtcbn1cblxuLyogUmVwbGFjZSBhbGwgdGhlIGNoaWxkcmVuIG9mIGEgcGFyZW50IG5vZGUgd2l0aCBuZXcgY2hpbGRyZW5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbmZ1bmN0aW9uICRyZXBsYWNlQWxsKHBhcmVudE5vZGUpIHtcblx0Ly8gJHJlcGxhY2VBbGwoZWxlbWVudCk7XG5cdC8vICRyZXBsYWNlQWxsKGVsZW1lbnQsIGNoaWxkMSwgY2hpbGQyKTtcblxuXHR3aGlsZSAocGFyZW50Tm9kZS5sYXN0Q2hpbGQpIHtcblx0XHRwYXJlbnROb2RlLnJlbW92ZUNoaWxkKHBhcmVudE5vZGUubGFzdENoaWxkKTtcblx0fVxuXG5cdHBhcmVudE5vZGUuYXBwZW5kQ2hpbGQoXG5cdFx0X19hc0ZyYWdtZW50KGFyZ3VtZW50cylcblx0KTtcblxuXHRyZXR1cm4gcGFyZW50Tm9kZTtcbn1cblxuLyogV3JhcCBhIGNoaWxkIG5vZGUgd2l0aGluIGFuIGVsZW1lbnRcbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbmZ1bmN0aW9uICR3cmFwV2l0aChjaGlsZE5vZGUsIGVsZW1lbnQpIHtcblx0Ly8gJHdyYXBXaXRoKGVsZW1lbnQsIHdyYXBwaW5nRWxlbWVudCk7XG5cblx0aWYgKGNoaWxkTm9kZS5wYXJlbnROb2RlKSB7XG5cdFx0Y2hpbGROb2RlLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGVsZW1lbnQsIGNoaWxkTm9kZSkuYXBwZW5kQ2hpbGQoY2hpbGROb2RlKTtcblx0fVxuXG5cdHJldHVybiBjaGlsZE5vZGU7XG59XG5cbi8qIEVtZXJnaW5nIERPTSBGdW5jdGlvbmFsaXR5XG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5mdW5jdGlvbiBfX2FzRnJhZ21lbnQobm9kZXMpIHtcblx0Y29uc3QgZnJhZ21lbnQgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XG5cblx0W10uc2xpY2UuY2FsbChub2RlcywgMSkuZm9yRWFjaCgobm9kZSkgPT4ge1xuXHRcdGlmIChub2RlIGluc3RhbmNlb2YgTm9kZSkge1xuXHRcdFx0ZnJhZ21lbnQuYXBwZW5kQ2hpbGQobm9kZSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGZyYWdtZW50LmFwcGVuZENoaWxkKFxuXHRcdFx0XHRkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShub2RlKVxuXHRcdFx0KTtcblx0XHR9XG5cdH0pO1xuXG5cdHJldHVybiBmcmFnbWVudDtcbn1cblxuLyogSW5zZXJ0IG5vZGVzIGFmdGVyIGEgY2hpbGQgbm9kZVxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuZnVuY3Rpb24gJGFmdGVyKGNoaWxkTm9kZSkge1xuXHQvLyAkYWZ0ZXIoZWxlbWVudCwgc2libGluZzEsIHNpYmxpbmcyLCAnYSBuZXcgdGV4dCBub2RlJyk7XG5cblx0aWYgKGNoaWxkTm9kZS5wYXJlbnROb2RlKSB7XG5cdFx0Y2hpbGROb2RlLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKFxuXHRcdFx0X19hc0ZyYWdtZW50KGFyZ3VtZW50cyksXG5cdFx0XHRjaGlsZE5vZGUubmV4dFNpYmxpbmdcblx0XHQpO1xuXHR9XG5cblx0cmV0dXJuIGNoaWxkTm9kZTtcbn1cblxuLyogQXBwZW5kcyBub2RlcyB0byBhIHBhcmVudCBub2RlXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5mdW5jdGlvbiAkYXBwZW5kKHBhcmVudE5vZGUpIHtcblx0Ly8gJGFwcGVuZChwYXJlbnROb2RlLCBjaGlsZDEsIGNoaWxkMiwgJ2EgbmV3IHRleHQgbm9kZScpO1xuXG5cdHBhcmVudE5vZGUuYXBwZW5kKFxuXHRcdF9fYXNGcmFnbWVudChhcmd1bWVudHMpXG5cdCk7XG5cblx0cmV0dXJuIHBhcmVudE5vZGU7XG59XG5cbi8qIEluc2VydCBub2RlcyBiZWZvcmUgYW4gZWxlbWVudFxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuZnVuY3Rpb24gJGJlZm9yZShlbGVtZW50KSB7XG5cdC8vICRiZWZvcmUoZWxlbWVudCwgc2libGluZzEsIHNpYmxpbmcyLCAnYSBuZXcgdGV4dCBub2RlJyk7XG5cblx0aWYgKGVsZW1lbnQucGFyZW50Tm9kZSkge1xuXHRcdGVsZW1lbnQucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoXG5cdFx0XHRfX2FzRnJhZ21lbnQoYXJndW1lbnRzKSxcblx0XHRcdGVsZW1lbnRcblx0XHQpO1xuXHR9XG5cblx0cmV0dXJuIGVsZW1lbnQ7XG59XG5cbi8qIFJldHVybiB0aGUgY2xvc2VzdCBhbmNlc3RvciBlbGVtZW50IG1hdGNoaW5nIGEgZ2l2ZW4gc2VsZWN0b3Jcbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbmZ1bmN0aW9uICRjbG9zZXN0KGVsZW1lbnQsIHNlbGVjdG9ycykge1xuXHQvLyAkY2xvc2VzdChlbGVtZW50LCBzZWxlY3RvcnMpO1xuXG5cdGxldCB0YXJnZXQgPSBlbGVtZW50O1xuXG5cdHdoaWxlICh0YXJnZXQgJiYgMSA9PT0gdGFyZ2V0Lm5vZGVUeXBlKSB7XG5cdFx0aWYgKCRtYXRjaGVzKHRhcmdldCwgc2VsZWN0b3JzKSkge1xuXHRcdFx0cmV0dXJuIHRhcmdldDtcblx0XHR9XG5cblx0XHR0YXJnZXQgPSB0YXJnZXQucGFyZW50Tm9kZTtcblx0fVxuXG5cdHJldHVybiBudWxsO1xufVxuXG4vKiBSZXR1cm4gd2hldGhlciBvciBub3QgYSBET00gZWxlbWVudCBtYXRjaGVzIGEgZ2l2ZW4gc2VsZWN0b3Jcbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbmZ1bmN0aW9uICRtYXRjaGVzKGVsZW1lbnQsIHNlbGVjdG9ycykge1xuXHQvLyAkbWF0Y2hlcyhlbGVtZW50LCBzZWxlY3RvcnMpO1xuXG5cdGNvbnN0IGVsZW1lbnRzID0gZWxlbWVudC5wYXJlbnROb2RlLnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3JzKTtcblxuXHRsZXQgaW5kZXggPSAwO1xuXG5cdHdoaWxlIChlbGVtZW50c1tpbmRleF0gJiYgZWxlbWVudHNbaW5kZXhdICE9PSBlbGVtZW50KSB7XG5cdFx0KytpbmRleDtcblx0fVxuXG5cdHJldHVybiBCb29sZWFuKGVsZW1lbnRzW2luZGV4XSk7XG59XG5cbi8qIFByZXBlbmRzIGEgY2hpbGQgdG8gYSBwYXJlbnQgbm9kZVxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuZnVuY3Rpb24gJHByZXBlbmQocGFyZW50Tm9kZSkge1xuXHQvLyAkcHJlcGVuZChlbGVtZW50LCBjaGlsZDEsIGNoaWxkMiwgJ2EgbmV3IHRleHQgbm9kZScpO1xuXG5cdHBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKFxuXHRcdF9fYXNGcmFnbWVudChhcmd1bWVudHMpLFxuXHRcdHBhcmVudE5vZGUuZmlyc3RDaGlsZFxuXHQpO1xuXG5cdHJldHVybiBwYXJlbnROb2RlO1xufVxuXG4vKiBSZW1vdmUgYSBjaGlsZCBub2RlIGZyb20gaXRzIHBhcmVudFxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuZnVuY3Rpb24gJHJlbW92ZShjaGlsZE5vZGUpIHtcblx0Ly8gJHJlbW92ZShlbGVtZW50KTtcblxuXHRpZiAoY2hpbGROb2RlLnBhcmVudE5vZGUpIHtcblx0XHRjaGlsZE5vZGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChjaGlsZE5vZGUpO1xuXHR9XG5cblx0cmV0dXJuIGNoaWxkTm9kZTtcbn1cblxuLyogUmVwbGFjZSBhIGNoaWxkIG5vZGUgd2l0aCBub2Rlc1xuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuZnVuY3Rpb24gJHJlcGxhY2VXaXRoKGNoaWxkTm9kZSkge1xuXHQvLyAkcmVwbGFjZVdpdGgoZWxlbWVudCwgc2libGluZzEsIHNpYmxpbmcyLCAnYSBuZXcgdGV4dCBub2RlJyk7XG5cblx0aWYgKGNoaWxkTm9kZS5wYXJlbnROb2RlKSB7XG5cdFx0Y2hpbGROb2RlLnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKFxuXHRcdFx0X19hc0ZyYWdtZW50KGFyZ3VtZW50cyksXG5cdFx0XHRjaGlsZE5vZGVcblx0XHQpO1xuXHR9XG5cblx0cmV0dXJuIGNoaWxkTm9kZTtcbn1cblxuLyogRW1lcmdpbmcgRXZlbnQgRnVuY3Rpb25hbGl0eVxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuLyogQ3JlYXRlIGEgbmV3IEN1c3RvbUV2ZW50XG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5mdW5jdGlvbiAkQ3VzdG9tRXZlbnQodHlwZSkge1xuXHQvLyBlbGVtZW50LmRpc3BhdGNoRXZlbnQobmV3ICRDdXN0b21FdmVudCgnY2xpY2snLCB7IGJ1YmJsZXM6IHRydWUgfSkpO1xuXG5cdGNvbnN0IGV2ZW50ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ0N1c3RvbUV2ZW50Jyk7XG5cdGNvbnN0IHBhcmFtID0gT2JqZWN0KGFyZ3VtZW50c1sxXSkgfHwgeyBidWJibGVzOiBmYWxzZSwgY2FuY2VsYWJsZTogZmFsc2UsIGRldGFpbDogdW5kZWZpbmVkIH07XG5cblx0ZXZlbnQuaW5pdEN1c3RvbUV2ZW50KHR5cGUsIHBhcmFtLmJ1YmJsZXMsIHBhcmFtLmNhbmNlbGFibGUsIHBhcmFtLmRldGFpbCk7XG5cblx0cmV0dXJuIGV2ZW50O1xufVxuXG4vKiBGZXRjaCByZXNwb25zZSB0ZXh0IGZyb20gYSBVUkwgYW5kIHBhc3MgaXQgdG8gYSBjYWxsYmFja1xuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuZnVuY3Rpb24gJGZldGNoKHVybCwgY2FsbGJhY2spIHtcblx0Ly8gJGZldGNoKCdhcGk/Zm9vPWJhcicsIChyZXNwb25zZVRleHQpID0+IHt9KTtcblxuXHRjb25zdCB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcblxuXHR4aHIuYWRkRXZlbnRMaXN0ZW5lcigncmVhZHlzdGF0ZWNoYW5nZScsICgpID0+IHtcblx0XHRpZiAoNCA9PT0geGhyLnJlYWR5U3RhdGUgJiYgMjAwID09PSB4aHIuc3RhdHVzKSB7XG5cdFx0XHRjYWxsYmFjayh4aHIucmVzcG9uc2VUZXh0KTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBjYWxsYmFjay1yZXR1cm5cblx0XHR9XG5cdH0pO1xuXG5cdHhoci5vcGVuKCdHRVQnLCB1cmwpO1xuXHR4aHIuc2VuZCgpO1xuXG5cdHJldHVybiB4aHI7XG59XG5cbi8qIEV4cG9ydFxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuZXhwb3J0IHtcblx0JGFzc2lnbixcblx0JGFmdGVyLFxuXHQkYXBwZW5kLFxuXHQkYmVmb3JlLFxuXHQkY2xvc2VzdCxcblx0JEN1c3RvbUV2ZW50LFxuXHQkZGlzcGF0Y2hFdmVudCxcblx0JGZldGNoLFxuXHQkbWF0Y2hlcyxcblx0JHByZXBlbmQsXG5cdCRyZW1vdmUsXG5cdCRyZXBsYWNlQWxsLFxuXHQkcmVwbGFjZVdpdGgsXG5cdCR3cmFwV2l0aFxufTtcbiIsImltcG9ydCB7JGFzc2lnbiwgJHJlcGxhY2VBbGx9IGZyb20gJ2RvbW9zZSc7XG5cbi8qIERpc3BhdGNoIGFuIEN1c3RvbSBFdmVudCB3aXRoIGEgZGV0YWlsXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5mdW5jdGlvbiAkZGlzcGF0Y2godGFyZ2V0LCB0eXBlLCBkZXRhaWwpIHtcblx0Ly8gYW4gZXZlbnRcblx0Y29uc3QgZXZlbnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnQ3VzdG9tRXZlbnQnKTtcblxuXHRldmVudC5pbml0Q3VzdG9tRXZlbnQodHlwZSwgdHJ1ZSwgdHJ1ZSwgZGV0YWlsKTtcblxuXHR0YXJnZXQuZGlzcGF0Y2hFdmVudChldmVudCk7XG59XG5cbmZ1bmN0aW9uICRlbmFibGVGb2N1c1JpbmcodGFyZ2V0KSB7XG5cdC8vIHJldG9vbGVkIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL2pvbmF0aGFudG5lYWwvanMtZm9jdXMtcmluZ1xuXG5cdGxldCBrZXlib2FyZFRocm90dGxlVGltZW91dElEO1xuXG5cdGNvbnN0IGFjdGl2ZUVsZW1lbnRzID0gW107XG5cblx0dGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCAoKSA9PiB7XG5cdFx0YWN0aXZlRWxlbWVudHMuZm9yRWFjaCgoYWN0aXZlRWxlbWVudCkgPT4ge1xuXHRcdFx0YWN0aXZlRWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ2pzLWZvY3VzJyk7XG5cdFx0XHRhY3RpdmVFbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgnanMtZm9jdXMtcmluZycpO1xuXHRcdH0pO1xuXHR9LCB0cnVlKTtcblxuXHR0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCAoKSA9PiB7XG5cdFx0Y29uc3QgYWN0aXZlRWxlbWVudCA9IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7XG5cblx0XHRpZiAoYWN0aXZlRWxlbWVudCBpbnN0YW5jZW9mIEVsZW1lbnQpIHtcblx0XHRcdGFjdGl2ZUVsZW1lbnQuc2V0QXR0cmlidXRlKCdqcy1mb2N1cycsICcnKTtcblxuXHRcdFx0aWYgKGtleWJvYXJkVGhyb3R0bGVUaW1lb3V0SUQpIHtcblx0XHRcdFx0YWN0aXZlRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2pzLWZvY3VzLXJpbmcnLCAnJyk7XG5cdFx0XHR9XG5cblx0XHRcdGFjdGl2ZUVsZW1lbnRzLnB1c2goYWN0aXZlRWxlbWVudCk7XG5cdFx0fVxuXHR9LCB0cnVlKTtcblxuXHR0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsICgpID0+IHtcblx0XHRrZXlib2FyZFRocm90dGxlVGltZW91dElEID0gY2xlYXJUaW1lb3V0KGtleWJvYXJkVGhyb3R0bGVUaW1lb3V0SUQpIHx8IHNldFRpbWVvdXQoKCkgPT4ge1xuXHRcdFx0a2V5Ym9hcmRUaHJvdHRsZVRpbWVvdXRJRCA9IDA7XG5cdFx0fSwgMTAwKTtcblx0fSwgdHJ1ZSk7XG59XG5cbmZ1bmN0aW9uICRmZXRjaCh1cmwsIGNhbGxiYWNrLCBvbkVycm9yID0gKCkgPT4ge1xufSkge1xuXHRjb25zdCB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcblxuXHR4aHIuYWRkRXZlbnRMaXN0ZW5lcigncmVhZHlzdGF0ZWNoYW5nZScsICgpID0+IHtcblx0XHRpZiAoNCA9PT0geGhyLnJlYWR5U3RhdGUpIHtcblx0XHRcdGlmICgyMDAgPT09IHhoci5zdGF0dXMpIHtcblx0XHRcdFx0Y2FsbGJhY2soeGhyLnJlc3BvbnNlVGV4dCk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgY2FsbGJhY2stcmV0dXJuXG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRvbkVycm9yKCk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9KTtcblxuXHR4aHIub3BlbignR0VUJywgdXJsKTtcblx0eGhyLnNlbmQoKTtcblxuXHRyZXR1cm4geGhyO1xufVxuXG5mdW5jdGlvbiAkcmVuZGVyU3ZnT3JJbWcoe2ltZ0RlZiA9IFwiXCIsIGltZ0NsYXNzID0gXCJcIiwgaW1nV2lkdGgsIGltZ0hlaWdodCwgdmlld0JveCwgaWQsICR0YXJnZXRFbG19KSB7XG5cdGNvbnN0ICRpbWdXcmFwcGVyID0gJGFzc2lnbignc3BhbicpO1xuXG5cdGNvbnN0IHN2Z1Byb3BzID0ge2NsYXNzOiBpbWdDbGFzcywgcm9sZTogJ3ByZXNlbnRhdGlvbid9O1xuXHRpZiAoaW1nV2lkdGggJiYgaW1nSGVpZ2h0KSB7XG5cdFx0c3ZnUHJvcHMud2lkdGggPSBpbWdXaWR0aDtcblx0XHRzdmdQcm9wcy5oZWlnaHQgPSBpbWdIZWlnaHQ7XG5cdH1cblx0aWYgKHZpZXdCb3gpIHtcblx0XHRzdmdQcm9wcy52aWV3Qm94ID0gdmlld0JveDtcblx0fVxuXHRpZiAoaWQpIHtcblx0XHRzdmdQcm9wcy5pZCA9IGlkO1xuXHR9XG5cblx0aWYgKHR5cGVvZiBpbWdEZWYgPT09ICdzdHJpbmcnKSB7XG5cdFx0aWYgKGltZ0RlZi5pbmRleE9mKCcuc3ZnJykgPT09IGltZ0RlZi5sZW5ndGggLSA0KSB7XG5cdFx0XHQkZmV0Y2goaW1nRGVmLCAoc3ZnQ29udGVudHMpID0+IHtcblx0XHRcdFx0Y29uc3QgJGltZyA9ICRhc3NpZ24oXG5cdFx0XHRcdFx0ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICdzdmcnKSxcblx0XHRcdFx0XHRzdmdQcm9wc1xuXHRcdFx0XHQpO1xuXHRcdFx0XHQkaW1nLmlubmVySFRNTCA9IHN2Z0NvbnRlbnRzO1xuXHRcdFx0XHQkaW1nV3JhcHBlci5hcHBlbmQoJGltZyk7XG5cdFx0XHR9LCAoKSA9PiB7XG5cdFx0XHRcdHJlbmRlckltZ1RhZyh7JGltZ1dyYXBwZXIsIGlkLCBpbWdEZWYsIGltZ0NsYXNzLCBpbWdXaWR0aCwgaW1nSGVpZ2h0fSk7XG5cdFx0XHR9KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmVuZGVySW1nVGFnKHskaW1nV3JhcHBlciwgaWQsIGltZ0RlZiwgaW1nQ2xhc3MsIGltZ1dpZHRoLCBpbWdIZWlnaHR9KTtcblx0XHR9XG5cdH0gZWxzZSB7XG5cdFx0Y29uc3QgJGltZyA9ICRhc3NpZ24oZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICdzdmcnKSxcblx0XHRcdHN2Z1Byb3BzLFxuXHRcdFx0JGFzc2lnbihkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksXG5cdFx0XHRcdC4uLmltZ0RlZi5tYXAoXG5cdFx0XHRcdFx0KGQpID0+ICRhc3NpZ24oXG5cdFx0XHRcdFx0XHRkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ3BhdGgnKSxcblx0XHRcdFx0XHRcdHtkfVxuXHRcdFx0XHRcdClcblx0XHRcdFx0KVxuXHRcdFx0KSk7XG5cdFx0JGltZ1dyYXBwZXIuYXBwZW5kKCRpbWcpO1xuXHR9XG5cblx0aWYgKCR0YXJnZXRFbG0pIHtcblx0XHQkdGFyZ2V0RWxtLmlubmVySFRNTCA9ICcnO1xuXHRcdCR0YXJnZXRFbG0uYXBwZW5kQ2hpbGQoJGltZ1dyYXBwZXIpO1xuXHR9XG5cblx0cmV0dXJuICRpbWdXcmFwcGVyO1xuXG5cdGZ1bmN0aW9uIHJlbmRlckltZ1RhZyh7JGltZ1dyYXBwZXIsIGlkLCBpbWdEZWYsIGltZ0NsYXNzLCBpbWdXaWR0aCwgaW1nSGVpZ2h0fSkge1xuXHRcdCRpbWdXcmFwcGVyLmFwcGVuZCgkYXNzaWduKCdpbWcnLCB7XG5cdFx0XHRpZCxcblx0XHRcdHNyYzogaW1nRGVmLFxuXHRcdFx0Y2xhc3M6IGltZ0NsYXNzLFxuXHRcdFx0c3R5bGU6ICBgJHtpbWdXaWR0aCA/IGB3aWR0aDoke2ltZ1dpZHRofXB4YCA6ICcnfTsgJHtpbWdIZWlnaHQgPyBgaGVpZ2h0OiR7aW1nSGVpZ2h0fXB4YCA6ICcnfWBcblx0XHR9KSk7XG5cdH1cbn1cblxuZXhwb3J0IHtcblx0JGFzc2lnbixcblx0JGRpc3BhdGNoLFxuXHQkZW5hYmxlRm9jdXNSaW5nLFxuXHQkZmV0Y2gsXG5cdCRyZXBsYWNlQWxsLFxuXHQkcmVuZGVyU3ZnT3JJbWdcbn07XG4iLCJpbXBvcnQgY3JlYXRlSGVhZGVyIGZyb20gJy4vaGVhZGVyL2pzL2hlYWRlcic7XG5pbXBvcnQgY3JlYXRlRm9vdGVyIGZyb20gJy4vZm9vdGVyL2pzL2Zvb3Rlcic7XG5cbndpbmRvdy5lc3JpSGVhZGVyID0ge2NyZWF0ZTogY3JlYXRlSGVhZGVyfTtcbndpbmRvdy5lc3JpRm9vdGVyID0ge2NyZWF0ZTogY3JlYXRlRm9vdGVyfTtcblxuZnVuY3Rpb24gYnVpbGRIZWFkZXIoe3RhcmdldEVsbSwgbWVudURhdGF9KSB7XG5cdGNvbnN0ICRlc3JpSGVhZGVyID0gY3JlYXRlSGVhZGVyKG1lbnVEYXRhLmhlYWRlcik7XG5cdGNvbnN0ICRoZWFkZXJCYXJyaWVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXRFbG0pO1xuXHQkaGVhZGVyQmFycmllci5hcHBlbmRDaGlsZCgkZXNyaUhlYWRlcik7XG59XG5cbmZ1bmN0aW9uIGJ1aWxkRm9vdGVyKHt0YXJnZXRFbG0sIG1lbnVEYXRhfSkge1xuXHRjb25zdCAkZXNyaUZvb3RlciA9IGNyZWF0ZUZvb3RlcihtZW51RGF0YS5mb290ZXIpO1xuXHRjb25zdCAkZm9vdGVyQmFycmllciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0RWxtKTtcblx0JGZvb3RlckJhcnJpZXIuYXBwZW5kQ2hpbGQoJGVzcmlGb290ZXIpO1xufVxuXG5leHBvcnQgZGVmYXVsdCB7XG5cdGNyZWF0ZUhlYWRlcjogYnVpbGRIZWFkZXIsXG5cdGNyZWF0ZUZvb3RlcjogYnVpbGRGb290ZXIsXG5cdGNyZWF0ZTogKHtoZWFkZXJFbG0sIGZvb3RlckVsbSwgbWVudURhdGF9KSA9PiB7XG5cdFx0YnVpbGRIZWFkZXIoe21lbnVEYXRhLCB0YXJnZXRFbG0gOiBoZWFkZXJFbG19KTtcblx0XHRidWlsZEZvb3Rlcih7bWVudURhdGEsIHRhcmdldEVsbSA6IGZvb3RlckVsbX0pO1xuXHR9XG59O1xuIiwiaW1wb3J0IHskYXNzaWduIGFzICQsICRkaXNwYXRjaCwgJHJlcGxhY2VBbGwsICRyZW5kZXJTdmdPckltZ30gZnJvbSAnLi4vLi4vc2hhcmVkL2pzL3NoYXJlZCc7XG5cbmNvbnN0IHByZWZpeCA9ICdlc3JpLWhlYWRlci1hY2NvdW50JztcblxuZXhwb3J0IGRlZmF1bHQgKCkgPT4ge1xuXHRjb25zdCAkdGFyZ2V0ID0gJCgnZGl2Jywge2NsYXNzOiBwcmVmaXh9KTtcblxuXHQvKiBBY2NvdW50OiBDb250cm9sOiBTaWduaW5cblx0LyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cdGNvbnN0ICRjb250cm9sU2lnbmluVGV4dCA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCcnKTtcblx0Y29uc3QgJGNvbnRyb2xTaWduaW4gPSAkKCdidXR0b24nLCB7Y2xhc3M6IGAke3ByZWZpeH0tY29udHJvbCAke3ByZWZpeH0tY29udHJvbC0tc2lnbmluYH0sXG5cdFx0JGNvbnRyb2xTaWduaW5UZXh0XG5cdCk7XG5cblx0Ly8gT24gQ2xpY2tcblx0JGNvbnRyb2xTaWduaW4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcblx0XHQkZGlzcGF0Y2goJGNvbnRyb2xTaWduaW4sICdoZWFkZXI6Y2xpY2s6c2lnbmluJywge2V2ZW50fSk7XG5cdH0pO1xuXG5cdC8qIEFjY291bnQ6IENvbnRyb2xcblx0LyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cdGNvbnN0ICRjb250cm9sSW1hZ2UgPSAkKCdzcGFuJyk7XG5cblx0Y29uc3QgJGNvbnRyb2xOYW1lVGV4dCA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCcnKTtcblx0Y29uc3QgJGNvbnRyb2xOYW1lID0gJCgnc3BhbicsIHtjbGFzczogYCR7cHJlZml4fS1uYW1lYH0sXG5cdFx0JGNvbnRyb2xOYW1lVGV4dFxuXHQpO1xuXG5cdGNvbnN0ICRjb250cm9sSWRUZXh0ID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJycpO1xuXHRjb25zdCAkY29udHJvbElkID0gJCgnc3BhbicsIHtjbGFzczogYCR7cHJlZml4fS1pZGB9LFxuXHRcdCRjb250cm9sSWRUZXh0XG5cdCk7XG5cblx0Y29uc3QgJGNvbnRyb2wgPSAkKCdidXR0b24nLFxuXHRcdHtcblx0XHRcdGNsYXNzOiBgJHtwcmVmaXh9LWNvbnRyb2wgJHtwcmVmaXh9LWNvbnRyb2wtLXNpZ25lZGluYCwgaWQ6IGAke3ByZWZpeH0tY29udHJvbGAsXG5cdFx0XHRhcmlhOiB7Y29udHJvbHM6IGAke3ByZWZpeH0tbWVudWAsIGV4cGFuZGVkOiBmYWxzZSwgaGFzcG9wdXA6IHRydWV9XG5cdFx0fSxcblx0XHQkY29udHJvbEltYWdlLFxuXHRcdCRjb250cm9sTmFtZSxcblx0XHQkY29udHJvbElkXG5cdCk7XG5cblx0Ly8gT24gQ2xpY2tcblx0JGNvbnRyb2wuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcblx0XHQkZGlzcGF0Y2goJGNvbnRyb2wsICdoZWFkZXI6Y2xpY2s6YWNjb3VudCcsIHtldmVudH0pO1xuXG5cdFx0JGRpc3BhdGNoKCRjb250cm9sLCAnaGVhZGVyOm1lbnU6dG9nZ2xlJywge1xuXHRcdFx0YWNjb3VudDogdHJ1ZSxcblx0XHRcdGNvbnRyb2w6ICRjb250cm9sLFxuXHRcdFx0Y29udGVudDogJGNvbnRlbnQsXG5cdFx0XHRzdGF0ZTogJ21lbnUnLFxuXHRcdFx0dGFyZ2V0OiAkdGFyZ2V0LFxuXHRcdFx0dHlwZTogJ2FjY291bnQtdG9nZ2xlJ1xuXHRcdH0pO1xuXHR9KTtcblxuXHQvKiBBY2NvdW50OiBDb250ZW50XG5cdC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXHQvLyBUb2dnbGVcblx0Y29uc3QgJGNvbnRlbnRUb2dnbGVUZXh0ID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJycpO1xuXHRjb25zdCAkY29udGVudFRvZ2dsZSA9ICQoJ2J1dHRvbicsIHtjbGFzczogYCR7cHJlZml4fS1jb250ZW50LXRvZ2dsZWB9LFxuXHRcdCRjb250ZW50VG9nZ2xlVGV4dFxuXHQpO1xuXG5cdCRjb250ZW50VG9nZ2xlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuXHRcdCRkaXNwYXRjaCgkY29udGVudFRvZ2dsZSwgJ2hlYWRlcjptZW51OmNsb3NlJywge1xuXHRcdFx0Y29udHJvbDogJGNvbnRyb2wsXG5cdFx0XHRjb250ZW50OiAkY29udGVudCxcblx0XHRcdHR5cGU6ICdhY2NvdW50LWNsb3NlJ1xuXHRcdH0pO1xuXHR9KTtcblxuXHQvLyBJbWFnZVxuXHRjb25zdCAkY29udGVudEltYWdlID0gJCgnc3BhbicpO1xuXG5cdC8vIEluZm9cblx0Y29uc3QgJGNvbnRlbnRJbmZvTmFtZVRleHQgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnJyk7XG5cdGNvbnN0ICRjb250ZW50SW5mb0lkVGV4dCA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCcnKTtcblx0Y29uc3QgJGNvbnRlbnRJbmZvR3JvdXBUZXh0ID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJycpO1xuXHRjb25zdCAkY29udGVudEluZm8gPSAkKCdkaXYnLCB7Y2xhc3M6IGAke3ByZWZpeH0tY29udGVudC1pbmZvYH0sXG5cdFx0JGNvbnRlbnRJbWFnZSxcblx0XHQkKCdzcGFuJywge2NsYXNzOiBgJHtwcmVmaXh9LWNvbnRlbnQtbmFtZWB9LFxuXHRcdFx0JGNvbnRlbnRJbmZvTmFtZVRleHRcblx0XHQpLFxuXHRcdCQoJ3NwYW4nLCB7Y2xhc3M6IGAke3ByZWZpeH0tY29udGVudC1pZGB9LFxuXHRcdFx0JGNvbnRlbnRJbmZvSWRUZXh0XG5cdFx0KSxcblx0XHQkKCdzcGFuJywge2NsYXNzOiBgJHtwcmVmaXh9LWNvbnRlbnQtZ3JvdXBgfSxcblx0XHRcdCRjb250ZW50SW5mb0dyb3VwVGV4dFxuXHRcdClcblx0KTtcblxuXHQvLyBNZW51XG5cdGNvbnN0ICRjb250ZW50TWVudSA9ICQoJ3VsJywge1xuXHRcdGNsYXNzOiBgJHtwcmVmaXh9LWNvbnRlbnQtbWVudWAsXG5cdFx0cm9sZTogJ25hdmlnYXRpb24nLCBhcmlhOiB7bGFiZWxsZWRieTogYCR7cHJlZml4fS1jb250cm9sYH1cblx0fSk7XG5cblx0Ly8gU3dpdGNoIENvbnRyb2xcblx0Y29uc3QgJGNvbnRlbnRTaWduaW5Td2l0Y2hUZXh0ID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJycpO1xuXHRjb25zdCAkY29udGVudFNpZ25pblN3aXRjaCA9ICQoJ2J1dHRvbicsIHtjbGFzczogYCR7cHJlZml4fS1zaWduaW4tY29udHJvbCAtc3dpdGNoYH0sXG5cdFx0JGNvbnRlbnRTaWduaW5Td2l0Y2hUZXh0XG5cdCk7XG5cblx0Ly8gU3dpdGNoIENvbnRyb2w6IE9uIENsaWNrXG5cdCRjb250ZW50U2lnbmluU3dpdGNoLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG5cdFx0JGRpc3BhdGNoKCRjb250ZW50U2lnbmluU3dpdGNoLCAnaGVhZGVyOmNsaWNrOnN3aXRjaCcsIHtldmVudH0pO1xuXHR9KTtcblxuXHQvLyBTaWdub3V0IENvbnRyb2xcblx0Y29uc3QgJGNvbnRlbnRTaWduaW5TaWdub3V0VGV4dCA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCcnKTtcblx0Y29uc3QgJGNvbnRlbnRTaWduaW5TaWdub3V0ID0gJCgnYnV0dG9uJywge2NsYXNzOiBgJHtwcmVmaXh9LXNpZ25pbi1jb250cm9sIC1sb2dvdXRgfSxcblx0XHQkY29udGVudFNpZ25pblNpZ25vdXRUZXh0XG5cdCk7XG5cblx0Ly8gU2lnbm91dCBDb250cm9sOiBPbiBDbGlja1xuXHQkY29udGVudFNpZ25pblNpZ25vdXQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcblx0XHQkZGlzcGF0Y2goJGNvbnRlbnRTaWduaW5TaWdub3V0LCAnaGVhZGVyOmNsaWNrOnNpZ25vdXQnLCB7ZXZlbnR9KTtcblx0fSk7XG5cblx0Ly8gU2lnbmluIE1lbnVcblx0Y29uc3QgJGNvbnRlbnRTaWduaW5NZW51ID0gJCgndWwnLFxuXHRcdHtcblx0XHRcdGNsYXNzOiBgJHtwcmVmaXh9LXNpZ25pbi1tZW51YCxcblx0XHRcdHJvbGU6ICdncm91cCdcblx0XHR9LFxuXHRcdCQoJ2xpJywge2NsYXNzOiBgJHtwcmVmaXh9LXNpZ25pbi1pdGVtYH0sXG5cdFx0XHQkY29udGVudFNpZ25pblN3aXRjaFxuXHRcdCksXG5cdFx0JCgnbGknLCB7Y2xhc3M6IGAke3ByZWZpeH0tc2lnbmluLWl0ZW1gfSxcblx0XHRcdCRjb250ZW50U2lnbmluU2lnbm91dFxuXHRcdClcblx0KTtcblxuXHQvLyBDb250ZW50XG5cdGNvbnN0ICRjb250ZW50ID0gJCgnZGl2Jyxcblx0XHR7XG5cdFx0XHRjbGFzczogYCR7cHJlZml4fS1tZW51YCwgaWQ6IGAke3ByZWZpeH0tbWVudWAsXG5cdFx0XHRyb2xlOiAnZ3JvdXAnLCBhcmlhOiB7ZXhwYW5kZWQ6IGZhbHNlLCBoaWRkZW46IHRydWV9XG5cdFx0fSxcblx0XHQkY29udGVudFRvZ2dsZSxcblx0XHQkY29udGVudEluZm8sXG5cdFx0JGNvbnRlbnRNZW51LFxuXHRcdCRjb250ZW50U2lnbmluTWVudVxuXHQpO1xuXG5cdC8qIEFjY291bnQ6IE9uIFVwZGF0ZVxuXHQvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblx0JHRhcmdldC5hZGRFdmVudExpc3RlbmVyKCdoZWFkZXI6dXBkYXRlOmFjY291bnQnLCAoe2RldGFpbH0pID0+IHtcblx0XHQkKCRjb250cm9sLCB7YXJpYToge2xhYmVsOiBkZXRhaWwubGFiZWx9fSk7XG5cblx0XHQvLyBVcGRhdGUgdGhlIGNvbnRyb2wgdGV4dFxuXHRcdCRjb250ZW50VG9nZ2xlVGV4dC5ub2RlVmFsdWUgPSBkZXRhaWwubGFiZWw7XG5cdFx0JGNvbnRyb2xTaWduaW5UZXh0Lm5vZGVWYWx1ZSA9IGRldGFpbC5jb250cm9scy5zaWduaW47XG5cdFx0JGNvbnRlbnRTaWduaW5Td2l0Y2hUZXh0Lm5vZGVWYWx1ZSA9IGRldGFpbC5jb250cm9scy5zd2l0Y2g7XG5cdFx0JGNvbnRlbnRTaWduaW5TaWdub3V0VGV4dC5ub2RlVmFsdWUgPSBkZXRhaWwuY29udHJvbHMuc2lnbm91dDtcblxuXHRcdC8vIElmIHRoZXJlIGlzIGEgdXNlciBvYmplY3Rcblx0XHRpZiAoZGV0YWlsLnVzZXIpIHtcblx0XHRcdC8vIFVwZGF0ZSB0aGUgYWNjb3VudCB0ZXh0ICsgaW1hZ2Vcblx0XHRcdCRjb250cm9sTmFtZVRleHQubm9kZVZhbHVlID0gJGNvbnRlbnRJbmZvTmFtZVRleHQubm9kZVZhbHVlID0gZGV0YWlsLnVzZXIubmFtZTtcblx0XHRcdCRjb250cm9sSWRUZXh0Lm5vZGVWYWx1ZSA9ICRjb250ZW50SW5mb0lkVGV4dC5ub2RlVmFsdWUgPSBkZXRhaWwudXNlci5pZDtcblx0XHRcdCRjb250ZW50SW5mb0dyb3VwVGV4dC5ub2RlVmFsdWUgPSBkZXRhaWwudXNlci5ncm91cDtcblxuXHRcdFx0JHJlbmRlclN2Z09ySW1nKHtpbWdEZWY6IGRldGFpbC51c2VyLmltYWdlLCBpbWdDbGFzczogYCR7cHJlZml4fS1pbWFnZWAsICR0YXJnZXRFbG06ICRjb250cm9sSW1hZ2V9KTtcblx0XHRcdCRyZW5kZXJTdmdPckltZyh7aW1nRGVmOiBkZXRhaWwudXNlci5pbWFnZSwgaW1nQ2xhc3M6IGAke3ByZWZpeH0tY29udGVudC1pbWFnZWAsICR0YXJnZXRFbG06ICRjb250ZW50SW1hZ2V9KTtcblxuXHRcdFx0Ly8gVXBkYXRlIHRoZSBjb250ZW50IG1lbnVcblx0XHRcdCRyZXBsYWNlQWxsKCRjb250ZW50TWVudSxcblx0XHRcdFx0Li4uZGV0YWlsLm1lbnVzLm1hcChcblx0XHRcdFx0XHQoaXRlbSkgPT4gJCgnbGknLCB7Y2xhc3M6IGAke3ByZWZpeH0tY29udGVudC1pdGVtYH0sXG5cdFx0XHRcdFx0XHQkKCdhJywge2NsYXNzOiBgJHtwcmVmaXh9LWNvbnRlbnQtbGlua2AsIGhyZWY6IGl0ZW0uaHJlZn0sXG5cdFx0XHRcdFx0XHRcdGl0ZW0ubGFiZWxcblx0XHRcdFx0XHRcdClcblx0XHRcdFx0XHQpXG5cdFx0XHRcdClcblx0XHRcdCk7XG5cblx0XHRcdC8vIFVzZSB0aGUgY29udHJvbCBhbmQgY29udGVudFxuXHRcdFx0JHJlcGxhY2VBbGwoJHRhcmdldCwgJGNvbnRyb2wsICRjb250ZW50KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gT3RoZXJ3aXNlLCB1c2UgdGhlIHNpZ25pbiBjb250cm9sXG5cdFx0XHQkcmVwbGFjZUFsbCgkdGFyZ2V0LCAkY29udHJvbFNpZ25pbik7XG5cdFx0fVxuXHR9KTtcblxuXHRyZXR1cm4gJHRhcmdldDtcbn07XG4iLCJpbXBvcnQgeyRhc3NpZ24gYXMgJCwgJGRpc3BhdGNoLCAkcmVwbGFjZUFsbCwgJHJlbmRlclN2Z09ySW1nfSBmcm9tICcuLi8uLi9zaGFyZWQvanMvc2hhcmVkJztcblxuY29uc3QgcHJlZml4ID0gJ2VzcmktaGVhZGVyLWJyYW5kJztcblxuZXhwb3J0IGRlZmF1bHQgKCkgPT4ge1xuXHRjb25zdCAkdGFyZ2V0ID0gJCgnYScsIHtjbGFzczogcHJlZml4LCBpZDogcHJlZml4fSk7XG5cblx0Ly8gT24gQ2xpY2tcblx0JHRhcmdldC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuXHRcdCRkaXNwYXRjaCgkdGFyZ2V0LCAnaGVhZGVyOmNsaWNrOmJyYW5kJywge2V2ZW50fSk7XG5cdH0pO1xuXG5cdC8qIEJyYW5kOiBPbiBVcGRhdGVcblx0LyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXHQkdGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoJ2hlYWRlcjp1cGRhdGU6YnJhbmQnLCAoe2RldGFpbH0pID0+IHtcblx0XHQkKCR0YXJnZXQsIHtocmVmOiBkZXRhaWwuaHJlZiwgYXJpYToge2xhYmVsOiBkZXRhaWwubGFiZWx9fSk7XG5cdFx0JHJlbmRlclN2Z09ySW1nKHtpbWdEZWY6IGRldGFpbC5pbWFnZSwgaW1nQ2xhc3M6IGAke3ByZWZpeH0taW1hZ2VgLCBpbWdXaWR0aDogZGV0YWlsLndpZHRoLCBpbWdIZWlnaHQ6ZGV0YWlsLmhlaWdodCwgJHRhcmdldEVsbTokdGFyZ2V0fSk7XG5cdH0pO1xuXG5cdHJldHVybiAkdGFyZ2V0O1xufTtcbiIsImltcG9ydCB7JGFzc2lnbiBhcyAkLCAkZGlzcGF0Y2gsICRyZXBsYWNlQWxsLCAkcmVuZGVyU3ZnT3JJbWd9IGZyb20gJy4uLy4uL3NoYXJlZC9qcy9zaGFyZWQnO1xuXG5jb25zdCBwcmVmaXggPSAnZXNyaS1oZWFkZXItbWVudXMnO1xuXG5leHBvcnQgZGVmYXVsdCAoKSA9PiB7XG5cdC8qIFRvZ2dsZSBNZW51XG5cdC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXHRjb25zdCAkdG9nZ2xlID0gJCgnYnV0dG9uJywge1xuXHRcdGNsYXNzOiBgJHtwcmVmaXh9LXRvZ2dsZWAsIGlkOiBgJHtwcmVmaXh9LXRvZ2dsZWAsXG5cdFx0YXJpYToge2NvbnRyb2xzOiBgJHtwcmVmaXh9LWNvbnRlbnRgLCBleHBhbmRlZDogZmFsc2UsIGhhc3BvcHVwOiB0cnVlLCBsYWJlbGxlZGJ5OiAnZXNyaS1oZWFkZXItYnJhbmQnfVxuXHR9KTtcblxuXHQkdG9nZ2xlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG5cdFx0JGRpc3BhdGNoKCR0b2dnbGUsICdoZWFkZXI6bWVudTp0b2dnbGUnLCB7XG5cdFx0XHRjb250cm9sOiAkdG9nZ2xlLFxuXHRcdFx0Y29udGVudDogJGNvbnRlbnQsXG5cdFx0XHRyb290OiB0cnVlLFxuXHRcdFx0c3RhdGU6ICdtZW51Jyxcblx0XHRcdHRhcmdldDogJHRhcmdldCxcblx0XHRcdHR5cGU6ICdyb290LXRvZ2dsZScsXG5cdFx0XHRldmVudFxuXHRcdH0pO1xuXHR9KTtcblxuXHQvKiBNZW51czogQ29udGVudFxuXHQvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblx0Y29uc3QgJGNvbnRlbnQgPSAkKCdkaXYnLCB7XG5cdFx0Y2xhc3M6IGAke3ByZWZpeH0tY29udGVudGAsXG5cdFx0YXJpYToge2hpZGRlbjogdHJ1ZSwgZXhwYW5kZWQ6IGZhbHNlfVxuXHR9KTtcblxuXHQvKiBNZW51c1xuXHQvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblx0Y29uc3QgJHRhcmdldCA9ICQoJ2RpdicsIHtjbGFzczogcHJlZml4LCBpZDogcHJlZml4fSxcblx0XHQkdG9nZ2xlLCAkY29udGVudFxuXHQpO1xuXG5cdC8qIE1lbnVzOiBPbiBVcGRhdGVcblx0LyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cdCR0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcignaGVhZGVyOnVwZGF0ZTptZW51cycsICh7ZGV0YWlsfSkgPT4ge1xuXHRcdCRyZXBsYWNlQWxsKFxuXHRcdFx0JGNvbnRlbnQsXG5cdFx0XHQuLi5kZXRhaWwubWFwKFxuXHRcdFx0XHQobWVudSwgdXVpZCkgPT4gJCgnZGl2Jyxcblx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRjbGFzczogYCR7cHJlZml4fS1tZW51YCxcblx0XHRcdFx0XHRcdHJvbGU6ICdncm91cCdcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdCQoJ3VsJyxcblx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0Y2xhc3M6IGAke3ByZWZpeH0tbGlzdGAsXG5cdFx0XHRcdFx0XHRcdHJvbGU6ICduYXZpZ2F0aW9uJywgYXJpYToge2xhYmVsbGVkYnk6ICdlc3JpLWhlYWRlci1icmFuZCd9XG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0Li4ubWVudS5tYXAoKGl0ZW0sIHN1dWlkKSA9PiB7XG5cdFx0XHRcdFx0XHRcdC8qIEdsb2JhbCBOYXZpZ2F0aW9uOiBNZW51czogTGlua1xuXHRcdFx0XHRcdFx0XHQvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXHRcdFx0XHRcdFx0XHRjb25zdCAkc3ViY29udHJvbCA9ICQoJ2EnLFxuXHRcdFx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0XHRcdGNsYXNzOiBgJHtwcmVmaXh9LWxpbmtgLCBpZDogYCR7cHJlZml4fS1saW5rLSR7dXVpZH0tJHtzdXVpZH1gLFxuXHRcdFx0XHRcdFx0XHRcdFx0aHJlZjogaXRlbS5ocmVmIHx8ICdqYXZhc2NyaXB0OjsnIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tc2NyaXB0LXVybFxuXHRcdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdFx0aXRlbS5sYWJlbFxuXHRcdFx0XHRcdFx0XHQpO1xuXG5cdFx0XHRcdFx0XHRcdGlmIChpdGVtLmRhdGEpIHtcblx0XHRcdFx0XHRcdFx0XHQkc3ViY29udHJvbCh7XG5cdFx0XHRcdFx0XHRcdFx0XHRkYXRhOiBpdGVtLmRhdGFcblx0XHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdGNvbnN0ICRsaSA9ICQoJ2xpJywge2NsYXNzOiBgJHtwcmVmaXh9LWl0ZW1gfSwgJHN1YmNvbnRyb2wpO1xuXG5cdFx0XHRcdFx0XHRcdGNvbnN0IGhhc01lbnVJdGVtcyA9IGl0ZW0ubWVudXMgJiYgaXRlbS5tZW51cy5sZW5ndGg7XG5cdFx0XHRcdFx0XHRcdGNvbnN0IGhhc0ZlYXR1cmVkSXRlbXMgPSBpdGVtLnRpbGVzICYmIGl0ZW0udGlsZXMubGVuZ3RoO1xuXG5cdFx0XHRcdFx0XHRcdGlmIChoYXNNZW51SXRlbXMgfHwgaGFzRmVhdHVyZWRJdGVtcykge1xuXHRcdFx0XHRcdFx0XHRcdC8qIEdsb2JhbCBOYXZpZ2F0aW9uOiBTdWJtZW51XG5cdFx0XHRcdFx0XHRcdFx0LyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXHRcdFx0XHRcdFx0XHRcdGNvbnN0ICRzdWJ0b2dnbGUgPSAkKCdidXR0b24nLCB7Y2xhc3M6IGAke3ByZWZpeH0tc3VibWVudS10b2dnbGVgfSxcblx0XHRcdFx0XHRcdFx0XHRcdGl0ZW0ubGFiZWxcblx0XHRcdFx0XHRcdFx0XHQpO1xuXG5cdFx0XHRcdFx0XHRcdFx0Y29uc3QgJHN1YmNvbnRlbnQgPSAkKCdkaXYnLFxuXHRcdFx0XHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRjbGFzczogYCR7cHJlZml4fS1zdWJtZW51YCwgaWQ6IGAke3ByZWZpeH0tc3VibWVudS0ke3V1aWR9LSR7c3V1aWR9YCxcblx0XHRcdFx0XHRcdFx0XHRcdFx0cm9sZTogJ2dyb3VwJywgYXJpYToge2hpZGRlbjogdHJ1ZSwgZXhwYW5kZWQ6IGZhbHNlfSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0ZGF0YToge2ZpbGxlZDogaXRlbS5tZW51cy5sZW5ndGggPiAxMCA/IGl0ZW0ubWVudXMuc2xpY2UoMCwgMTgpLmxlbmd0aCA6ICcnfVxuXHRcdFx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0XHRcdCRzdWJ0b2dnbGVcblx0XHRcdFx0XHRcdFx0XHQpO1xuXG5cdFx0XHRcdFx0XHRcdFx0aWYgKGhhc01lbnVJdGVtcykge1xuXHRcdFx0XHRcdFx0XHRcdFx0JCgkc3ViY29udGVudCxcblx0XHRcdFx0XHRcdFx0XHRcdFx0JCgndWwnLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNsYXNzOiBgJHtwcmVmaXh9LXN1Ymxpc3RgLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cm9sZTogJ25hdmlnYXRpb24nLCBhcmlhOiB7bGFiZWxsZWRieTogYCR7cHJlZml4fS1saW5rLSR7dXVpZH0tJHtzdXVpZH1gfVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0LyogR2xvYmFsIE5hdmlnYXRpb246IE1lbnVzOiBTdWJsaW5rXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0LyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Li4uaXRlbS5tZW51cy5zbGljZSgwLCAxOCkubWFwKFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0KGNoaWxkaXRlbSkgPT4ge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjb25zdCAkc3VibGluayA9ICQoJ2EnLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNsYXNzOiBgJHtwcmVmaXh9LXN1YmxpbmtgLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0aHJlZjogY2hpbGRpdGVtLmhyZWZcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNoaWxkaXRlbS5sYWJlbFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQpO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmIChjaGlsZGl0ZW0uZGF0YSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCQoJHN1YmxpbmssIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGRhdGE6IGNoaWxkaXRlbS5kYXRhXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoY2hpbGRpdGVtLm5ld0NvbnRleHQpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQkKCRzdWJsaW5rLCB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0YXJnZXQ6ICdfYmxhbmsnLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmVsOiAnbm9vcGVuZXInXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gJCgnbGknLCB7Y2xhc3M6IGAke3ByZWZpeH0tc3ViaXRlbWB9LFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCRzdWJsaW5rXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0KVxuXHRcdFx0XHRcdFx0XHRcdFx0XHQpXG5cdFx0XHRcdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdGlmIChoYXNGZWF0dXJlZEl0ZW1zKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHQvLyAuLi5cblx0XHRcdFx0XHRcdFx0XHRcdCQoJHN1YmNvbnRlbnQsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCQoJ3VsJyxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjbGFzczogYCR7cHJlZml4fS1zdWJsaXN0LS1mZWF0dXJlZGAsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyb2xlOiAnbmF2aWdhdGlvbicsIGFyaWE6IHtsYWJlbGxlZGJ5OiBgJHtwcmVmaXh9LWxpbmstJHt1dWlkfS0ke3N1dWlkfWB9LFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0ZGF0YToge2ZpbGxlZDogYCR7aXRlbS50aWxlcy5zbGljZSgwLCA0KS5sZW5ndGh9YH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8qIEdsb2JhbCBOYXZpZ2F0aW9uOiBNZW51czogU3VibGlua1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Li4uaXRlbS50aWxlcy5zbGljZSgwLCA0KS5tYXAoXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQoY2hpbGRpdGVtKSA9PiB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNvbnN0ICRzdWJsaW5rID0gJCgnYScsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2xhc3M6IGAke3ByZWZpeH0tc3VibGluay0tZmVhdHVyZWRgLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0aHJlZjogY2hpbGRpdGVtLmhyZWZcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCRyZW5kZXJTdmdPckltZyh7aW1nRGVmOiBjaGlsZGl0ZW0uaWNvbiwgaW1nQ2xhc3M6IGAke3ByZWZpeH0tc3VibGluay1pbWFnZWAsIGltZ1dpZHRoOiBjaGlsZGl0ZW0ud2lkdGgsIGltZ0hlaWdodDpjaGlsZGl0ZW0uaGVpZ2h0fSksXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0JCgnc3BhbicsIHtjbGFzczogYCR7cHJlZml4fS1zdWJsaW5rLXRleHRgfSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNoaWxkaXRlbS5sYWJlbFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdClcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0KTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoY2hpbGRpdGVtLmRhdGEpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQkKCRzdWJsaW5rLCB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRkYXRhOiBjaGlsZGl0ZW0uZGF0YVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKGNoaWxkaXRlbS5uZXdDb250ZXh0KSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0JCgkc3VibGluaywge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dGFyZ2V0OiAnX2JsYW5rJyxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJlbDogJ25vb3BlbmVyJ1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuICQoJ2xpJywge2NsYXNzOiBgJHtwcmVmaXh9LXN1Yml0ZW0tLWZlYXR1cmVkYH0sXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0JHN1Ymxpbmtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQpXG5cdFx0XHRcdFx0XHRcdFx0XHRcdClcblx0XHRcdFx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0JCgkbGksXG5cdFx0XHRcdFx0XHRcdFx0XHQkc3ViY29udGVudFxuXHRcdFx0XHRcdFx0XHRcdCk7XG5cblx0XHRcdFx0XHRcdFx0XHQkc3ViY29udHJvbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcblx0XHRcdFx0XHRcdFx0XHRcdCRkaXNwYXRjaCgkc3ViY29udHJvbCwgJ2hlYWRlcjptZW51OnRvZ2dsZScsIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y29udHJvbDogJHN1YmNvbnRyb2wsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNvbnRlbnQ6ICRzdWJjb250ZW50LFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRzdWJtZW51OiB0cnVlLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRzdGF0ZTogJ21lbnUnLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHR0eXBlOiAnbWVudS10b2dnbGUnXG5cdFx0XHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdFx0XHR9KTtcblxuXHRcdFx0XHRcdFx0XHRcdCRzdWJ0b2dnbGUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG5cdFx0XHRcdFx0XHRcdFx0XHQkZGlzcGF0Y2goJHN1YnRvZ2dsZSwgJ2hlYWRlcjptZW51OmNsb3NlJywge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRjb250cm9sOiAkc3ViY29udHJvbCxcblx0XHRcdFx0XHRcdFx0XHRcdFx0c3VibWVudTogdHJ1ZSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y29udGVudDogJHN1YmNvbnRlbnQsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHR5cGU6ICdtZW51LWNsb3NlJ1xuXHRcdFx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRyZXR1cm4gJGxpO1xuXHRcdFx0XHRcdFx0fSlcblx0XHRcdFx0XHQpXG5cdFx0XHRcdClcblx0XHRcdClcblx0XHQpO1xuXHR9KTtcblxuXHRyZXR1cm4gJHRhcmdldDtcbn07XG4iLCJpbXBvcnQgeyRhc3NpZ24gYXMgJCwgJGRpc3BhdGNofSBmcm9tICcuLi8uLi9zaGFyZWQvanMvc2hhcmVkJztcblxuLyogU2VhcmNoXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5leHBvcnQgZGVmYXVsdCAoZGF0YSkgPT4ge1xuXHQvKiBFbGVtZW50c1xuXHQvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblx0Y29uc3QgJGxhYmVsID0gJCgnbGFiZWwnLCB7XG5cdFx0Y2xhc3M6IGAke2RhdGEucHJlZml4fS1sYWJlbGAsXG5cdFx0Zm9yOiBgJHtkYXRhLnByZWZpeH0tcXVlcnktY29udHJvbGBcblx0fSwgZGF0YS5xdWVyeUxhYmVsKTtcblxuXHRjb25zdCAkY29udHJvbCA9ICQoJ2lucHV0Jywge1xuXHRcdGNsYXNzOiBgJHtkYXRhLnByZWZpeH0tY29udHJvbGAsIGlkOiBgJHtkYXRhLnByZWZpeH0tY29udHJvbGAsXG5cdFx0dHlwZTogJ3NlYXJjaCcsIG5hbWU6ICdxJyxcblx0XHRhdXRvY2FwaXRhbGl6ZTogJ29mZicsIGF1dG9jb21wbGV0ZTogJ29mZicsIGF1dG9jb3JyZWN0OiAnb2ZmJywgc3BlbGxjaGVjazogJ2ZhbHNlJ1xuXHR9KTtcblxuXHRjb25zdCAkbWVhc3VyZVRleHROb2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJycpO1xuXG5cdGNvbnN0ICRtZWFzdXJlVGV4dCA9ICQoJ2RpdicsIHtcblx0XHRjbGFzczogYCR7ZGF0YS5wcmVmaXh9LW1lYXN1cmUtdGV4dGAsXG5cdFx0YXJpYToge2hpZGRlbjogdHJ1ZX1cblx0fSwgJG1lYXN1cmVUZXh0Tm9kZSk7XG5cblx0Y29uc3QgJG1lYXN1cmUgPSAkKCdkaXYnLCB7Y2xhc3M6IGAke2RhdGEucHJlZml4fS1tZWFzdXJlYH0sICRtZWFzdXJlVGV4dCk7XG5cblx0Y29uc3QgJHN1Ym1pdCA9ICQoJ2J1dHRvbicsIHtcblx0XHRjbGFzczogYCR7ZGF0YS5wcmVmaXh9LXN1Ym1pdGAsIHR5cGU6ICdzdWJtaXQnLFxuXHRcdGFyaWE6IHtsYWJlbDogZGF0YS5zdWJtaXRMYWJlbH1cblx0fSk7XG5cblx0Y29uc3QgJHNlYXJjaCA9ICQoJ2Zvcm0nLCB7XG5cdFx0Y2xhc3M6IGAke2RhdGEucHJlZml4fS1mb3JtYCwgYWN0aW9uOiBkYXRhLmFjdGlvbixcblx0XHRyb2xlOiAnc2VhcmNoJywgYXJpYToge2xhYmVsOiBkYXRhLmxhYmVsfVxuXHR9LCAkbGFiZWwsICRjb250cm9sLCAkbWVhc3VyZSwgJHN1Ym1pdCk7XG5cblx0LyogRm9jdXMgRXZlbnRcblx0LyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cdCRzZWFyY2guYWRkRXZlbnRMaXN0ZW5lcihgJHtkYXRhLnByZWZpeH06Zm9jdXNgLCAoKSA9PiB7XG5cdFx0JGNvbnRyb2wuZm9jdXMoKTtcblx0fSk7XG5cblx0LyogT24gSW5wdXRcblx0LyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cdGxldCBjb250cm9sSXNGaWxsZWQgPSBmYWxzZTtcblx0bGV0IGNvbnRyb2xWYWx1ZSA9ICcnO1xuXG5cdGZ1bmN0aW9uIG9uaW5wdXQoZXZlbnQpIHtcblx0XHQvKiBDb25kaXRpb25hbGx5IFJlc2V0IENvbnRyb2wgVmFsdWVcblx0XHQvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXHRcdGlmIChldmVudCAmJiAncmVzZXQnID09PSBldmVudC50eXBlKSB7XG5cdFx0XHQkY29udHJvbC52YWx1ZSA9ICcnO1xuXHRcdH1cblxuXHRcdC8qIFVwZGF0ZSBOZXcgQ29udHJvbCBWYWx1ZVxuXHRcdC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cdFx0Y29uc3QgbmV3Q29udHJvbFZhbHVlID0gJGNvbnRyb2wudmFsdWU7XG5cblx0XHRpZiAobmV3Q29udHJvbFZhbHVlICE9PSBjb250cm9sVmFsdWUpIHtcblx0XHRcdGNvbnRyb2xWYWx1ZSA9IG5ld0NvbnRyb2xWYWx1ZTtcblxuXHRcdFx0JGRpc3BhdGNoKCRzZWFyY2gsIGAke2RhdGEucHJlZml4fTppbnB1dGAsIHtcblx0XHRcdFx0dmFsdWU6IGNvbnRyb2xWYWx1ZSxcblx0XHRcdFx0ZXZlbnRcblx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdC8qIFVwZGF0ZSBMYWJlbCBhbmQgU3VibWl0IFVJXG5cdFx0LyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblx0XHRpZiAoY29udHJvbElzRmlsbGVkICYmICFuZXdDb250cm9sVmFsdWUpIHtcblx0XHRcdGNvbnRyb2xJc0ZpbGxlZCA9IGZhbHNlO1xuXG5cdFx0XHQkbGFiZWwucmVtb3ZlQXR0cmlidXRlKCdkYXRhLWZpbGxlZCcpO1xuXHRcdFx0JHN1Ym1pdC5yZW1vdmVBdHRyaWJ1dGUoJ2RhdGEtZmlsbGVkJyk7XG5cdFx0fSBlbHNlIGlmICghY29udHJvbElzRmlsbGVkICYmIG5ld0NvbnRyb2xWYWx1ZSkge1xuXHRcdFx0Y29udHJvbElzRmlsbGVkID0gdHJ1ZTtcblxuXHRcdFx0JCgkbGFiZWwsIHtkYXRhOiB7ZmlsbGVkOiAnJ319KTtcblx0XHRcdCQoJHN1Ym1pdCwge2RhdGE6IHtmaWxsZWQ6ICcnfX0pO1xuXHRcdH1cblxuXHRcdC8qIFVwZGF0ZSBNZWFzdXJlIFVJXG5cdFx0LyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblx0XHQkbWVhc3VyZVRleHROb2RlLm5vZGVWYWx1ZSA9IG5ld0NvbnRyb2xWYWx1ZTtcblxuXHRcdGNvbnN0IGN1cnJlbnRXaWR0aCA9IGAkeyRtZWFzdXJlVGV4dC5zY3JvbGxXaWR0aH1weGA7XG5cblx0XHQkbWVhc3VyZS5zdHlsZS53aWR0aCA9IGN1cnJlbnRXaWR0aDtcblx0fVxuXG5cdC8qIE9uIFN1Ym1pdFxuXHQvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblx0ZnVuY3Rpb24gb25zdWJtaXQoZXZlbnQpIHtcblx0XHQkZGlzcGF0Y2goJHNlYXJjaCwgYCR7ZGF0YS5wcmVmaXh9OnN1Ym1pdGAsIHtcblx0XHRcdHZhbHVlOiAkY29udHJvbC52YWx1ZSxcblx0XHRcdGV2ZW50XG5cdFx0fSk7XG5cdH1cblxuXHQvKiBPbiBET01Ob2RlSW5zZXJ0ZWRcblx0LyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cdCRzZWFyY2guYWRkRXZlbnRMaXN0ZW5lcignRE9NTm9kZUluc2VydGVkJywgZnVuY3Rpb24gb25ET01Ob2RlSW5zZXJ0ZWQoKSB7XG5cdFx0Ly8gSWYgU2VhcmNoIG5vdyBoYXMgYSBwYXJlbnQgbm9kZVxuXHRcdGlmICgkc2VhcmNoLnBhcmVudE5vZGUpIHtcblx0XHRcdC8vIFVuYmluZCB0aGUgRE9NTm9kZUluc2VydGVkIG1ldGhvZFxuXHRcdFx0JHNlYXJjaC5yZW1vdmVFdmVudExpc3RlbmVyKCdET01Ob2RlSW5zZXJ0ZWQnLCBvbkRPTU5vZGVJbnNlcnRlZCk7XG5cblx0XHRcdC8vIFVwZGF0ZSBTZWFyY2hcblx0XHRcdCRkaXNwYXRjaCgkc2VhcmNoLCBgJHtkYXRhLnByZWZpeH06dXBkYXRlYCwgZGF0YSk7XG5cdFx0fVxuXHR9KTtcblxuXHQvKiBPbiBVcGRhdGVcblx0LyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cdCRzZWFyY2guYWRkRXZlbnRMaXN0ZW5lcihgJHtkYXRhLnByZWZpeH06dXBkYXRlYCwgKCkgPT4ge1xuXHRcdC8qIEJpbmQgTWVkaWEgRXZlbnRcblx0XHQvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblx0XHRjb25zdCBtZWRpYSA9ICRzZWFyY2gub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldy5tYXRjaE1lZGlhKGRhdGEubWF0Y2hNZWRpYSB8fCAnKG1heC13aWR0aDogNzIwcHgpJyk7XG5cblx0XHRtZWRpYS5hZGRMaXN0ZW5lcihvbmlucHV0KTtcblxuXHRcdC8qIEJpbmQgT3RoZXIgRXZlbnRzXG5cdFx0LyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblx0XHQkY29udHJvbC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIG9uaW5wdXQpO1xuXG5cdFx0JHNlYXJjaC5hZGRFdmVudExpc3RlbmVyKCdyZXNldCcsIG9uaW5wdXQpO1xuXHRcdCRzZWFyY2guYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0Jywgb25zdWJtaXQpO1xuXHRcdCRzZWFyY2guYWRkRXZlbnRMaXN0ZW5lcihgJHtkYXRhLnByZWZpeH06dW5sb2FkYCwgb251bmxvYWQpO1xuXHR9KTtcblxuXHRyZXR1cm4gJHNlYXJjaDtcbn07XG4iLCJpbXBvcnQgeyRhc3NpZ24gYXMgJCwgJGRpc3BhdGNoLCAkcmVwbGFjZUFsbCwgJHJlbmRlclN2Z09ySW1nfSBmcm9tICcuLi8uLi9zaGFyZWQvanMvc2hhcmVkJztcbmltcG9ydCBlc3JpU2VhcmNoIGZyb20gJy4uLy4uL3NlYXJjaC9qcy9zZWFyY2gnO1xuXG5jb25zdCBwcmVmaXggPSAnZXNyaS1oZWFkZXItc2VhcmNoJztcblxuZXhwb3J0IGRlZmF1bHQgKCkgPT4ge1xuXHQvKiBTZWFyY2g6IENvbnRyb2xcblx0LyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cdGNvbnN0ICRjb250cm9sID0gJCgnYnV0dG9uJyxcblx0XHR7XG5cdFx0XHRjbGFzczogYCR7cHJlZml4fS1jb250cm9sYCwgaWQ6IGAke3ByZWZpeH0tY29udHJvbGAsXG5cdFx0XHRhcmlhOiB7ZXhwYW5kZWQ6IGZhbHNlLCBjb250cm9sczogYCR7cHJlZml4fS1jb250ZW50YH1cblx0XHR9XG5cdCk7XG5cblx0JGNvbnRyb2wuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcblx0XHQkZGlzcGF0Y2goJGNvbnRyb2wsICdoZWFkZXI6Y2xpY2s6c2VhcmNoJywge2V2ZW50fSk7XG5cblx0XHQkZGlzcGF0Y2goJGNvbnRyb2wsICdoZWFkZXI6bWVudTp0b2dnbGUnLCB7XG5cdFx0XHRjb250cm9sOiAkY29udHJvbCxcblx0XHRcdGNvbnRlbnQ6ICRjb250ZW50LFxuXHRcdFx0c3RhdGU6ICdzZWFyY2gnLFxuXHRcdFx0dGFyZ2V0OiAkdGFyZ2V0LFxuXHRcdFx0dHlwZTogJ3NlYXJjaC10b2dnbGUnLFxuXHRcdFx0ZXZlbnRcblx0XHR9KTtcblx0fSk7XG5cblx0LyogU2VhcmNoOiBDb250ZW50XG5cdC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXHRjb25zdCAkY29udGVudCA9ICQoJ2RpdicsIHtcblx0XHRjbGFzczogYCR7cHJlZml4fS1jb250ZW50YCwgaWQ6IGAke3ByZWZpeH0tY29udGVudGAsXG5cdFx0YXJpYToge2V4cGFuZGVkOiBmYWxzZSwgbGFiZWxsZWRieTogYCR7cHJlZml4fS1jb250cm9sYH1cblx0fSk7XG5cblx0LyogU2VhcmNoOiBUYXJnZXRcblx0LyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cdGNvbnN0ICR0YXJnZXQgPSAkKCdkaXYnLCB7Y2xhc3M6IHByZWZpeH0sXG5cdFx0JGNvbnRyb2wsICRjb250ZW50XG5cdCk7XG5cblx0LyogU2VhcmNoOiBPbiBVcGRhdGVcblx0LyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cdCR0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcignaGVhZGVyOnVwZGF0ZTpzZWFyY2gnLCAoe2RldGFpbH0pID0+IHtcblx0XHQkKCRjb250cm9sLCB7YXJpYToge2xhYmVsOiBkZXRhaWwubGFiZWx9fSk7XG5cdFx0JHJlbmRlclN2Z09ySW1nKHtpbWdEZWY6IGRldGFpbC5pbWFnZSwgaW1nQ2xhc3M6IGAke3ByZWZpeH0taW1hZ2VgLCBpZDogYCR7cHJlZml4fS1pbWFnZWAsICR0YXJnZXRFbG06ICRjb250cm9sfSk7XG5cblx0XHRpZiAoZGV0YWlsLmRpYWxvZykge1xuXHRcdFx0ZGV0YWlsLmRpYWxvZy5wcmVmaXggPSAnZXNyaS1oZWFkZXItc2VhcmNoLWRpYWxvZyc7XG5cblx0XHRcdGNvbnN0ICRkaWFsb2cgPSBlc3JpU2VhcmNoKGRldGFpbC5kaWFsb2cpO1xuXG5cdFx0XHRjb25zdCAkZGlhbG9nQ2FuY2VsQnV0dG9uID0gJCgnYnV0dG9uJywge1xuXHRcdFx0XHRcdGNsYXNzOiAnZXNyaS1oZWFkZXItc2VhcmNoLWRpYWxvZy1jYW5jZWwnLFxuXHRcdFx0XHRcdHR5cGU6ICdyZXNldCdcblx0XHRcdFx0fSxcblx0XHRcdFx0JCgnc3BhbicsXG5cdFx0XHRcdFx0ZGV0YWlsLmRpYWxvZy5jYW5jZWxMYWJlbFxuXHRcdFx0XHQpXG5cdFx0XHQpO1xuXG5cdFx0XHQkZGlhbG9nQ2FuY2VsQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG5cdFx0XHRcdCRkaXNwYXRjaCgkY29udHJvbCwgJ2hlYWRlcjptZW51OmNsb3NlJywge1xuXHRcdFx0XHRcdGNvbnRyb2w6ICRjb250cm9sLFxuXHRcdFx0XHRcdGNvbnRlbnQ6ICRjb250ZW50LFxuXHRcdFx0XHRcdHN0YXRlOiAnc2VhcmNoJyxcblx0XHRcdFx0XHR0eXBlOiAnc2VhcmNoLWNsb3NlJyxcblx0XHRcdFx0XHRldmVudFxuXHRcdFx0XHR9KTtcblx0XHRcdH0pO1xuXG5cdFx0XHQkKCRkaWFsb2csXG5cdFx0XHRcdCRkaWFsb2dDYW5jZWxCdXR0b25cblx0XHRcdCk7XG5cblx0XHRcdCRyZXBsYWNlQWxsKCRjb250ZW50LFxuXHRcdFx0XHQkZGlhbG9nXG5cdFx0XHQpO1xuXG5cdFx0XHQkY29udHJvbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuXHRcdFx0XHRpZiAoJ3RydWUnID09PSAkY29udHJvbC5nZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnKSkge1xuXHRcdFx0XHRcdCRkaXNwYXRjaCgkZGlhbG9nLCBgJHtkZXRhaWwuZGlhbG9nLnByZWZpeH06Zm9jdXNgLCB7ZXZlbnR9KTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fVxuXHR9KTtcblxuXHRyZXR1cm4gJHRhcmdldDtcbn07XG4iLCJpbXBvcnQgeyRhc3NpZ24gYXMgJCwgJGRpc3BhdGNoLCAkcmVwbGFjZUFsbCwgJHJlbmRlclN2Z09ySW1nfSBmcm9tICcuLi8uLi9zaGFyZWQvanMvc2hhcmVkJztcblxuLyogQXBwc1xuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuY29uc3QgcHJlZml4ID0gJ2VzcmktaGVhZGVyLWFwcHMnO1xuXG5leHBvcnQgZGVmYXVsdCAoKSA9PiB7XG5cdC8qIEFwcHM6IENvbnRlbnRcblx0LyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cdGNvbnN0ICRjb250ZW50ID0gJCgnZGl2Jywge1xuXHRcdGNsYXNzOiBgJHtwcmVmaXh9LWNvbnRlbnRgLFxuXHRcdGlkOiBgJHtwcmVmaXh9LWNvbnRlbnRgLFxuXHRcdGFyaWE6IHtleHBhbmRlZDogZmFsc2UsIGxhYmVsbGVkYnk6IGAke3ByZWZpeH0tY29udHJvbGB9XG5cdH0pO1xuXG5cdGNvbnN0ICRhcHBTd2l0Y2hlckljb24gPSAkKCdzcGFuJywge1xuXHRcdHRpdGxlOiBcIkFwcCBMYXVuY2hlclwiLFxuXHRcdFwiYXJpYS1sYWJlbFwiOiBcIkFwcCBMYXVuY2hlciBJY29uXCJcblx0fSk7XG5cblx0LyogQXBwczogQ29udHJvbFxuXHQvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblx0Y29uc3QgJGNvbnRyb2xDb250YWluZXIgPSAkKCdidXR0b24nLCB7XG5cdFx0Y2xhc3M6IGAke3ByZWZpeH0tY29udHJvbCBlbXB0eS1wYWRkaW5nYCwgaWQ6IGAke3ByZWZpeH0tY29udHJvbGBcblx0fSk7XG5cblx0Y29uc3QgJGRyb3Bkb3duID0gJCgnZGl2Jywge1xuXHRcdGNsYXNzOiAnZHJvcGRvd24nXG5cdH0pO1xuXG5cdCRjb250cm9sQ29udGFpbmVyLmFwcGVuZCgkZHJvcGRvd24pO1xuXG5cdGNvbnN0ICRjb250cm9sID0gJGNvbnRyb2xDb250YWluZXI7XG5cblx0JGNvbnRyb2xDb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcblx0XHQkZGlzcGF0Y2goJGNvbnRyb2wsICdoZWFkZXI6Y2xpY2s6YXBwcycsIHtldmVudH0pO1xuXG5cdFx0Ly8gRWxlbWVudHMgd2l0aCBmb2xsb3dpbmcgY2xhc3Mgd29uJ3QgdHJpZ2dlci9kaXNwYXRjaCB0aGUgZHJvcGRvd25cblx0XHRpZiAoZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhgJHtwcmVmaXh9LXByZXZlbnQtZHJvcGRvd25gKSkgcmV0dXJuO1xuXG5cdFx0JGRpc3BhdGNoKCRjb250cm9sLCAnaGVhZGVyOm1lbnU6dG9nZ2xlJywge1xuXHRcdFx0c3RhdGU6ICdtZW51Jyxcblx0XHRcdHRhcmdldDogJHRhcmdldCxcblx0XHRcdHR5cGU6ICdyb290LXRvZ2dsZScsXG5cdFx0XHRjb250cm9sOiAkY29udHJvbCxcblx0XHRcdGNvbnRlbnQ6ICRjb250ZW50LFxuXHRcdFx0ZXZlbnRcblx0XHR9KTtcblx0fSk7XG5cblx0LyogQXBwczogVGFyZ2V0XG5cdC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXHRjb25zdCAkdGFyZ2V0ID0gJCgnZGl2Jywge2NsYXNzOiBwcmVmaXh9LFxuXHRcdCRjb250cm9sXG5cdCk7XG5cblx0LyogQXBwczogSGVscGVyIEZ1bmN0aW9ucyBmb3IgVXBkYXRlXG5cdC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXHRjb25zdCBjcmVhdGVEZWZhdWx0QXBwTGF5b3V0ID0gKCR0b3BBcHBDb250YWluZXIsIGN1cnJlbnRBcHApID0+IHtcblx0XHRjb25zdCBhYmJyZXZpYXRpb25TaXplcyA9IFtcIjBweFwiLCBcIjMycHhcIiwgXCIyNHB4XCIsIFwiMjBweFwiLCBcIjE4cHhcIiwgXCIxNnB4XCIsIFwiMTRweFwiXTtcblxuXHRcdGNvbnN0IGxpc3RJdGVtID0gJChcImxpXCIsIHtcblx0XHRcdGFsdDogXCJcIixcblx0XHRcdGNsYXNzOiBgJHtwcmVmaXh9LXByZXZlbnQtZHJvcGRvd24gbGluay1vZmYtYmxhY2sgYXBwTGlua0NvbnRhaW5lcmAsXG5cdFx0XHRyb2xlOiBcIm1lbnVpdGVtXCJcblx0XHR9KTtcblxuXHRcdGNvbnN0IGFwcExpbmsgPSAkKFwiYVwiLCB7XG5cdFx0XHRocmVmOiBjdXJyZW50QXBwLnVybCwgLy8gKyBcIiN1c2VybmFtZT1cIiArIHRoaXMuX2N1cnJlbnRVc2VyLnVzZXJuYW1lLFxuXHRcdFx0dGFyZ2V0OiBcIl9ibGFua1wiLFxuXHRcdFx0Y2xhc3M6IFwiYXBwTGlua1wiXG5cdFx0fSk7XG5cdFx0Ly8gQ2hlY2sgaWYgQXBwIGhhcyBJY29uXG5cdFx0aWYgKGN1cnJlbnRBcHAuaW1hZ2UpIHtcblx0XHRcdGNvbnN0IGFwcEltYWdlQ29udGFpbmVyID0gJChcImRpdlwiLCB7XCJjbGFzc1wiOiBcImFwcEljb25JbWFnZVwifSk7XG5cdFx0XHQkcmVuZGVyU3ZnT3JJbWcoe2ltZ0RlZjogY3VycmVudEFwcC5pbWFnZSwgaW1nV2lkdGg6IDQ4LCBpbWdIZWlnaHQ6IDQ4LCAkdGFyZ2V0RWxtOiBhcHBJbWFnZUNvbnRhaW5lcn0pO1xuXHRcdFx0YXBwTGluay5hcHBlbmQoYXBwSW1hZ2VDb250YWluZXIpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRjb25zdCBzdHJpbmdXaWR0aCA9IE1hdGgucm91bmQoZ2V0VGV4dFdpZHRoKGN1cnJlbnRBcHAuYWJiciB8fCBcIlwiLCBcImF2ZW5pclwiKSAvIDUpO1xuXHRcdFx0bGV0IGFiYnJldmlhdGlvblNpemUgPSBhYmJyZXZpYXRpb25TaXplc1tzdHJpbmdXaWR0aF07XG5cdFx0XHRpZiAoc3RyaW5nV2lkdGggPiA2KSB7IC8vIFByZXZlbnQgdXNlciBmcm9tIGV4Y2VlZGluZyBpY29uIHdpZHRoXG5cdFx0XHRcdGN1cnJlbnRBcHAuYWJiciA9IGN1cnJlbnRBcHAuYWJici5zdWJzdHIoMCwgNCk7XG5cdFx0XHRcdGFiYnJldmlhdGlvblNpemUgPSBhYmJyZXZpYXRpb25TaXplc1s0XTtcblx0XHRcdH1cblx0XHRcdGNvbnN0IHN1cmZhY2VEaXYgPSAkKFwiZGl2XCIsIHtcImNsYXNzXCI6IFwiYXBwSWNvbkltYWdlXCJ9KTtcblx0XHRcdGNvbnN0IHN1cmZhY2VTcGFuID0gJChcInNwYW5cIiwge1xuXHRcdFx0XHRzdHlsZTogYGZvbnQtc2l6ZTogJHthYmJyZXZpYXRpb25TaXplfWAsXG5cdFx0XHRcdGNsYXNzOiBcImF2ZW5pciBhcHBJY29uU3ZnVGV4dFwiXG5cdFx0XHR9LCBjdXJyZW50QXBwLmFiYnIpO1xuXHRcdFx0c3VyZmFjZURpdi5hcHBlbmQoc3VyZmFjZVNwYW4pO1xuXHRcdFx0c3VyZmFjZURpdi5hcHBlbmQoJHJlbmRlclN2Z09ySW1nKHtpbWdEZWY6IGN1cnJlbnRBcHAucGxhY2VIb2xkZXJJY29uLCBpbWdXaWR0aDogNDgsIGltZ0hlaWdodDogNDh9KSk7XG5cdFx0XHRhcHBMaW5rLmFwcGVuZChzdXJmYWNlRGl2KTtcblx0XHR9XG5cdFx0Y29uc3QgcCA9ICQoXCJwXCIsIHtzdHlsZTogXCJtYXJnaW46MCBhdXRvOyB0ZXh0LWFsaWduOmNlbnRlclwifSwgY3VycmVudEFwcC5sYWJlbCk7XG5cdFx0YXBwTGluay5hcHBlbmQocCk7XG5cdFx0bGlzdEl0ZW0uYXBwZW5kKGFwcExpbmspO1xuXHRcdCR0b3BBcHBDb250YWluZXIuYXBwZW5kKGxpc3RJdGVtKTtcblx0fTtcblxuXHRjb25zdCBnZXRUZXh0V2lkdGggPSAodGV4dCwgZm9udCkgPT4geyAvLyBBZGRzIHN1cHBvcnQgZm9yIGFwcCBhYmJyZXZpYXRpb25zIGluIGFsbCBsYW5ndWFnZXNcblx0XHRjb25zdCBjYW52YXMgPSBnZXRUZXh0V2lkdGguY2FudmFzIHx8IChnZXRUZXh0V2lkdGguY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKSk7XG5cdFx0Y29uc3QgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XG5cdFx0Y29udGV4dC5mb250ID0gZm9udDtcblx0XHRjb25zdCBtZXRyaWNzID0gY29udGV4dC5tZWFzdXJlVGV4dCh0ZXh0KTtcblx0XHRyZXR1cm4gbWV0cmljcy53aWR0aDtcblx0fTtcblxuXHQvKiBBcHBzOiBPbiBVcGRhdGVcblx0LyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cdCR0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcignaGVhZGVyOnVwZGF0ZTphcHBzJywgKHtkZXRhaWx9KSA9PiB7XG5cdFx0Y29uc29sZS5sb2coJ2FwcG1vZGUnLCBkZXRhaWwpO1xuXG5cdFx0JHJlbmRlclN2Z09ySW1nKHtpbWdEZWY6IGRldGFpbC5pbWFnZS5wYXRoLCBpbWdXaWR0aDogZGV0YWlsLmltYWdlLndpZHRoLCBpbWdIZWlnaHQ6IGRldGFpbC5pbWFnZS5oZWlnaHQsIGltZ0NsYXNzOiBgJHtwcmVmaXh9LWltYWdlYCwgJHRhcmdldEVsbTogJGFwcFN3aXRjaGVySWNvbn0pO1xuXG5cdFx0aWYgKGRldGFpbC5pY29ucykge1xuXHRcdFx0JHRhcmdldC5hcHBlbmRDaGlsZCgkY29udGVudCk7XG5cdFx0XHQkY29udHJvbC5jbGFzc05hbWUgPSBgJHtwcmVmaXh9LWNvbnRyb2xgO1xuXG5cdFx0XHQkKCRjb250cm9sLCB7YXJpYToge2xhYmVsOiBkZXRhaWwubGFiZWx9fSk7XG5cblx0XHRcdGNvbnN0IG51bWJlck9mQXBwcyA9IGRldGFpbC5pY29ucy5sZW5ndGg7XG5cdFx0XHRjb25zdCBkcm9wZG93bldpZHRoID0gYCBkcm9wZG93bi13aWR0aC0keyhudW1iZXJPZkFwcHMgPCA0ID8gbnVtYmVyT2ZBcHBzIDogNCl9YDtcblxuXHRcdFx0Ly8gQXBwIEljb25zXG5cblx0XHRcdGNvbnN0ICR0b3BBcHBDb250YWluZXIgPSAkKFwidWxcIiwge1xuXHRcdFx0XHRjbGFzczogYCR7cHJlZml4fS1wcmV2ZW50LWRyb3Bkb3duIGFwcENvbnRhaW5lcmAsXG5cdFx0XHRcdHJvbGU6IFwibWVudVwiXG5cdFx0XHR9KTtcblxuXHRcdFx0Y29uc3QgbWF4QXBwc1BlckRpYWxvZyA9IG51bWJlck9mQXBwcyA+PSAxMDAgPyAxMDAgOiBudW1iZXJPZkFwcHM7XG5cdFx0XHRmb3IgKGxldCBpID0gMDsgaSA8IG1heEFwcHNQZXJEaWFsb2c7IGkgKz0gMSkge1xuXHRcdFx0XHRjcmVhdGVEZWZhdWx0QXBwTGF5b3V0KCR0b3BBcHBDb250YWluZXIsIGRldGFpbC5pY29uc1tpXSk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIENvbnRhaW5lclxuXHRcdFx0Y29uc3QgJGRyb3Bkb3duV3JhcHBlciA9ICQoJ2RpdicsIHtjbGFzczogYCR7cHJlZml4fS1wcmV2ZW50LWRyb3Bkb3duYH0sICR0b3BBcHBDb250YWluZXIpO1xuXG5cdFx0XHRjb25zdCAkZHJvcGRvd25OYXYgPSAkKCduYXYnLCB7XG5cdFx0XHRcdGNsYXNzOiBgJHtwcmVmaXh9LXByZXZlbnQtZHJvcGRvd24gZHJvcGRvd24tbWVudSBkcm9wZG93bi1yaWdodCBhcHAtc3dpdGNoZXItZHJvcGRvd24tbWVudSAke2Ryb3Bkb3duV2lkdGh9YCxcblx0XHRcdFx0cm9sZTogXCJtZW51XCJcblx0XHRcdH0sICRkcm9wZG93bldyYXBwZXIpO1xuXG5cdFx0XHQkcmVwbGFjZUFsbCgkZHJvcGRvd24sICRhcHBTd2l0Y2hlckljb24sICRkcm9wZG93bk5hdik7XG5cdFx0fVxuXHR9KTtcblxuXHRyZXR1cm4gJHRhcmdldDtcbn07XG4iLCJpbXBvcnQgeyRhc3NpZ24gYXMgJCwgJGRpc3BhdGNoLCAkZW5hYmxlRm9jdXNSaW5nLCAkcmVwbGFjZUFsbH0gZnJvbSAnLi4vLi4vc2hhcmVkL2pzL3NoYXJlZCc7XG5cbmltcG9ydCBjcmVhdGVBY2NvdW50IGZyb20gJy4vaGVhZGVyLWFjY291bnQnO1xuaW1wb3J0IGNyZWF0ZUJyYW5kIGZyb20gJy4vaGVhZGVyLWJyYW5kJztcbmltcG9ydCBjcmVhdGVNZW51cyBmcm9tICcuL2hlYWRlci1tZW51cyc7XG5pbXBvcnQgY3JlYXRlU2VhcmNoIGZyb20gJy4vaGVhZGVyLXNlYXJjaCc7XG5pbXBvcnQgY3JlYXRlQXBwcyBmcm9tICcuL2hlYWRlci1hcHBzJztcblxuLyogSGVhZGVyXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbmV4cG9ydCBkZWZhdWx0IChkYXRhKSA9PiB7XG5cdGxldCB2aWV3cG9ydElzU21hbGw7XG5cdGxldCB2aWV3cG9ydElzU21hbGxNZWRpdW07XG5cblx0LyogQ2FudmFzXG5cdC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXHRjb25zdCAkaGVhZGVyQ2FudmFzID0gJCgnYnV0dG9uJywge1xuXHRcdGNsYXNzOiAnZXNyaS1oZWFkZXItY2FudmFzJyxcblx0XHR0YWJpbmRleDogJy0xJyxcblx0XHRkYXRhOiB7b3BlbjogZmFsc2V9XG5cdH0pO1xuXG5cdCRoZWFkZXJDYW52YXMuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG5cdFx0JGRpc3BhdGNoKCRoZWFkZXJDYW52YXMsICdoZWFkZXI6bWVudTpjbG9zZScpO1xuXHR9KTtcblxuXHQvKiBFbGVtZW50c1xuXHQvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblx0Y29uc3QgJGJyYW5kID0gY3JlYXRlQnJhbmQoKTtcblx0Y29uc3QgJGFjY291bnQgPSBjcmVhdGVBY2NvdW50KCk7XG5cdGNvbnN0ICRtZW51cyA9IGNyZWF0ZU1lbnVzKCk7XG5cdGNvbnN0ICRzZWFyY2ggPSBjcmVhdGVTZWFyY2goKTtcblx0Y29uc3QgJGFwcHMgPSBjcmVhdGVBcHBzKCk7XG5cblx0Y29uc3QgJGNsaWVudCA9ICQoJ2RpdicsIHtjbGFzczogJ2VzcmktaGVhZGVyLWNsaWVudCd9LFxuXHRcdCRhY2NvdW50XG5cdCk7XG5cblx0Y29uc3QgJGxpbmVCcmVhayA9ICQoJ2RpdicsIHtjbGFzczogJ2VzcmktaGVhZGVyLWxpbmVCcmVhayd9KTtcblxuXHRjb25zdCAkaGVhZGVyID0gJCgnZGl2Jywge2NsYXNzOiBgZXNyaS1oZWFkZXIgLSR7ZGF0YS50aGVtZSB8fCAnd2ViJ31gfSxcblx0XHQkaGVhZGVyQ2FudmFzLFxuXHRcdCRicmFuZCxcblx0XHQkbWVudXMsXG5cdFx0JHNlYXJjaCxcblx0XHQkbGluZUJyZWFrLFxuXHRcdCRhcHBzLFxuXHRcdCRjbGllbnRcblx0KTtcblxuXHQkZW5hYmxlRm9jdXNSaW5nKCRoZWFkZXIpO1xuXG5cdC8qIE9uIEhlYWRlciBVcGRhdGVcblx0LyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cdCRoZWFkZXIuYWRkRXZlbnRMaXN0ZW5lcignaGVhZGVyOnVwZGF0ZScsICh7ZGV0YWlsfSkgPT4ge1xuXHRcdGlmIChkZXRhaWwuYnJhbmQpIHtcblx0XHRcdCRkaXNwYXRjaCgkYnJhbmQsICdoZWFkZXI6dXBkYXRlOmJyYW5kJywgZGV0YWlsLmJyYW5kKTtcblx0XHR9XG5cblx0XHRpZiAoZGV0YWlsLm1lbnVzKSB7XG5cdFx0XHQkZGlzcGF0Y2goJG1lbnVzLCAnaGVhZGVyOnVwZGF0ZTptZW51cycsIGRldGFpbC5tZW51cyk7XG5cdFx0fVxuXG5cdFx0aWYgKGRldGFpbC5zZWFyY2gpIHtcblx0XHRcdCRkaXNwYXRjaCgkc2VhcmNoLCAnaGVhZGVyOnVwZGF0ZTpzZWFyY2gnLCBkZXRhaWwuc2VhcmNoKTtcblx0XHR9XG5cblx0XHRpZiAoZGV0YWlsLmFjY291bnQpIHtcblx0XHRcdCRkaXNwYXRjaCgkY2xpZW50Lmxhc3RDaGlsZCwgJ2hlYWRlcjp1cGRhdGU6YWNjb3VudCcsIGRldGFpbC5hY2NvdW50KTtcblx0XHR9XG5cblx0XHRpZiAoZGV0YWlsLmFjY291bnQpIHtcblx0XHRcdCRkaXNwYXRjaCgkY2xpZW50Lmxhc3RDaGlsZCwgJ2hlYWRlcjp1cGRhdGU6YWNjb3VudCcsIGRldGFpbC5hY2NvdW50KTtcblx0XHR9XG5cblx0XHRpZiAoZGV0YWlsLmFwcHMpIHtcblx0XHRcdCRkaXNwYXRjaCgkYXBwcywgJ2hlYWRlcjp1cGRhdGU6YXBwcycsIGRldGFpbC5hcHBzKTtcblx0XHR9XG5cblx0XHQkaGVhZGVyLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsICh7a2V5Q29kZX0pID0+IHtcblx0XHRcdGlmICgyNyA9PT0ga2V5Q29kZSkge1xuXHRcdFx0XHQkZGlzcGF0Y2goJGhlYWRlciwgJ2hlYWRlcjptZW51OmNsb3NlJyk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH0pO1xuXG5cdC8qIE9uIEhlYWRlciBNZW51IFRvZ2dsZVxuXHQvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblx0JGhlYWRlci5hZGRFdmVudExpc3RlbmVyKCdoZWFkZXI6bWVudTp0b2dnbGUnLCAoe2RldGFpbH0pID0+IHtcblx0XHRjb25zdCBzdWJtZW51U2hvdWxkT3BlbiA9ICd0cnVlJyAhPT0gZGV0YWlsLmNvbnRyb2wuZ2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJyk7XG5cdFx0Y29uc3QgZXZlbnRUeXBlID0gc3VibWVudVNob3VsZE9wZW4gPyAnaGVhZGVyOm1lbnU6b3BlbicgOiAnaGVhZGVyOm1lbnU6Y2xvc2UnO1xuXG5cdFx0JGRpc3BhdGNoKGRldGFpbC5jb250cm9sLCBldmVudFR5cGUsIGRldGFpbCk7XG5cdH0pO1xuXG5cdC8qIE9uIEhlYWRlciBNZW51IE9wZW5cblx0LyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cdGxldCBhY2NvdW50RGV0YWlsID0gbnVsbDtcblx0bGV0IHNlYXJjaERldGFpbCA9IG51bGw7XG5cdGxldCBtZW51c0RldGFpbCA9IG51bGw7XG5cdGxldCBtZW51RGV0YWlsID0gbnVsbDtcblx0bGV0IGFwcHNEZXRhaWwgPSBudWxsO1xuXG5cdCRoZWFkZXIuYWRkRXZlbnRMaXN0ZW5lcignaGVhZGVyOm1lbnU6b3BlbicsICh7ZGV0YWlsfSkgPT4ge1xuXHRcdGNvbnN0IGlzTWVudVRvZ2dsZSA9ICdtZW51LXRvZ2dsZScgPT09IGRldGFpbC50eXBlO1xuXG5cdFx0Ly8gVXBkYXRlIENvbnRyb2wsIENvbnRlbnRcblx0XHQkKGRldGFpbC5jb250cm9sLCB7YXJpYToge2V4cGFuZGVkOiB0cnVlfX0pO1xuXHRcdCQoZGV0YWlsLmNvbnRlbnQsIHthcmlhOiB7ZXhwYW5kZWQ6IHRydWUsIGhpZGRlbjogZmFsc2V9fSk7XG5cblx0XHRpZiAobWVudURldGFpbCAmJiBtZW51RGV0YWlsLmNvbnRyb2wgIT09IGRldGFpbC5jb250cm9sKSB7XG5cdFx0XHQkZGlzcGF0Y2gobWVudURldGFpbC5jb250cm9sLCAnaGVhZGVyOm1lbnU6Y2xvc2UnLCBtZW51RGV0YWlsKTtcblx0XHR9XG5cblx0XHRpZiAoJ21lbnUtdG9nZ2xlJyA9PT0gZGV0YWlsLnR5cGUpIHtcblx0XHRcdG1lbnVEZXRhaWwgPSBkZXRhaWw7XG5cdFx0fVxuXG5cdFx0aWYgKCRzZWFyY2ggPT09IGRldGFpbC50YXJnZXQpIHtcblx0XHRcdHNlYXJjaERldGFpbCA9IGRldGFpbDtcblx0XHR9IGVsc2UgaWYgKHNlYXJjaERldGFpbCkge1xuXHRcdFx0JGRpc3BhdGNoKCRzZWFyY2gsICdoZWFkZXI6bWVudTpjbG9zZScsIHNlYXJjaERldGFpbCk7XG5cblx0XHRcdHNlYXJjaERldGFpbCA9IG51bGw7XG5cdFx0fVxuXG5cdFx0aWYgKCRtZW51cyA9PT0gZGV0YWlsLnRhcmdldCkge1xuXHRcdFx0bWVudXNEZXRhaWwgPSBkZXRhaWw7XG5cdFx0fSBlbHNlIGlmIChtZW51c0RldGFpbCAmJiAhaXNNZW51VG9nZ2xlICYmICF2aWV3cG9ydElzU21hbGwubWF0Y2hlcykge1xuXHRcdFx0JGRpc3BhdGNoKCRtZW51cywgJ2hlYWRlcjptZW51OmNsb3NlJywgbWVudXNEZXRhaWwpO1xuXG5cdFx0XHRtZW51c0RldGFpbCA9IG51bGw7XG5cdFx0fVxuXG5cdFx0aWYgKCRhY2NvdW50ID09PSBkZXRhaWwudGFyZ2V0KSB7XG5cdFx0XHRhY2NvdW50RGV0YWlsID0gZGV0YWlsO1xuXHRcdH0gZWxzZSBpZiAoYWNjb3VudERldGFpbCkge1xuXHRcdFx0JGRpc3BhdGNoKCRhY2NvdW50LCAnaGVhZGVyOm1lbnU6Y2xvc2UnLCBhY2NvdW50RGV0YWlsKTtcblxuXHRcdFx0YWNjb3VudERldGFpbCA9IG51bGw7XG5cdFx0fVxuXG5cdFx0aWYgKCRhcHBzID09PSBkZXRhaWwudGFyZ2V0KSB7XG5cdFx0XHRhcHBzRGV0YWlsID0gZGV0YWlsO1xuXHRcdH0gZWxzZSBpZiAoYXBwc0RldGFpbCkge1xuXHRcdFx0JGRpc3BhdGNoKCRhcHBzLCAnaGVhZGVyOm1lbnU6Y2xvc2UnLCBhcHBzRGV0YWlsKTtcblxuXHRcdFx0YXBwc0RldGFpbCA9IG51bGw7XG5cdFx0fVxuXG5cdFx0Ly8gVXBkYXRlIENhbnZhc1xuXHRcdCQoJGhlYWRlckNhbnZhcywge2RhdGE6IHtvcGVuOiB0cnVlLCBzdGF0ZTogZGV0YWlsLnN0YXRlfX0pO1xuXG5cdFx0Ly8gVXBkYXRlIERvY3VtZW50IFJvb3Rcblx0XHQkKCRoZWFkZXIub3duZXJEb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsIHtkYXRhOiB7J2hlYWRlci1pcy1vcGVuJzogdHJ1ZX19KTtcblx0fSk7XG5cblx0LyogT24gSGVhZGVyIE1lbnUgQ2xvc2Vcblx0LyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cdCRoZWFkZXIuYWRkRXZlbnRMaXN0ZW5lcignaGVhZGVyOm1lbnU6Y2xvc2UnLCAoe2RldGFpbH0pID0+IHtcblx0XHRjb25zdCBjdXJyZW50RGV0YWlsID0gZGV0YWlsIHx8IG1lbnVzRGV0YWlsIHx8IHNlYXJjaERldGFpbCB8fCBhY2NvdW50RGV0YWlsIHx8IGFwcHNEZXRhaWwgfHwgbWVudURldGFpbDtcblxuXHRcdGlmIChjdXJyZW50RGV0YWlsKSB7XG5cdFx0XHQvLyBDbG9zZSB0aGUgRGV0YWlsXG5cdFx0XHQkKGN1cnJlbnREZXRhaWwuY29udHJvbCwge2FyaWE6IHtleHBhbmRlZDogZmFsc2V9fSk7XG5cdFx0XHQkKGN1cnJlbnREZXRhaWwuY29udGVudCwge2FyaWE6IHtleHBhbmRlZDogZmFsc2UsIGhpZGRlbjogdHJ1ZX19KTtcblxuXHRcdFx0Y29uc3QgY2FudmFzU2hvdWxkQ2xvc2UgPSAhdmlld3BvcnRJc1NtYWxsTWVkaXVtLm1hdGNoZXMgfHwgJ21lbnUtY2xvc2UnICE9PSBjdXJyZW50RGV0YWlsLnR5cGUgJiYgJ2FjY291bnQtY2xvc2UnICE9PSBjdXJyZW50RGV0YWlsLnR5cGU7XG5cblx0XHRcdGlmIChzZWFyY2hEZXRhaWwgJiYgc2VhcmNoRGV0YWlsLmNvbnRyb2wgPT09IGN1cnJlbnREZXRhaWwuY29udHJvbCkge1xuXHRcdFx0XHQkZGlzcGF0Y2goc2VhcmNoRGV0YWlsLmNvbnRlbnQubGFzdENoaWxkLCAncmVzZXQnKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGNhbnZhc1Nob3VsZENsb3NlKSB7XG5cdFx0XHRcdC8vIENsb3NlIHRoZSBDYW52YXNcblx0XHRcdFx0JCgkaGVhZGVyQ2FudmFzLCB7ZGF0YToge29wZW46IGZhbHNlfX0pO1xuXG5cdFx0XHRcdC8vIFVwZGF0ZSBEb2N1bWVudCBSb290XG5cdFx0XHRcdCRoZWFkZXIub3duZXJEb2N1bWVudC5kb2N1bWVudEVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdkYXRhLWhlYWRlci1pcy1vcGVuJyk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9KTtcblxuXHQvKiBPbiBET01Ob2RlSW5zZXJ0ZWRcblx0LyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cdCRoZWFkZXIuYWRkRXZlbnRMaXN0ZW5lcignRE9NTm9kZUluc2VydGVkJywgZnVuY3Rpb24gb25sb2FkKCkge1xuXHRcdC8vIEdldCBEb2N1bWVudCBhbmQgV2luZG93XG5cdFx0Y29uc3QgJGhlYWRlckRvY3VtZW50ID0gJGhlYWRlci5vd25lckRvY3VtZW50O1xuXHRcdGNvbnN0ICRoZWFkZXJXaW5kb3cgPSAkaGVhZGVyRG9jdW1lbnQuZGVmYXVsdFZpZXc7XG5cblx0XHRjb25zdCAkc3R5bGUgPSAkKCdzdHlsZScpO1xuXG5cdFx0bGV0IG92ZXJmbG93WTtcblxuXHRcdGlmICgkaGVhZGVyLnBhcmVudE5vZGUpIHtcblx0XHRcdC8vIFVuYmluZCBOb2RlIEluc2VydGVkXG5cdFx0XHQkaGVhZGVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ0RPTU5vZGVJbnNlcnRlZCcsIG9ubG9hZCk7XG5cblx0XHRcdC8vIFVwZGF0ZSBIZWFkZXJcblx0XHRcdCRkaXNwYXRjaCgkaGVhZGVyLCAnaGVhZGVyOnVwZGF0ZScsIGRhdGEpO1xuXG5cdFx0XHQvKiBPbiBSZXNpemVcblx0XHRcdC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblx0XHRcdCQoJGhlYWRlckRvY3VtZW50LmhlYWQsXG5cdFx0XHRcdCRzdHlsZVxuXHRcdFx0KTtcblxuXHRcdFx0JGhlYWRlcldpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdvcmllbnRhdGlvbmNoYW5nZScsIG9ucmVzaXplKTtcblx0XHRcdCRoZWFkZXJXaW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgb25yZXNpemUpO1xuXG5cdFx0XHRvbnJlc2l6ZSgpO1xuXG5cdFx0XHQvKiBPbiBNYXRjaCBNZWRpYSBDaGFuZ2Vcblx0XHRcdC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblx0XHRcdHZpZXdwb3J0SXNTbWFsbCA9ICRoZWFkZXJXaW5kb3cubWF0Y2hNZWRpYSgnKG1heC13aWR0aDogNzY3cHgpJyk7XG5cdFx0XHR2aWV3cG9ydElzU21hbGxNZWRpdW0gPSAkaGVhZGVyV2luZG93Lm1hdGNoTWVkaWEoJyhtYXgtd2lkdGg6IDEwMjNweCknKTtcblxuXHRcdFx0dmlld3BvcnRJc1NtYWxsLmFkZExpc3RlbmVyKG9uVmlld3BvcnRJc1NtYWxsQ2hhbmdlKTtcblx0XHRcdHZpZXdwb3J0SXNTbWFsbE1lZGl1bS5hZGRMaXN0ZW5lcihvblZpZXdwb3J0SXNTbWFsbE1lZGl1bUNoYW5nZSk7XG5cblx0XHRcdG9uVmlld3BvcnRJc1NtYWxsQ2hhbmdlKCk7XG5cdFx0XHRvblZpZXdwb3J0SXNTbWFsbE1lZGl1bUNoYW5nZSgpO1xuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIG9ucmVzaXplKCkge1xuXHRcdFx0Y29uc3Qgd2lkdGggPSAkaGVhZGVyRG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoO1xuXHRcdFx0Y29uc3QgaGVpZ2h0ID0gJGhlYWRlckRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQ7XG5cdFx0XHRjb25zdCBzY3JvbGxIZWlnaHQgPSAkaGVhZGVyRG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbEhlaWdodDtcblxuXHRcdFx0b3ZlcmZsb3dZID0gZ2V0Q29tcHV0ZWRTdHlsZSgkaGVhZGVyRG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KS5vdmVyZmxvd1kucmVwbGFjZSgndmlzaWJsZScsIHNjcm9sbEhlaWdodCA+IGhlaWdodCA/ICdzY3JvbGwnIDogJ3Zpc2libGUnKTtcblxuXHRcdFx0JHJlcGxhY2VBbGwoJHN0eWxlLFxuXHRcdFx0XHRgOnJvb3R7LS1lc3JpLXZ3OiR7d2lkdGh9cHg7LS1lc3JpLXZoOiR7aGVpZ2h0fXB4fVtkYXRhLWhlYWRlci1pcy1vcGVuXXt3aWR0aDoke3dpZHRofXB4O2hlaWdodDoke2hlaWdodH1weDtvdmVyZmxvdy15OiR7b3ZlcmZsb3dZfX1gXG5cdFx0XHQpO1xuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIG9uVmlld3BvcnRJc1NtYWxsQ2hhbmdlKCkge1xuXHRcdFx0aWYgKHZpZXdwb3J0SXNTbWFsbC5tYXRjaGVzKSB7XG5cdFx0XHRcdCRkaXNwYXRjaCgkaGVhZGVyLCAnaGVhZGVyOmJyZWFrcG9pbnQ6cycpO1xuXG5cdFx0XHRcdCRtZW51cy5sYXN0Q2hpbGQuYXBwZW5kQ2hpbGQoJGFjY291bnQpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0JGRpc3BhdGNoKCRoZWFkZXIsICdoZWFkZXI6YnJlYWtwb2ludDpub3Q6cycpO1xuXG5cdFx0XHRcdCRjbGllbnQuYXBwZW5kQ2hpbGQoJGFjY291bnQpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIG9uVmlld3BvcnRJc1NtYWxsTWVkaXVtQ2hhbmdlKCkge1xuXHRcdFx0aWYgKHZpZXdwb3J0SXNTbWFsbE1lZGl1bS5tYXRjaGVzKSB7XG5cdFx0XHRcdCRkaXNwYXRjaCgkaGVhZGVyLCAnaGVhZGVyOmJyZWFrcG9pbnQ6c20nKTtcblxuXHRcdFx0XHQkKCRtZW51cy5sYXN0Q2hpbGQsIHthcmlhOiB7aGlkZGVuOiAnZmFsc2UnID09PSAkbWVudXMubGFzdENoaWxkLmdldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcpfX0pO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0JGRpc3BhdGNoKCRoZWFkZXIsICdoZWFkZXI6YnJlYWtwb2ludDpub3Q6c20nKTtcblxuXHRcdFx0XHQkKCRtZW51cy5sYXN0Q2hpbGQsIHthcmlhOiB7aGlkZGVuOiBmYWxzZX19KTtcblx0XHRcdH1cblx0XHR9XG5cdH0pO1xuXG5cdHJldHVybiAkaGVhZGVyO1xufTtcbiIsImltcG9ydCB7JGFzc2lnbiBhcyAkLCAkcmVuZGVyU3ZnT3JJbWd9IGZyb20gJy4uLy4uL3NoYXJlZC9qcy9zaGFyZWQnO1xuXG4vLyBDcmVhdGUgYnJhbmRpbmcgYW5kIHNvY2lhbCBzZWN0aW9uc1xuZXhwb3J0IGRlZmF1bHQgKGRhdGEsIHByZWZpeCkgPT4gJCgnZGl2Jywge2NsYXNzOiBgJHtwcmVmaXh9LWJyYW5kYH0sXG5cdCQoJ2EnLFxuXHRcdHtcblx0XHRcdGNsYXNzOiBgJHtwcmVmaXh9LWJyYW5kLWxpbmtgLFxuXHRcdFx0aHJlZjogZGF0YS5ocmVmLFxuXHRcdFx0YXJpYToge2xhYmVsOiBkYXRhLmxhYmVsfVxuXHRcdH0sXG5cdFx0JHJlbmRlclN2Z09ySW1nKHtpbWdEZWY6IGRhdGEucGF0aCwgaW1nQ2xhc3M6IGAke3ByZWZpeH0tYnJhbmQtaW1hZ2VgfSlcblx0KVxuKTtcbiIsImltcG9ydCB7JGFzc2lnbiBhcyAkfSBmcm9tICcuLi8uLi9zaGFyZWQvanMvc2hhcmVkJztcblxuLyogTGFuZ3VhZ2Vcbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbmV4cG9ydCBkZWZhdWx0IChkYXRhKSA9PiB7XG5cdGNvbnN0ICRjaG9pY2UgPSAkKCdzZWxlY3QnLFxuXHRcdHtcblx0XHRcdGNsYXNzOiBgJHtkYXRhLnByZWZpeH0tY2hvaWNlYCxcblx0XHRcdGF1dG9mb2N1czogJycsXG5cdFx0XHRhcmlhOiB7bGFiZWw6IGRhdGEub3B0aW9uc0xhYmVsfVxuXHRcdH0sXG5cdFx0Li4uZGF0YS5vcHRpb25zLm1hcChcblx0XHRcdChvcHRpb24pID0+ICQoJ29wdGlvbicsIHt2YWx1ZTogb3B0aW9uLnZhbHVlfSwgb3B0aW9uLmxhYmVsKVxuXHRcdClcblx0KTtcblxuXHRjb25zdCAkbGFuZ3VhZ2UgPSAkKCdmb3JtJywge1xuXHRcdFx0Y2xhc3M6IGRhdGEucHJlZml4LFxuXHRcdFx0YXJpYToge2xhYmVsbGVkYnk6IGAke2RhdGEucHJlZml4fS1tZXNzYWdlYCwgZGVzY3JpYmVkYnk6ICdkaWFsb2ctZGVzY3JpcHRpb24nfVxuXHRcdH0sXG5cdFx0JCgncCcsIHtjbGFzczogYCR7ZGF0YS5wcmVmaXh9LW1lc3NhZ2VgLCBpZDogYCR7ZGF0YS5wcmVmaXh9LW1lc3NhZ2VgfSxcblx0XHRcdCQoJ3N0cm9uZycsIGRhdGEuZ3JlZXRpbmdMYWJlbCksXG5cdFx0XHQnICcsXG5cdFx0XHRkYXRhLm1lc3NhZ2VMYWJlbFxuXHRcdCksXG5cdFx0JGNob2ljZSxcblx0XHQkKCdidXR0b24nLCB7XG5cdFx0XHRjbGFzczogYCR7ZGF0YS5wcmVmaXh9LXN1Ym1pdGAsXG5cdFx0XHR0eXBlOiAnc3VibWl0Jyxcblx0XHRcdGFyaWE6IHtsYWJlbDogYCR7ZGF0YS5zdWJtaXRMYWJlbH0gJHtkYXRhLm9wdGlvbnNMYWJlbH1gfVxuXHRcdH0sIGRhdGEuc3VibWl0TGFiZWwpXG5cdCk7XG5cblx0JGxhbmd1YWdlLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChldmVudCkgPT4ge1xuXHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cblx0XHR3aW5kb3cubG9jYXRpb24uaHJlZiA9ICRjaG9pY2UudmFsdWU7XG5cdH0pO1xuXG5cdHJldHVybiAkbGFuZ3VhZ2U7XG59O1xuIiwiLyogR2xvYmFsIEZvb3RlcjogVG9vbGluZ1xuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuaW1wb3J0IHskYXNzaWduIGFzICQsICRkaXNwYXRjaH0gZnJvbSAnLi4vLi4vc2hhcmVkL2pzL3NoYXJlZCc7XG5cbmltcG9ydCBsYW5ndWFnZURpYWxvZyBmcm9tICcuL2xhbmd1YWdlJztcblxuLyogR2xvYmFsIEZvb3RlclxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuZXhwb3J0IGRlZmF1bHQgKGRhdGEsIHByZWZpeCkgPT4ge1xuXHQvLyBMYW5ndWFnZSBTZWxlY3Rpb24gQnV0dG9uXG5cdGNvbnN0ICRsYWJlbFRleHQgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShkYXRhLmJ1dHRvbkxhYmVsKTtcblx0Y29uc3QgJGNvbnRyb2wgPSAkKCdidXR0b24nLCB7Y2xhc3M6IGAke3ByZWZpeH0tbGFuZ3VhZ2UtY29udHJvbGAsIGFyaWFEZXNjcmliZWRieTogYCR7cHJlZml4fS1sYW5ndWFnZWB9LCAkbGFiZWxUZXh0KTtcblx0Y29uc3QgJGJhcnJpZXIgPSAkKCdkaXYnLCB7Y2xhc3M6IGAke3ByZWZpeH0tbGFuZ3VhZ2VgfSwgJGNvbnRyb2wpO1xuXG5cdCRjb250cm9sLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3BlbkRpYWxvZyk7XG5cblx0Ly8gTGFuZ3VhZ2UgRGlhbG9nXG5cdGRhdGEucHJlZml4ID0gYCR7cHJlZml4fS1sYW5ndWFnZS1kaWFsb2dgO1xuXG5cdGNvbnN0ICRsYW5ndWFnZURpYWxvZyA9IGxhbmd1YWdlRGlhbG9nKGRhdGEpO1xuXG5cdC8vIExhbmd1YWdlIERpYWxvZyBDbG9zZSBCdXR0b25cblx0Y29uc3QgJGxhbmd1YWdlRGlhbG9nQ2xvc2UgPSAkKCdidXR0b24nLCB7XG5cdFx0Y2xhc3M6IGAke3ByZWZpeH0tbGFuZ3VhZ2UtZGlhbG9nLWNsb3NlYCwgaWQ6ICdkaWFsb2ctZGVzY3JpcHRpb24nLFxuXHRcdGFyaWFMYWJlbDogZGF0YS5jbG9zZUxhYmVsXG5cdH0pO1xuXG5cdCRsYW5ndWFnZURpYWxvZ0Nsb3NlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VEaWFsb2cpO1xuXG5cdCQoJGxhbmd1YWdlRGlhbG9nLCAkbGFuZ3VhZ2VEaWFsb2dDbG9zZSk7XG5cblx0Ly8gTGFuZ3VhZ2UgRGlhbG9nIENhbnZhc1xuXHRjb25zdCAkY2FuY2VsQ2FudmFzID0gJCgnYnV0dG9uJywge1xuXHRcdGNsYXNzOiBgJHtwcmVmaXh9LWxhbmd1YWdlLWRpYWxvZy1jYW5jZWwtY2FudmFzYCxcblx0XHR0eXBlOiAnYnV0dG9uJyxcblx0XHR0YWJpbmRleDogLTFcblx0fSk7XG5cblx0JGNhbmNlbENhbnZhcy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlRGlhbG9nKTtcblxuXHRmdW5jdGlvbiBvcGVuRGlhbG9nKGV2ZW50KSB7XG5cdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuXHRcdCQoJGNhbnZhcywge1xuXHRcdFx0YXJpYToge2V4cGFuZGVkOiB0cnVlfVxuXHRcdH0pO1xuXHR9XG5cblx0ZnVuY3Rpb24gY2xvc2VEaWFsb2coZXZlbnQpIHtcblx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG5cdFx0JCgkY2FudmFzLCB7XG5cdFx0XHRhcmlhOiB7ZXhwYW5kZWQ6IGZhbHNlfVxuXHRcdH0pO1xuXHR9XG5cblx0Ly8gLi4uXG5cdGNvbnN0ICRjYW52YXMgPSAkKCdkaXYnLCB7XG5cdFx0Y2xhc3M6IGAke3ByZWZpeH0tbGFuZ3VhZ2UtZGlhbG9nLWJhcnJpZXJgLFxuXHRcdGFyaWE6IHtleHBhbmRlZDogZmFsc2V9XG5cdH0sICRsYW5ndWFnZURpYWxvZywgJGNhbmNlbENhbnZhcyk7XG5cblx0Ly8gLi4uXG5cdCRjb250cm9sLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuXHRcdCRkaXNwYXRjaCgkY29udHJvbCwgJ2Zvb3RlcjpjbGljazpsYW5ndWFnZScsIGRhdGEpO1xuXHR9KTtcblxuXHQvLyAuLi5cblx0JGJhcnJpZXIuYWRkRXZlbnRMaXN0ZW5lcignZm9vdGVyOnVwZGF0ZTpsYW5ndWFnZScsICh7ZGV0YWlsfSkgPT4ge1xuXHRcdCRsYWJlbFRleHQubm9kZVZhbHVlID0gZGV0YWlsLmJ1dHRvbkxhYmVsO1xuXG5cdFx0JGJhcnJpZXIub3duZXJEb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKFxuXHRcdFx0JGNhbnZhc1xuXHRcdCk7XG5cblx0XHQkYmFycmllci5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoe2tleUNvZGV9ID0gZXZlbnQpID0+IHtcblx0XHRcdGlmICgyNyA9PT0ga2V5Q29kZSkge1xuXHRcdFx0XHRjbG9zZURpYWxvZyhldmVudCk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH0pO1xuXG5cdHJldHVybiAkYmFycmllcjtcbn07XG4iLCIvKiBHbG9iYWwgRm9vdGVyXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5pbXBvcnQgeyRhc3NpZ24gYXMgJCwgJGRpc3BhdGNofSBmcm9tICcuLi8uLi9zaGFyZWQvanMvc2hhcmVkJztcblxuLy8gQ3JlYXRlIG5hdmlnYXRpb25cbmV4cG9ydCBkZWZhdWx0IChkYXRhLCBwcmVmaXgpID0+IHtcblx0Ly8gLi4uXG5cdGNvbnN0IG1lZGlhID0gbWF0Y2hNZWRpYSgnKG1heC13aWR0aDogNzE5cHgpJyk7XG5cblx0bGV0IG1lZGlhTWF0Y2hlcyA9IGZhbHNlO1xuXG5cdG1lZGlhLmFkZExpc3RlbmVyKG9uY2hhbmdlKTtcblxuXHQvLyBNZW51IEl0ZW1zXG5cdGNvbnN0IGxpbmtzID0gZGF0YS5tZW51Lm1hcChcblx0XHQoaXRlbSwgaW5kZXgpID0+ICQoJ2xpJywge2NsYXNzOiBgJHtwcmVmaXh9LW1lbnUtaXRlbWAsIGlkOiBgJHtwcmVmaXh9LW1lbnUtbGluay0tJHtpbmRleH1gfSxcblx0XHRcdCQoJ3NwYW4nLFxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0Y2xhc3M6IGAke3ByZWZpeH0tbWVudS1saW5rYCxcblx0XHRcdFx0XHRyb2xlOiAnaGVhZGluZydcblx0XHRcdFx0fSxcblx0XHRcdFx0aXRlbS5sYWJlbFxuXHRcdFx0KSxcblx0XHRcdC8vIFN1Ym1lbnVcblx0XHRcdCQoJ25hdicsXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRjbGFzczogYCR7cHJlZml4fS1tZW51LS1zdWJgLCBpZDogYCR7cHJlZml4fS1tZW51LS1zdWItLSR7aW5kZXh9YCxcblx0XHRcdFx0XHRhcmlhOiB7bGFiZWxsZWRieTogYCR7cHJlZml4fS1tZW51LWxpbmstLSR7aW5kZXh9YH1cblx0XHRcdFx0fSxcblx0XHRcdFx0JCgndWwnLFxuXHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdGNsYXNzOiBgJHtwcmVmaXh9LW1lbnUtbGlzdC0tc3ViYCxcblx0XHRcdFx0XHRcdHJvbGU6ICdwcmVzZW50YXRpb24nXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHQvLyBTdWJtZW51IEl0ZW1zXG5cdFx0XHRcdFx0Li4uaXRlbS5tZW51Lm1hcChcblx0XHRcdFx0XHRcdChzdWJpdGVtKSA9PiAkKCdsaScsIHtjbGFzczogYCR7cHJlZml4fS1tZW51LWl0ZW0tLXN1YmB9LFxuXHRcdFx0XHRcdFx0XHQkKCdhJywge2NsYXNzOiBgJHtwcmVmaXh9LW1lbnUtbGluay0tc3ViYCwgaHJlZjogc3ViaXRlbS5ocmVmfSxcblx0XHRcdFx0XHRcdFx0XHRzdWJpdGVtLmxhYmVsXG5cdFx0XHRcdFx0XHRcdClcblx0XHRcdFx0XHRcdClcblx0XHRcdFx0XHQpXG5cdFx0XHRcdClcblx0XHRcdClcblx0XHQpXG5cdCk7XG5cblx0Ly8gTWVudVxuXHRjb25zdCAkdGFyZ2V0ID0gJCgnbmF2Jyxcblx0XHR7XG5cdFx0XHRjbGFzczogYCR7cHJlZml4fS1tZW51YCxcblx0XHRcdGFyaWE6IHtsYWJlbDogZGF0YS5sYWJlbH1cblx0XHR9LFxuXHRcdCQoJ3VsJyxcblx0XHRcdHtcblx0XHRcdFx0Y2xhc3M6IGAke3ByZWZpeH0tbWVudS1saXN0YCxcblx0XHRcdFx0cm9sZTogJ3ByZXNlbnRhdGlvbidcblx0XHRcdH0sXG5cdFx0XHQuLi5saW5rc1xuXHRcdClcblx0KTtcblxuXHRvbmNoYW5nZSgpO1xuXG5cdHJldHVybiAkdGFyZ2V0O1xuXG5cdC8vIC4uLlxuXHRmdW5jdGlvbiBvbmNoYW5nZSgpIHtcblx0XHRpZiAobWVkaWFNYXRjaGVzICE9PSBtZWRpYS5tYXRjaGVzKSB7XG5cdFx0XHRtZWRpYU1hdGNoZXMgPSBtZWRpYS5tYXRjaGVzO1xuXG5cdFx0XHRsaW5rcy5mb3JFYWNoKChsaW5rKSA9PiB7XG5cdFx0XHRcdGlmIChtZWRpYU1hdGNoZXMpIHtcblx0XHRcdFx0XHR0cmFuc2Zvcm1Bc1RvdWNoKGxpbmsuZmlyc3RDaGlsZCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0ZGV0cmFuc2Zvcm1Bc1RvdWNoKGxpbmsuZmlyc3RDaGlsZCk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH1cblx0fVxuXG5cdC8vIC4uLlxuXHRmdW5jdGlvbiB0cmFuc2Zvcm1Bc1RvdWNoKGxpbmspIHtcblx0XHRjb25zdCBpc1Zpc2libGUgPSAndHJ1ZScgIT09IGxpbmsubmV4dEVsZW1lbnRTaWJsaW5nLmdldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nKTtcblxuXHRcdCQobGluaywge1xuXHRcdFx0dGFiaW5kZXg6IDAsXG5cdFx0XHRyb2xlOiAnYnV0dG9uJywgYXJpYToge2V4cGFuZGVkOiAhaXNWaXNpYmxlLCBoYXNwb3B1cDogIWlzVmlzaWJsZX1cblx0XHR9KTtcblxuXHRcdGxpbmsuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvbmNsaWNrKTtcblx0XHRsaW5rLmFkZEV2ZW50TGlzdGVuZXIoJ2tleXByZXNzJywgb25rZXlwcmVzcyk7XG5cblx0XHQkKGxpbmsubmV4dEVsZW1lbnRTaWJsaW5nLCB7YXJpYToge2hpZGRlbjogdHJ1ZX19KTtcblx0fVxuXG5cdC8vIC4uLlxuXHRmdW5jdGlvbiBkZXRyYW5zZm9ybUFzVG91Y2gobGluaykge1xuXHRcdGxpbmsucmVtb3ZlQXR0cmlidXRlKCdhcmlhLWNvbnRyb2xzJyk7XG5cdFx0bGluay5yZW1vdmVBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnKTtcblx0XHRsaW5rLnJlbW92ZUF0dHJpYnV0ZSgnYXJpYS1oYXNwb3B1cCcpO1xuXHRcdGxpbmsucmVtb3ZlQXR0cmlidXRlKCdyb2xlJyk7XG5cdFx0bGluay5yZW1vdmVBdHRyaWJ1dGUoJ3RhYmluZGV4Jyk7XG5cblx0XHRsaW5rLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb25jbGljayk7XG5cdFx0bGluay5hZGRFdmVudExpc3RlbmVyKCdrZXlwcmVzcycsIG9ua2V5cHJlc3MpO1xuXG5cdFx0bGluay5uZXh0RWxlbWVudFNpYmxpbmcucmVtb3ZlQXR0cmlidXRlKCdhcmlhLWhpZGRlbicpO1xuXHR9XG5cblx0Ly8gLi4uXG5cdGZ1bmN0aW9uIG9uY2xpY2soZXZlbnQpIHtcblx0XHRjb25zdCBjdXJyZW50VGFyZ2V0ID0gZXZlbnQuY3VycmVudFRhcmdldDtcblx0XHRjb25zdCBuZXh0VGFyZ2V0ID0gY3VycmVudFRhcmdldC5uZXh0RWxlbWVudFNpYmxpbmc7XG5cdFx0Y29uc3QgaXNWaXNpYmxlID0gJ3RydWUnICE9PSBuZXh0VGFyZ2V0LmdldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nKTtcblxuXHRcdCQoY3VycmVudFRhcmdldCwge2FyaWE6IHtleHBhbmRlZDogIWlzVmlzaWJsZSwgaGFzcG9wdXA6ICFpc1Zpc2libGV9fSk7XG5cblx0XHQkKG5leHRUYXJnZXQsIHthcmlhOiB7aGlkZGVuOiBpc1Zpc2libGV9fSk7XG5cblx0XHRpZiAoaXNWaXNpYmxlKSB7XG5cdFx0XHQkKGN1cnJlbnRUYXJnZXQsIHthcmlhOiB7Y29udHJvbHM6IDB9fSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdCQoY3VycmVudFRhcmdldCwge2FyaWE6IHtjb250cm9sczogbmV4dFRhcmdldC5pZH19KTtcblx0XHR9XG5cdH1cblxuXHQvLyAuLi5cblx0ZnVuY3Rpb24gb25rZXlwcmVzcyhldmVudCkge1xuXHRcdGlmIChldmVudC5rZXlDb2RlID09PSAxMyB8fCBldmVudC5rZXlDb2RlID09PSAzMikge1xuXHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuXHRcdFx0JGRpc3BhdGNoKGV2ZW50LmN1cnJlbnRUYXJnZXQsICdjbGljaycpO1xuXHRcdH1cblx0fVxufTtcbiIsIi8qIEdsb2JhbCBGb290ZXI6IFRvb2xpbmdcbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbmltcG9ydCB7JGFzc2lnbiBhcyAkfSBmcm9tICcuLi8uLi9zaGFyZWQvanMvc2hhcmVkJztcblxuLyogR2xvYmFsIEZvb3RlclxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuZXhwb3J0IGRlZmF1bHQgKGRhdGEsIHByZWZpeCkgPT5cblx0JCgnbmF2Jywge2NsYXNzOiBgJHtwcmVmaXh9LWluZm9gLCBhcmlhOiB7bGFiZWw6IGRhdGEubGFiZWx9fSxcblx0XHQkKCd1bCcsIHtjbGFzczogYCR7cHJlZml4fS1pbmZvLWxpc3RgLCByb2xlOiAncHJlc2VudGF0aW9uJ30sXG5cdFx0XHQuLi5kYXRhLm1lbnUubWFwKFxuXHRcdFx0XHQoaXRlbSwgaW5kZXgpID0+ICQoJ2xpJywge2NsYXNzOiBgJHtwcmVmaXh9LWluZm8taXRlbWAsIGlkOiBgJHtwcmVmaXh9LWluZm8tbGluay0tJHtpbmRleH1gfSxcblx0XHRcdFx0XHQkKCdhJywge2NsYXNzOiBgJHtwcmVmaXh9LWluZm8tbGlua2AsIGhyZWY6IGl0ZW0uaHJlZn0sXG5cdFx0XHRcdFx0XHRpdGVtLmxhYmVsXG5cdFx0XHRcdFx0KVxuXHRcdFx0XHQpXG5cdFx0XHQpXG5cdFx0KVxuXHQpO1xuIiwiaW1wb3J0IHskYXNzaWduIGFzICQsICRyZW5kZXJTdmdPckltZ30gZnJvbSAnLi4vLi4vc2hhcmVkL2pzL3NoYXJlZCc7XG5cbmV4cG9ydCBkZWZhdWx0IChkYXRhLCBwcmVmaXgpID0+IHtcblx0Y29uc3QgJHNvY2lhbEljb25zID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO1xuXG5cblx0ZGF0YS5tZW51LmZvckVhY2goKGl0ZW0pID0+ICQoJHNvY2lhbEljb25zLFxuXHRcdCQoJ2xpJywge2NsYXNzOiBgJHtwcmVmaXh9LXNvY2lhbC1pdGVtYH0sXG5cdFx0XHQkKCdhJyxcblx0XHRcdFx0e1xuXHRcdFx0XHRcdGNsYXNzOiBgJHtwcmVmaXh9LXNvY2lhbC1saW5rIC0ke2l0ZW0ubGFiZWwudG9Mb3dlckNhc2UoKX1gLFxuXHRcdFx0XHRcdGhyZWY6IGl0ZW0uaHJlZixcblx0XHRcdFx0XHRhcmlhOiB7bGFiZWw6IGl0ZW0ubGFiZWx9XG5cdFx0XHRcdH0sXG5cdFx0XHRcdCRyZW5kZXJTdmdPckltZyh7aW1nRGVmOiBpdGVtLmltYWdlLnBhdGgsIGltZ0NsYXNzOiBgJHtwcmVmaXh9LXNvY2lhbC1pbWFnZWAsIGltZ1dpZHRoOiAzMCwgaW1nSGVpZ2h0OjMwLCB2aWV3Qm94IDogaXRlbS5pbWFnZS52aWV3Qm94fSlcblx0XHRcdClcblx0XHQpKSk7XG5cblx0cmV0dXJuICQoJ25hdicsXG5cdFx0e2NsYXNzOiBgJHtwcmVmaXh9LXNvY2lhbGAsIGFyaWE6IHtsYWJlbDogZGF0YS5sYWJlbH19LFxuXHRcdCQoJ3VsJywge2NsYXNzOiBgJHtwcmVmaXh9LXNvY2lhbC1saXN0YCwgcm9sZTogJ3ByZXNlbnRhdGlvbid9LFxuXHRcdFx0JHNvY2lhbEljb25zKSk7XG59O1xuIiwiaW1wb3J0IHskYXNzaWduIGFzICQsICRkaXNwYXRjaCwgJGVuYWJsZUZvY3VzUmluZ30gZnJvbSAnLi4vLi4vc2hhcmVkL2pzL3NoYXJlZCc7XG5cbmltcG9ydCBicmFuZCBmcm9tICcuL2Zvb3Rlci1icmFuZCc7XG5pbXBvcnQgbGFuZ3VhZ2UgZnJvbSAnLi9mb290ZXItbGFuZ3VhZ2UnO1xuaW1wb3J0IG1lbnUgZnJvbSAnLi9mb290ZXItbWVudSc7XG5pbXBvcnQgaW5mbyBmcm9tICcuL2Zvb3Rlci1pbmZvJztcbmltcG9ydCBzb2NpYWwgZnJvbSAnLi9mb290ZXItc29jaWFsJztcblxuLyogR2xvYmFsIEZvb3RlclxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuZXhwb3J0IGRlZmF1bHQgKGRhdGEpID0+IHtcblx0Y29uc3QgcHJlZml4ID0gZGF0YS5wcmVmaXggfHwgJ2VzcmktZm9vdGVyJztcblxuXHQvKiBGb290ZXIgQ29tcG9uZW50c1xuXHQvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblx0Y29uc3QgJGZvb3RlckJyYW5kID0gYnJhbmQoZGF0YS5icmFuZCwgcHJlZml4KTtcblx0Y29uc3QgJGZvb3RlckluZm8gPSBpbmZvKGRhdGEuaW5mbywgcHJlZml4KTtcblx0Y29uc3QgJGZvb3Rlckxhbmd1YWdlID0gbGFuZ3VhZ2UoZGF0YS5sYW5ndWFnZSwgcHJlZml4KTtcblx0Y29uc3QgJGZvb3Rlck1lbnUgPSBtZW51KGRhdGEubWVudSwgcHJlZml4KTtcblx0Y29uc3QgJGZvb3RlclNvY2lhbCA9IHNvY2lhbChkYXRhLnNvY2lhbCwgcHJlZml4KTtcblxuXHRjb25zdCAkZm9vdGVyID0gJCgnZm9vdGVyJyxcblx0XHR7XG5cdFx0XHRjbGFzczogcHJlZml4LFxuXHRcdFx0YXJpYToge2xhYmVsOiBkYXRhLmxhYmVsfVxuXHRcdH0sXG5cblx0XHQvKiBBcHBlbmQgRm9vdGVyIENvbXBvbmVudHNcblx0XHQvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXHRcdCQoJ2RpdicsIHtjbGFzczogYCR7cHJlZml4fS1zZWN0aW9uLS0xYH0sXG5cdFx0XHQkZm9vdGVyQnJhbmQsXG5cdFx0XHQkZm9vdGVyU29jaWFsXG5cdFx0KSxcblx0XHQkKCdkaXYnLCB7Y2xhc3M6IGAke3ByZWZpeH0tc2VjdGlvbi0tMmB9LFxuXHRcdFx0JGZvb3Rlck1lbnVcblx0XHQpLFxuXHRcdCQoJ2RpdicsIHtjbGFzczogYCR7cHJlZml4fS1zZWN0aW9uLS0zYH0sXG5cdFx0XHQkZm9vdGVyTGFuZ3VhZ2UsXG5cdFx0XHQkZm9vdGVySW5mb1xuXHRcdClcblx0KTtcblxuXHQvKiBPbiBET01Ob2RlSW5zZXJ0ZWRcblx0LyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cdCRmb290ZXIuYWRkRXZlbnRMaXN0ZW5lcignRE9NTm9kZUluc2VydGVkJywgZnVuY3Rpb24gb25ET01Ob2RlSW5zZXJ0ZWQoKSB7XG5cdFx0Ly8gVW5iaW5kIE5vZGUgSW5zZXJ0ZWRcblx0XHQkZm9vdGVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ0RPTU5vZGVJbnNlcnRlZCcsIG9uRE9NTm9kZUluc2VydGVkKTtcblxuXHRcdC8vIFNjcm9sbCB0byBGb290ZXIgb24gZm9jdXNcblx0XHQkZm9vdGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzaW4nLCAoKSA9PiB7XG5cdFx0XHRjb25zdCBzY3JvbGxZID0gJGZvb3Rlci5vd25lckRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxIZWlnaHQgLSAkZm9vdGVyLnNjcm9sbEhlaWdodDtcblxuXHRcdFx0aWYgKHNjcm9sbFkgPiAkZm9vdGVyLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcucGFnZVlPZmZzZXQpIHtcblx0XHRcdFx0JGZvb3Rlci5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3LnNjcm9sbFRvKDAsIHNjcm9sbFkpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0Ly8gVXBkYXRlIEhlYWRlclxuXHRcdCRkaXNwYXRjaCgkZm9vdGVyLCAnZm9vdGVyOnVwZGF0ZScsIGRhdGEpO1xuXHR9KTtcblxuXHQkZW5hYmxlRm9jdXNSaW5nKCRmb290ZXIpO1xuXG5cdC8qIE9uIEZvb3RlciBVcGRhdGVcblx0LyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cdCRmb290ZXIuYWRkRXZlbnRMaXN0ZW5lcignZm9vdGVyOnVwZGF0ZScsICh7ZGV0YWlsfSkgPT4ge1xuXHRcdGlmIChkZXRhaWwuYnJhbmQpIHtcblx0XHRcdCRkaXNwYXRjaCgkZm9vdGVyQnJhbmQsICdmb290ZXI6dXBkYXRlOmJyYW5kJywgZGV0YWlsLmJyYW5kKTtcblx0XHR9XG5cblx0XHRpZiAoZGV0YWlsLmluZm8pIHtcblx0XHRcdCRkaXNwYXRjaCgkZm9vdGVySW5mbywgJ2Zvb3Rlcjp1cGRhdGU6aW5mbycsIGRldGFpbC5pbmZvKTtcblx0XHR9XG5cblx0XHRpZiAoZGV0YWlsLmxhbmd1YWdlKSB7XG5cdFx0XHQkZGlzcGF0Y2goJGZvb3Rlckxhbmd1YWdlLCAnZm9vdGVyOnVwZGF0ZTpsYW5ndWFnZScsIGRldGFpbC5sYW5ndWFnZSk7XG5cdFx0fVxuXG5cdFx0aWYgKGRldGFpbC5tZW51KSB7XG5cdFx0XHQkZGlzcGF0Y2goJGZvb3Rlck1lbnUsICdmb290ZXI6dXBkYXRlOm1lbnUnLCBkZXRhaWwubWVudSk7XG5cdFx0fVxuXG5cdFx0aWYgKGRldGFpbC5zb2NpYWwpIHtcblx0XHRcdCRkaXNwYXRjaCgkZm9vdGVyU29jaWFsLCAnZm9vdGVyOnVwZGF0ZTpzb2NpYWwnLCBkZXRhaWwuc29jaWFsKTtcblx0XHR9XG5cblx0XHQkZm9vdGVyLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgb25zY3JvbGwpO1xuXG5cdFx0b25zY3JvbGwoKTtcblxuXHRcdGZ1bmN0aW9uIG9uc2Nyb2xsKCkge1xuXHRcdFx0Y29uc3QgaGlkZGVuID0gMCA+IHdpbmRvdy5wYWdlWU9mZnNldDtcblxuXHRcdFx0JCgkZm9vdGVyLCB7ZGF0YToge2hpZGRlbn19KTtcblx0XHR9XG5cdH0pO1xuXG5cdHJldHVybiAkZm9vdGVyO1xufTtcbiJdLCJuYW1lcyI6WyJfX2Fzc2lnblNvdXJjZSIsImVsZW1lbnQiLCJzb3VyY2UiLCJwcmVmaXgiLCJrZXkiLCJhZGRFdmVudExpc3RlbmVyIiwiT2JqZWN0Iiwic2V0QXR0cmlidXRlIiwiJGFzc2lnbiIsImlkIiwiTm9kZSIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsInNsaWNlIiwiY2FsbCIsImFyZ3VtZW50cyIsImZvckVhY2giLCJhcHBlbmRDaGlsZCIsImNyZWF0ZVRleHROb2RlIiwiJHJlcGxhY2VBbGwiLCJwYXJlbnROb2RlIiwibGFzdENoaWxkIiwicmVtb3ZlQ2hpbGQiLCJfX2FzRnJhZ21lbnQiLCJub2RlcyIsImZyYWdtZW50IiwiY3JlYXRlRG9jdW1lbnRGcmFnbWVudCIsIm5vZGUiLCIkZGlzcGF0Y2giLCJ0YXJnZXQiLCJ0eXBlIiwiZGV0YWlsIiwiZXZlbnQiLCJjcmVhdGVFdmVudCIsImluaXRDdXN0b21FdmVudCIsImRpc3BhdGNoRXZlbnQiLCIkZW5hYmxlRm9jdXNSaW5nIiwia2V5Ym9hcmRUaHJvdHRsZVRpbWVvdXRJRCIsImFjdGl2ZUVsZW1lbnRzIiwiYWN0aXZlRWxlbWVudCIsInJlbW92ZUF0dHJpYnV0ZSIsIkVsZW1lbnQiLCJwdXNoIiwiY2xlYXJUaW1lb3V0Iiwic2V0VGltZW91dCIsIiRmZXRjaCIsInVybCIsImNhbGxiYWNrIiwib25FcnJvciIsInhociIsIlhNTEh0dHBSZXF1ZXN0IiwicmVhZHlTdGF0ZSIsInN0YXR1cyIsInJlc3BvbnNlVGV4dCIsIm9wZW4iLCJzZW5kIiwiJHJlbmRlclN2Z09ySW1nIiwicmVuZGVySW1nVGFnIiwiJGltZ1dyYXBwZXIiLCJpbWdEZWYiLCJpbWdDbGFzcyIsImltZ1dpZHRoIiwiaW1nSGVpZ2h0IiwiYXBwZW5kIiwidmlld0JveCIsIiR0YXJnZXRFbG0iLCJzdmdQcm9wcyIsImNsYXNzIiwicm9sZSIsIndpZHRoIiwiaGVpZ2h0IiwiaW5kZXhPZiIsImxlbmd0aCIsInN2Z0NvbnRlbnRzIiwiJGltZyIsImNyZWF0ZUVsZW1lbnROUyIsImlubmVySFRNTCIsIm1hcCIsImQiLCJidWlsZEhlYWRlciIsInRhcmdldEVsbSIsIm1lbnVEYXRhIiwiJGVzcmlIZWFkZXIiLCJjcmVhdGVIZWFkZXIiLCJoZWFkZXIiLCJxdWVyeVNlbGVjdG9yIiwiYnVpbGRGb290ZXIiLCIkZXNyaUZvb3RlciIsImNyZWF0ZUZvb3RlciIsImZvb3RlciIsIiR0YXJnZXQiLCIkIiwiJGNvbnRyb2xTaWduaW5UZXh0IiwiJGNvbnRyb2xTaWduaW4iLCIkY29udHJvbEltYWdlIiwiJGNvbnRyb2xOYW1lVGV4dCIsIiRjb250cm9sTmFtZSIsIiRjb250cm9sSWRUZXh0IiwiJGNvbnRyb2xJZCIsIiRjb250cm9sIiwiY29udHJvbHMiLCJleHBhbmRlZCIsImhhc3BvcHVwIiwiJGNvbnRlbnQiLCIkY29udGVudFRvZ2dsZVRleHQiLCIkY29udGVudFRvZ2dsZSIsIiRjb250ZW50SW1hZ2UiLCIkY29udGVudEluZm9OYW1lVGV4dCIsIiRjb250ZW50SW5mb0lkVGV4dCIsIiRjb250ZW50SW5mb0dyb3VwVGV4dCIsIiRjb250ZW50SW5mbyIsIiRjb250ZW50TWVudSIsImFyaWEiLCJsYWJlbGxlZGJ5IiwiJGNvbnRlbnRTaWduaW5Td2l0Y2hUZXh0IiwiJGNvbnRlbnRTaWduaW5Td2l0Y2giLCIkY29udGVudFNpZ25pblNpZ25vdXRUZXh0IiwiJGNvbnRlbnRTaWduaW5TaWdub3V0IiwiJGNvbnRlbnRTaWduaW5NZW51IiwiaGlkZGVuIiwibGFiZWwiLCJub2RlVmFsdWUiLCJzaWduaW4iLCJzd2l0Y2giLCJzaWdub3V0IiwidXNlciIsIm5hbWUiLCJncm91cCIsImltYWdlIiwibWVudXMiLCJpdGVtIiwiaHJlZiIsIiR0b2dnbGUiLCJtZW51IiwidXVpZCIsInN1dWlkIiwiJHN1YmNvbnRyb2wiLCJkYXRhIiwiJGxpIiwiaGFzTWVudUl0ZW1zIiwiaGFzRmVhdHVyZWRJdGVtcyIsInRpbGVzIiwiJHN1YnRvZ2dsZSIsIiRzdWJjb250ZW50IiwiZmlsbGVkIiwiY2hpbGRpdGVtIiwiJHN1YmxpbmsiLCJuZXdDb250ZXh0IiwiaWNvbiIsIm9uaW5wdXQiLCJ2YWx1ZSIsIm5ld0NvbnRyb2xWYWx1ZSIsImNvbnRyb2xWYWx1ZSIsIiRzZWFyY2giLCJjb250cm9sSXNGaWxsZWQiLCIkbGFiZWwiLCIkc3VibWl0IiwiY3VycmVudFdpZHRoIiwiJG1lYXN1cmVUZXh0Iiwic2Nyb2xsV2lkdGgiLCJzdHlsZSIsIm9uc3VibWl0IiwicXVlcnlMYWJlbCIsImF1dG9jb21wbGV0ZSIsImF1dG9jb3JyZWN0Iiwic3BlbGxjaGVjayIsIiRtZWFzdXJlVGV4dE5vZGUiLCIkbWVhc3VyZSIsInN1Ym1pdExhYmVsIiwiYWN0aW9uIiwiZm9jdXMiLCJvbkRPTU5vZGVJbnNlcnRlZCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJvd25lckRvY3VtZW50IiwiZGVmYXVsdFZpZXciLCJtYXRjaE1lZGlhIiwiYWRkTGlzdGVuZXIiLCJvbnVubG9hZCIsImRpYWxvZyIsIiRkaWFsb2ciLCJlc3JpU2VhcmNoIiwiJGRpYWxvZ0NhbmNlbEJ1dHRvbiIsImNhbmNlbExhYmVsIiwiZ2V0QXR0cmlidXRlIiwiJGFwcFN3aXRjaGVySWNvbiIsIiRjb250cm9sQ29udGFpbmVyIiwiJGRyb3Bkb3duIiwiY2xhc3NMaXN0IiwiY29udGFpbnMiLCJjcmVhdGVEZWZhdWx0QXBwTGF5b3V0IiwiJHRvcEFwcENvbnRhaW5lciIsImN1cnJlbnRBcHAiLCJhYmJyZXZpYXRpb25TaXplcyIsImxpc3RJdGVtIiwiYXBwTGluayIsImFwcEltYWdlQ29udGFpbmVyIiwic3RyaW5nV2lkdGgiLCJNYXRoIiwicm91bmQiLCJnZXRUZXh0V2lkdGgiLCJhYmJyIiwiYWJicmV2aWF0aW9uU2l6ZSIsInN1YnN0ciIsInN1cmZhY2VEaXYiLCJzdXJmYWNlU3BhbiIsInBsYWNlSG9sZGVySWNvbiIsInAiLCJ0ZXh0IiwiZm9udCIsImNvbnRleHQiLCJjYW52YXMiLCJnZXRDb250ZXh0IiwibWVhc3VyZVRleHQiLCJsb2ciLCJwYXRoIiwiaWNvbnMiLCJjbGFzc05hbWUiLCJudW1iZXJPZkFwcHMiLCJkcm9wZG93bldpZHRoIiwibWF4QXBwc1BlckRpYWxvZyIsImkiLCIkZHJvcGRvd25XcmFwcGVyIiwiJGRyb3Bkb3duTmF2Iiwidmlld3BvcnRJc1NtYWxsIiwidmlld3BvcnRJc1NtYWxsTWVkaXVtIiwiJGhlYWRlckNhbnZhcyIsIiRicmFuZCIsImNyZWF0ZUJyYW5kIiwiJGFjY291bnQiLCJjcmVhdGVBY2NvdW50IiwiJG1lbnVzIiwiY3JlYXRlTWVudXMiLCJjcmVhdGVTZWFyY2giLCIkYXBwcyIsImNyZWF0ZUFwcHMiLCIkY2xpZW50IiwiJGxpbmVCcmVhayIsIiRoZWFkZXIiLCJ0aGVtZSIsImJyYW5kIiwic2VhcmNoIiwiYWNjb3VudCIsImFwcHMiLCJrZXlDb2RlIiwiZXZlbnRUeXBlIiwiY29udHJvbCIsImFjY291bnREZXRhaWwiLCJzZWFyY2hEZXRhaWwiLCJtZW51c0RldGFpbCIsIm1lbnVEZXRhaWwiLCJhcHBzRGV0YWlsIiwiaXNNZW51VG9nZ2xlIiwiY29udGVudCIsIm1hdGNoZXMiLCJzdGF0ZSIsImRvY3VtZW50RWxlbWVudCIsImhlYWRlci1pcy1vcGVuIiwiY3VycmVudERldGFpbCIsImNhbnZhc1Nob3VsZENsb3NlIiwib25sb2FkIiwib25yZXNpemUiLCIkaGVhZGVyRG9jdW1lbnQiLCJjbGllbnRXaWR0aCIsImNsaWVudEhlaWdodCIsInNjcm9sbEhlaWdodCIsImdldENvbXB1dGVkU3R5bGUiLCJvdmVyZmxvd1kiLCJyZXBsYWNlIiwiJHN0eWxlIiwib25WaWV3cG9ydElzU21hbGxDaGFuZ2UiLCJvblZpZXdwb3J0SXNTbWFsbE1lZGl1bUNoYW5nZSIsIiRoZWFkZXJXaW5kb3ciLCJoZWFkIiwiJGNob2ljZSIsIm9wdGlvbnNMYWJlbCIsIm9wdGlvbnMiLCJvcHRpb24iLCIkbGFuZ3VhZ2UiLCJkZXNjcmliZWRieSIsImdyZWV0aW5nTGFiZWwiLCJtZXNzYWdlTGFiZWwiLCJwcmV2ZW50RGVmYXVsdCIsImxvY2F0aW9uIiwiY2xvc2VEaWFsb2ciLCIkY2FudmFzIiwiJGxhYmVsVGV4dCIsImJ1dHRvbkxhYmVsIiwiYXJpYURlc2NyaWJlZGJ5IiwiJGJhcnJpZXIiLCIkbGFuZ3VhZ2VEaWFsb2ciLCJsYW5ndWFnZURpYWxvZyIsIiRsYW5ndWFnZURpYWxvZ0Nsb3NlIiwiY2xvc2VMYWJlbCIsIiRjYW5jZWxDYW52YXMiLCJib2R5Iiwib25jaGFuZ2UiLCJtZWRpYU1hdGNoZXMiLCJtZWRpYSIsImxpbmsiLCJmaXJzdENoaWxkIiwidHJhbnNmb3JtQXNUb3VjaCIsImlzVmlzaWJsZSIsIm5leHRFbGVtZW50U2libGluZyIsIm9uY2xpY2siLCJvbmtleXByZXNzIiwiZGV0cmFuc2Zvcm1Bc1RvdWNoIiwiY3VycmVudFRhcmdldCIsIm5leHRUYXJnZXQiLCJsaW5rcyIsImluZGV4Iiwic3ViaXRlbSIsIiRzb2NpYWxJY29ucyIsInRvTG93ZXJDYXNlIiwiJGZvb3RlckJyYW5kIiwiJGZvb3RlckluZm8iLCJpbmZvIiwiJGZvb3Rlckxhbmd1YWdlIiwibGFuZ3VhZ2UiLCIkZm9vdGVyTWVudSIsIiRmb290ZXJTb2NpYWwiLCJzb2NpYWwiLCIkZm9vdGVyIiwic2Nyb2xsWSIsInBhZ2VZT2Zmc2V0Iiwic2Nyb2xsVG8iLCJvbnNjcm9sbCIsIndpbmRvdyIsImVzcmlIZWFkZXIiLCJjcmVhdGUiLCJlc3JpRm9vdGVyIiwiaGVhZGVyRWxtIiwiZm9vdGVyRWxtIl0sIm1hcHBpbmdzIjoiMENBR0EsU0FBU0EsRUFBZUMsRUFBU0MsRUFBUUMsT0FDbkMsSUFBSUMsS0FBT0YsRUFDWCxtQkFBc0JBLEVBQU9FLEtBRXhCQyxpQkFBaUJGLEVBQVNDLEVBQUtGLEVBQU9FLElBQ3BDRSxPQUFPSixFQUFPRSxNQUFVRixFQUFPRSxLQUUxQkgsRUFBU0MsRUFBT0UsR0FBU0QsRUFBU0MsU0FHekNH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"}