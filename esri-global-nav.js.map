{"version":3,"file":"esri-global-nav.js","sources":["src/shared/js/domose.js","src/shared/js/shared.js","src/header/js/header-account.js","src/header/js/header-brand.js","src/header/js/header-branding-stripe.js","src/header/js/header-menus.js","src/header/js/header-search.js","src/search/js/search.js","src/header/js/header-apps.js","src/header/js/header.js","src/footer/js/footer-language.js","src/footer/js/language.js","src/footer/js/footer-menu.js","src/footer/js/footer.js","src/footer/js/footer-brand.js","src/footer/js/footer-info.js","src/footer/js/footer-social.js","src/esri-global-nav.js"],"sourcesContent":["//  Taken from: https://raw.githubusercontent.com/jonathantneal/domose/master/domose.js\n\n/* Speculative DOM Functionality\n/* ========================================================================== */\n\nfunction assignSource(element, source, prefix) {\n    for (const key in source) {\n        if ('function' === typeof source[key]) {\n            // add functions as event listeners\n            element.addEventListener(prefix + key, source[key]);\n        } else if (Object(source[key]) === source[key]) {\n            // assign objects as source\n            assignSource(element, source[key], `${prefix + key}-`);\n        } else {\n            // otherwise, set attributes\n            element.setAttribute(prefix + key, source[key]);\n        }\n    }\n}\n\n/* Assign an element with attributes, events, and children\n/* ========================================================================== */\n\nfunction $assign(id) {\n    // $assign(element, { class: 'btn', click: () => { /* listener */ } });\n    // $assign('button', { aria: { label: 'title' } }, child);\n    // $assign('div', child1, child2, 'a new text node');\n    // $assign(document.createElementNS('http://www.w3.org/2000/svg', 'svg'));\n\n    const element = id instanceof Node ? id : document.createElement(id);\n\n    [].slice.call(arguments, 1).forEach((source) => {\n        if (source instanceof Node) {\n            // append sources that are nodes\n            element.appendChild(source);\n        } else if ('string' === typeof source) {\n            // append strings as text nodes\n            element.innerHTML = source;\n        } else {\n            assignSource(element, source, '');\n        }\n    });\n\n    return element;\n}\n\n/* Dispatch an event from an Element\n/* ========================================================================== */\n\nfunction $dispatchEvent(element, event) {\n    // $dispatchEvent(element, new CustomEvent('foo', { bubbles: true }));\n    // $dispatchEvent(element, 'foo', { bubbles: true });\n\n    return element.dispatchEvent(\n        event instanceof Event ? event : $CustomEvent(event, arguments[1])\n    );\n}\n\n/* Replace all the children of a parent node with new children\n/* ========================================================================== */\n\nfunction $replaceAll(parentNode) {\n    // $replaceAll(element);\n    // $replaceAll(element, child1, child2);\n\n    while (parentNode.lastChild) {\n        parentNode.removeChild(parentNode.lastChild);\n    }\n\n    parentNode.appendChild(\n        asFragment(arguments)\n    );\n\n    return parentNode;\n}\n\n/* Wrap a child node within an element\n/* ========================================================================== */\n\nfunction $wrapWith(childNode, element) {\n    // $wrapWith(element, wrappingElement);\n\n    if (childNode.parentNode) {\n        childNode.parentNode.insertBefore(element, childNode).appendChild(childNode);\n    }\n\n    return childNode;\n}\n\n/* Emerging DOM Functionality\n/* ========================================================================== */\n\nfunction asFragment(nodes) {\n    const fragment = document.createDocumentFragment();\n\n    [].slice.call(nodes, 1).forEach((node) => {\n        if (node instanceof Node) {\n            fragment.appendChild(node);\n        } else {\n            fragment.appendChild(\n                document.createTextNode(node)\n            );\n        }\n    });\n\n    return fragment;\n}\n\n/* Insert nodes after a child node\n/* ========================================================================== */\n\nfunction $after(childNode) {\n    // $after(element, sibling1, sibling2, 'a new text node');\n\n    if (childNode.parentNode) {\n        childNode.parentNode.insertBefore(\n            asFragment(arguments),\n            childNode.nextSibling\n        );\n    }\n\n    return childNode;\n}\n\n/* Appends nodes to a parent node\n/* ========================================================================== */\n\nfunction $append(parentNode) {\n    // $append(parentNode, child1, child2, 'a new text node');\n\n    parentNode.append(\n        asFragment(arguments)\n    );\n\n    return parentNode;\n}\n\n/* Insert nodes before an element\n/* ========================================================================== */\n\nfunction $before(element) {\n    // $before(element, sibling1, sibling2, 'a new text node');\n\n    if (element.parentNode) {\n        element.parentNode.insertBefore(\n            asFragment(arguments),\n            element\n        );\n    }\n\n    return element;\n}\n\n/* Return the closest ancestor element matching a given selector\n/* ========================================================================== */\n\nfunction $closest(element, selectors) {\n    // $closest(element, selectors);\n\n    let target = element;\n\n    while (target && 1 === target.nodeType) {\n        if ($matches(target, selectors)) {\n            return target;\n        }\n\n        target = target.parentNode;\n    }\n\n    return null;\n}\n\n/* Return whether or not a DOM element matches a given selector\n/* ========================================================================== */\n\nfunction $matches(element, selectors) {\n    // $matches(element, selectors);\n\n    const elements = element.parentNode.querySelectorAll(selectors);\n\n    let index = 0;\n\n    while (elements[index] && elements[index] !== element) {\n        ++index;\n    }\n\n    return Boolean(elements[index]);\n}\n\n/* Prepends a child to a parent node\n/* ========================================================================== */\n\nfunction $prepend(parentNode) {\n    // $prepend(element, child1, child2, 'a new text node');\n\n    parentNode.insertBefore(\n        asFragment(arguments),\n        parentNode.firstChild\n    );\n\n    return parentNode;\n}\n\n/* Remove a child node from its parent\n/* ========================================================================== */\n\nfunction $remove(childNode) {\n    // $remove(element);\n\n    if (childNode.parentNode) {\n        childNode.parentNode.removeChild(childNode);\n    }\n\n    return childNode;\n}\n\n/* Replace a child node with nodes\n/* ========================================================================== */\n\nfunction $replaceWith(childNode) {\n    // $replaceWith(element, sibling1, sibling2, 'a new text node');\n\n    if (childNode.parentNode) {\n        childNode.parentNode.replaceChild(\n            asFragment(arguments),\n            childNode\n        );\n    }\n\n    return childNode;\n}\n\n/* Emerging Event Functionality\n/* ========================================================================== */\n\n/* Create a new CustomEvent\n/* ========================================================================== */\n\nfunction $CustomEvent(type) {\n    // element.dispatchEvent(new $CustomEvent('click', { bubbles: true }));\n\n    const event = document.createEvent('CustomEvent');\n    const param = Object(arguments[1]) || {bubbles: false, cancelable: false, detail: undefined};\n\n    event.initCustomEvent(type, param.bubbles, param.cancelable, param.detail);\n\n    return event;\n}\n\n/* Fetch response text from a URL and pass it to a callback\n/* ========================================================================== */\n\nfunction $fetch(url, callback) {\n    // $fetch('api?foo=bar', (responseText) => {});\n\n    const xhr = new XMLHttpRequest();\n\n    xhr.addEventListener('readystatechange', () => {\n        if (4 === xhr.readyState && 200 === xhr.status) {\n            callback(xhr.responseText); // eslint-disable-line callback-return\n        }\n    });\n\n    xhr.open('GET', url);\n    xhr.send();\n\n    return xhr;\n}\n\n/* Export\n/* ========================================================================== */\n\nexport {\n    $assign,\n    $after,\n    $append,\n    $before,\n    $closest,\n    $CustomEvent,\n    $dispatchEvent,\n    $fetch,\n    $matches,\n    $prepend,\n    $remove,\n    $replaceAll,\n    $replaceWith,\n    $wrapWith\n};\n","import {$assign, $replaceAll} from './domose';\n\n/* Dispatch an Custom Event with a detail\n/* ========================================================================== */\n\nfunction $dispatch(target, type, detail) {\n\t// an event\n\tconst event = document.createEvent('CustomEvent');\n\n\tevent.initCustomEvent(type, true, true, detail);\n\n\ttarget.dispatchEvent(event);\n}\n\nfunction $enableFocusRing(target) {\n\t// retooled from https://github.com/jonathantneal/js-focus-ring\n\n\tlet keyboardThrottleTimeoutID;\n\n\tconst activeElements = [];\n\n\ttarget.addEventListener('blur', () => {\n\t\tactiveElements.forEach((activeElement) => {\n\t\t\tactiveElement.removeAttribute('js-focus');\n\t\t\tactiveElement.removeAttribute('js-focus-ring');\n\t\t});\n\t}, true);\n\n\ttarget.addEventListener('focus', () => {\n\t\tconst activeElement = document.activeElement;\n\n\t\tif (activeElement instanceof Element) {\n\t\t\tactiveElement.setAttribute('js-focus', '');\n\n\t\t\tif (keyboardThrottleTimeoutID) {\n\t\t\t\tactiveElement.setAttribute('js-focus-ring', '');\n\t\t\t}\n\n\t\t\tactiveElements.push(activeElement);\n\t\t}\n\t}, true);\n\n\ttarget.addEventListener('keydown', () => {\n\t\tkeyboardThrottleTimeoutID = clearTimeout(keyboardThrottleTimeoutID) || setTimeout(() => {\n\t\t\tkeyboardThrottleTimeoutID = 0;\n\t\t}, 100);\n\t}, true);\n}\n\nfunction $fetch(url, callback, onError = () => {\n}) {\n\tconst xhr = new XMLHttpRequest();\n\n\txhr.addEventListener('readystatechange', () => {\n\t\tif (4 === xhr.readyState) {\n\t\t\tif (200 === xhr.status) {\n\t\t\t\tcallback(xhr.responseText); // eslint-disable-line callback-return\n\t\t\t} else {\n\t\t\t\tonError();\n\t\t\t}\n\t\t}\n\t});\n\n\txhr.open('GET', url);\n\txhr.send();\n\n\treturn xhr;\n}\n\nfunction $renderSvgOrImg({imgDef = \"\", imgClass = \"\", imgWidth, imgHeight, viewBox, id, $targetElm}) {\n\tconst $imgWrapper = $assign('span');\n\n\tconst svgProps = {class: imgClass, role: 'presentation'};\n\tif (imgWidth && imgHeight) {\n\t\tsvgProps.width = imgWidth;\n\t\tsvgProps.height = imgHeight;\n\t}\n\tif (viewBox) {\n\t\tsvgProps.viewBox = viewBox;\n\t}\n\tif (id) {\n\t\tsvgProps.id = id;\n\t}\n\n\tif (typeof imgDef === 'string') {\n\t\tif (imgDef.indexOf('.svg') === imgDef.length - 4) {\n\t\t\t$fetch(imgDef, (svgContents) => {\n\t\t\t\t$imgWrapper.innerHTML = svgContents;\n\t\t\t\tconst $img = $imgWrapper.firstElementChild;\n\t\t\t\t$assign($img, svgProps);\n\t\t\t}, () => {\n\t\t\t\trenderImgTag({$imgWrapper, id, imgDef, imgClass, imgWidth, imgHeight});\n\t\t\t});\n\t\t} else {\n\t\t\trenderImgTag({$imgWrapper, id, imgDef, imgClass, imgWidth, imgHeight});\n\t\t}\n\t} else {\n\t\tconst $img = $assign(document.createElementNS('http://www.w3.org/2000/svg', 'svg'),\n\t\t\tsvgProps,\n\t\t\t$assign(document.createDocumentFragment(),\n\t\t\t\t...imgDef.map(\n\t\t\t\t\t(d) => $assign(\n\t\t\t\t\t\tdocument.createElementNS('http://www.w3.org/2000/svg', 'path'),\n\t\t\t\t\t\t{d}\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t));\n\t\t$imgWrapper.appendChild($img);\n\t}\n\n\tif ($targetElm) {\n\t\t$targetElm.innerHTML = '';\n\t\t$targetElm.appendChild($imgWrapper);\n\t}\n\n\treturn $imgWrapper;\n\n\tfunction renderImgTag({$imgWrapper, id, imgDef, imgClass, imgWidth, imgHeight}) {\n\t\t$imgWrapper.appendChild($assign('img', {\n\t\t\tid,\n\t\t\tsrc: imgDef,\n\t\t\tclass: imgClass,\n\t\t\tstyle:  `${imgWidth ? `width:${imgWidth}px` : ''}; ${imgHeight ? `height:${imgHeight}px` : ''}`\n\t\t}));\n\t}\n}\n\nexport {\n\t$assign,\n\t$dispatch,\n\t$enableFocusRing,\n\t$fetch,\n\t$replaceAll,\n\t$renderSvgOrImg\n};\n","import {$assign as $, $dispatch, $replaceAll, $renderSvgOrImg} from '../../shared/js/shared';\n\nconst prefix = 'esri-header-account';\n\nexport default () => {\n\tconst $target = $('div', {class: prefix});\n\n\t/* Account: Control: Signin\n\t/* ====================================================================== */\n\n\tconst $controlSigninText = document.createTextNode('');\n\tconst $controlSignin = $('button', {class: `${prefix}-control ${prefix}-control--signin`},\n\t\t$controlSigninText\n\t);\n\n\t// On Click\n\t$controlSignin.addEventListener('click', (event) => {\n\t\t$dispatch($controlSignin, 'header:click:signin', {event});\n\t});\n\n\t/* Account: Control\n\t/* ====================================================================== */\n\n\tconst $controlImage = $('span');\n\n\tconst $controlNameText = document.createTextNode('');\n\tconst $controlName = $('span', {class: `${prefix}-name`},\n\t\t$controlNameText\n\t);\n\n\tconst $controlIdText = document.createTextNode('');\n\tconst $controlId = $('span', {class: `${prefix}-id`},\n\t\t$controlIdText\n\t);\n\n\tconst $control = $('button',\n\t\t{\n\t\t\tclass: `${prefix}-control ${prefix}-control--signedin`, id: `${prefix}-control`,\n\t\t\taria: {controls: `${prefix}-menu`, expanded: false, haspopup: true}\n\t\t},\n\t\t$controlImage,\n\t\t$controlName,\n\t\t$controlId\n\t);\n\n\t// On Click\n\t$control.addEventListener('click', (event) => {\n\t\t$dispatch($control, 'header:click:account', {event});\n\n\t\t$dispatch($control, 'header:menu:toggle', {\n\t\t\taccount: true,\n\t\t\tcontrol: $control,\n\t\t\tcontent: $content,\n\t\t\tstate: 'menu',\n\t\t\ttarget: $target,\n\t\t\ttype: 'account-toggle'\n\t\t});\n\t});\n\n\t/* Account: Content\n\t/* ====================================================================== */\n\n\t// Toggle\n\tconst $contentToggleText = document.createTextNode('');\n\tconst $contentToggle = $('button', {class: `${prefix}-content-toggle`},\n\t\t$contentToggleText\n\t);\n\n\t$contentToggle.addEventListener('click', () => {\n\t\t$dispatch($contentToggle, 'header:menu:close', {\n\t\t\tcontrol: $control,\n\t\t\tcontent: $content,\n\t\t\ttype: 'account-close'\n\t\t});\n\t});\n\n\t// Image\n\tconst $contentImage = $('span');\n\n\t// Info\n\tconst $contentInfoNameText = document.createTextNode('');\n\tconst $contentInfoIdText = document.createTextNode('');\n\tconst $contentInfoGroupText = document.createTextNode('');\n\tconst $contentInfo = $('div', {class: `${prefix}-content-info`},\n\t\t$contentImage,\n\t\t$('span', {class: `${prefix}-content-name`},\n\t\t\t$contentInfoNameText\n\t\t),\n\t\t$('span', {class: `${prefix}-content-id`},\n\t\t\t$contentInfoIdText\n\t\t),\n\t\t$('span', {class: `${prefix}-content-group`},\n\t\t\t$contentInfoGroupText\n\t\t)\n\t);\n\n\t// Menu\n\tconst $contentMenu = $('ul', {\n\t\tclass: `${prefix}-content-menu`,\n\t\trole: 'navigation', aria: {labelledby: `${prefix}-control`}\n\t});\n\n\t// Switch Control\n\tconst $contentSigninSwitchText = document.createTextNode('');\n\tconst $contentSigninSwitch = $('button', {class: `${prefix}-signin-control -switch`},\n\t\t$contentSigninSwitchText\n\t);\n\n\t// Switch Control: On Click\n\t$contentSigninSwitch.addEventListener('click', (event) => {\n\t\t$dispatch($contentSigninSwitch, 'header:click:switch', {event});\n\t});\n\n\t// Signout Control\n\tconst $contentSigninSignoutText = document.createTextNode('');\n\tconst $contentSigninSignout = $('button', {class: `${prefix}-signin-control -logout`},\n\t\t$contentSigninSignoutText\n\t);\n\n\t// Signout Control: On Click\n\t$contentSigninSignout.addEventListener('click', (event) => {\n\t\t$dispatch($contentSigninSignout, 'header:click:signout', {event});\n\t});\n\n\t// Signin Menu\n\tconst $contentSigninMenu = $('ul',\n\t\t{\n\t\t\tclass: `${prefix}-signin-menu`,\n\t\t\trole: 'group'\n\t\t},\n\t\t$('li', {class: `${prefix}-signin-item`},\n\t\t\t$contentSigninSwitch\n\t\t),\n\t\t$('li', {class: `${prefix}-signin-item`},\n\t\t\t$contentSigninSignout\n\t\t)\n\t);\n\n\t// Content\n\tconst $content = $('div',\n\t\t{\n\t\t\tclass: `${prefix}-menu`, id: `${prefix}-menu`,\n\t\t\trole: 'group', aria: {expanded: false, hidden: true}\n\t\t},\n\t\t$contentToggle,\n\t\t$contentInfo,\n\t\t$contentMenu,\n\t\t$contentSigninMenu\n\t);\n\n\t/* Account: On Update\n\t/* ====================================================================== */\n\n\t$target.addEventListener('header:update:account', ({detail}) => {\n\t\t$($control, {aria: {label: detail.label}});\n\n\t\t// Update the control text\n\t\t$contentToggleText.nodeValue = detail.label;\n\t\t$controlSigninText.nodeValue = detail.controls.signin;\n\t\t$contentSigninSwitchText.nodeValue = detail.controls.switch;\n\t\t$contentSigninSignoutText.nodeValue = detail.controls.signout;\n\n\t\t// If there is a user object\n\t\tif (detail.user) {\n\t\t\t// Update the account text + image\n\t\t\t$controlNameText.nodeValue = $contentInfoNameText.nodeValue = detail.user.name;\n\t\t\t$controlIdText.nodeValue = $contentInfoIdText.nodeValue = detail.user.id;\n\t\t\t$contentInfoGroupText.nodeValue = detail.user.group;\n\n\t\t\t$renderSvgOrImg({imgDef: detail.user.image, imgClass: `${prefix}-image`, $targetElm: $controlImage});\n\t\t\t$renderSvgOrImg({imgDef: detail.user.image, imgClass: `${prefix}-content-image`, $targetElm: $contentImage});\n\n\t\t\t// Update the content menu\n\t\t\t$replaceAll($contentMenu,\n\t\t\t\t...detail.menus.map(\n\t\t\t\t\t(item) => $('li', {class: `${prefix}-content-item`},\n\t\t\t\t\t\t$('a', {class: `${prefix}-content-link`, href: item.href},\n\t\t\t\t\t\t\titem.label\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t);\n\n\t\t\t// Use the control and content\n\t\t\t$replaceAll($target, $control, $content);\n\t\t} else {\n\t\t\t// Otherwise, use the signin control\n\t\t\t$replaceAll($target, $controlSignin);\n\t\t}\n\t});\n\n\treturn $target;\n};\n","import {$assign as $, $dispatch, $replaceAll, $renderSvgOrImg} from '../../shared/js/shared';\n\nconst prefix = 'esri-header-brand';\n\nexport default () => {\n\tconst $target = $('a', {class: prefix, id: prefix});\n\t\n\t// On Click\n\t$target.addEventListener('click', (event) => {\n\t\t$dispatch($target, 'header:click:brand', {event});\n\t});\n\t\n\t/* Brand: On Update\n\t/* ====================================================================== */\n\t$target.addEventListener('header:update:brand', ({detail}) => {\n\t\t$($target, {href: detail.href});\n\t\tif (detail.image) {\n\t\t\t$($target, {aria: {label: detail.label}});\n\t\t\t$renderSvgOrImg({imgDef: detail.image, imgClass: `${prefix}-image`, imgWidth: detail.width, imgHeight:detail.height, $targetElm:$target});\n\t\t}\n\t\tif (detail.brandText) {\n\t\t\tconst $brandText = $('span', {class: `${prefix}-text`}, detail.brandText);\n\t\t\t$($target, $brandText);\n\t\t}\n\t});\n\n\treturn $target;\n};\n","import {$assign as $} from '../../shared/js/shared';\n\nconst prefix = 'esri-header-branding-stripe';\n\nexport default () => {\n\tconst $target = $('div', {class: prefix, id: prefix});\n\n\t/* Brand: On Update\n\t/* ====================================================================== */\n\t$target.addEventListener('header:update:brand', ({detail}) => {\n\t\t$target.style.backgroundColor = detail.topStripe;\n\t\t$target.classList.add('-visible');\n\t});\n\n\treturn $target;\n};\n\n","import {$assign as $, $dispatch, $replaceAll, $renderSvgOrImg} from '../../shared/js/shared';\n\nconst prefix = 'esri-header-menus';\n\nexport default ({variant = 'desktop'}) => {\n\tconst $target = $('div', {class: prefix, id: `${prefix}-${variant}`});\n\t$target.classList.add(`-${variant}`);\n\n\tif (variant === 'mobile') {\n\t\tconst $toggle = $('button', {\n\t\t\tclass: `${prefix}-toggle`, id: `${prefix}-${variant}-toggle`,\n\t\t\taria: {controls: `${prefix}-content`, expanded: false, haspopup: true, labelledby: 'esri-header-brand'}\n\t\t});\n\n\t\t$toggle.addEventListener('click', (event) => {\n\t\t\t$dispatch($toggle, 'header:menu:toggle', {\n\t\t\t\tcontrol: $toggle,\n\t\t\t\tcontent: $content,\n\t\t\t\troot: true,\n\t\t\t\tstate: 'menu',\n\t\t\t\ttarget: $target,\n\t\t\t\ttype: 'root-toggle',\n\t\t\t\tevent\n\t\t\t});\n\t\t});\n\n\t\t$($target, $toggle);\n\t}\n\n\t/* Menus: Content\n\t/* ====================================================================== */\n\n\tconst $content = $('div', {\n\t\tclass: `${prefix}-content`,\n\t\taria: {hidden: true, expanded: false}\n\t});\n\n\t$($target, $content);\n\n\t/* Menus\n\t/* ====================================================================== */\n\n\n\t/* Menus: On Update\n\t/* ====================================================================== */\n\n\t$target.addEventListener('header:update:menus', ({detail}) => {\n\t\t$replaceAll(\n\t\t\t$content,\n\t\t\t...detail.map(\n\t\t\t\t(menu, uuid) => $('div',\n\t\t\t\t\t{\n\t\t\t\t\t\tclass: `${prefix}-menu`,\n\t\t\t\t\t\trole: 'group'\n\t\t\t\t\t},\n\t\t\t\t\t$('ul',\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tclass: `${prefix}-list`,\n\t\t\t\t\t\t\trole: 'navigation', aria: {labelledby: 'esri-header-brand'}\n\t\t\t\t\t\t},\n\t\t\t\t\t\t...menu.map((item, suuid) => {\n\t\t\t\t\t\t\t/* Global Navigation: Menus: Link\n\t\t\t\t\t\t\t/* ====================================================== */\n\n\t\t\t\t\t\t\tconst $linkIcon = item.icon\n\t\t\t\t\t\t\t\t? $renderSvgOrImg({imgDef: item.icon.path, imgClass: `${prefix}-link-icon`, imgWidth: item.icon.width || '16px', imgHeight: item.icon.height || '16px'})\n\t\t\t\t\t\t\t\t: null;\n\n\t\t\t\t\t\t\tconst $subcontrol = $('a',\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tclass: `${prefix}-link ${item.hideLabelInDesktop ? '-hide-label' : ''}`, id: `${prefix}-link-${uuid}-${suuid}`,\n\t\t\t\t\t\t\t\t\thref: item.href || 'javascript:;' // eslint-disable-line no-script-url\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t$linkIcon,\n\t\t\t\t\t\t\t\t$('span', {class : `${prefix}-link-label`}, item.label)\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\tif (item.data) {\n\t\t\t\t\t\t\t\t$subcontrol({\n\t\t\t\t\t\t\t\t\tdata: item.data\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tconst $li = $('li', {class: `${prefix}-item`}, $subcontrol);\n\n\t\t\t\t\t\t\tconst hasMenuItems = item.menus && item.menus.length;\n\t\t\t\t\t\t\tconst hasFeaturedItems = item.tiles && item.tiles.length;\n\n\t\t\t\t\t\t\tif (hasMenuItems || hasFeaturedItems) {\n\t\t\t\t\t\t\t\t/* Global Navigation: Submenu\n\t\t\t\t\t\t\t\t/* ====================================== */\n\n\t\t\t\t\t\t\t\tconst $subtoggle = $('button', {class: `${prefix}-submenu-toggle`},\n\t\t\t\t\t\t\t\t\titem.label\n\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\tconst $subcontent = $('div',\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tclass: `${prefix}-submenu`, id: `${prefix}-${variant}-submenu-${uuid}-${suuid}`,\n\t\t\t\t\t\t\t\t\t\trole: 'group', aria: {hidden: true, expanded: false},\n\t\t\t\t\t\t\t\t\t\tdata: {filled: (item.menus && item.menus.length > 10) ? item.menus.slice(0, 18).length : ''}\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t$subtoggle\n\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\tif (hasMenuItems) {\n\t\t\t\t\t\t\t\t\t$($subcontent,\n\t\t\t\t\t\t\t\t\t\t$('ul',\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\tclass: `${prefix}-sublist`,\n\t\t\t\t\t\t\t\t\t\t\t\trole: 'navigation', aria: {labelledby: `${prefix}-${variant}-link-${uuid}-${suuid}`}\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t/* Global Navigation: Menus: Sublink\n\t\t\t\t\t\t\t\t\t\t\t/* ============================== */\n\t\t\t\t\t\t\t\t\t\t\t...item.menus.slice(0, 18).map(\n\t\t\t\t\t\t\t\t\t\t\t\t(childitem) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tconst $sublink = $('a',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass: `${prefix}-sublink`,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thref: childitem.href\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tchilditem.label\n\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (childitem.data) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t$($sublink, {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata: childitem.data\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (childitem.newContext) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t$($sublink, {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttarget: '_blank',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trel: 'noopener'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn $('li', {class: `${prefix}-subitem`},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t$sublink\n\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif (hasFeaturedItems) {\n\t\t\t\t\t\t\t\t\t// ...\n\t\t\t\t\t\t\t\t\t$($subcontent,\n\t\t\t\t\t\t\t\t\t\t$('ul',\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\tclass: `${prefix}-sublist--featured`,\n\t\t\t\t\t\t\t\t\t\t\t\trole: 'navigation', aria: {labelledby: `${prefix}-link-${uuid}-${suuid}`},\n\t\t\t\t\t\t\t\t\t\t\t\tdata: {filled: `${item.tiles.slice(0, 4).length}`}\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t/* Global Navigation: Menus: Sublink\n\t\t\t\t\t\t\t\t\t\t\t/* ============================== */\n\n\t\t\t\t\t\t\t\t\t\t\t...item.tiles.slice(0, 4).map(\n\t\t\t\t\t\t\t\t\t\t\t\t(childitem) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tconst $sublink = $('a',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass: `${prefix}-sublink--featured`,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thref: childitem.href\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t$renderSvgOrImg({imgDef: childitem.icon, imgClass: `${prefix}-sublink-image`, imgWidth: childitem.width, imgHeight: childitem.height}),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t$('span', {class: `${prefix}-sublink-text`},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tchilditem.label\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (childitem.data) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t$($sublink, {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata: childitem.data\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (childitem.newContext) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t$($sublink, {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttarget: '_blank',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trel: 'noopener'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn $('li', {class: `${prefix}-subitem--featured`},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t$sublink\n\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t$($li,\n\t\t\t\t\t\t\t\t\t$subcontent\n\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\t$subcontrol.addEventListener('click', () => {\n\t\t\t\t\t\t\t\t\t$dispatch($subcontrol, 'header:menu:toggle', {\n\t\t\t\t\t\t\t\t\t\tcontrol: $subcontrol,\n\t\t\t\t\t\t\t\t\t\tcontent: $subcontent,\n\t\t\t\t\t\t\t\t\t\tsubmenu: true,\n\t\t\t\t\t\t\t\t\t\tstate: 'menu',\n\t\t\t\t\t\t\t\t\t\ttype: 'menu-toggle'\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\t$subtoggle.addEventListener('click', () => {\n\t\t\t\t\t\t\t\t\t$dispatch($subtoggle, 'header:menu:close', {\n\t\t\t\t\t\t\t\t\t\tcontrol: $subcontrol,\n\t\t\t\t\t\t\t\t\t\tsubmenu: true,\n\t\t\t\t\t\t\t\t\t\tcontent: $subcontent,\n\t\t\t\t\t\t\t\t\t\ttype: 'menu-close'\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\treturn $li;\n\t\t\t\t\t\t})\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t)\n\t\t);\n\t});\n\n\t$target.addEventListener('header:update:collapseMenus', ({detail}) => {\n\t\tif (detail && detail.indexOf(true) > -1) {\n\t\t\tdocument.querySelector('.esri-header-menus-toggle').classList.add('-visible');\n\t\t\tdocument.getElementById('esri-header-brand').classList.add('-fit-burger');\n\t\t\tdocument.getElementById('esri-header-menus-mobile').classList.add('-always-visible');\n\n\t\t\tconst menus = [].slice.call($target.querySelectorAll('.esri-header-menus-menu'));\n\t\t\tdetail.forEach((collapse, i) => {\n\t\t\t\tif (collapse) {\n\t\t\t\t\tmenus[i].classList.add('-collapsed');\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t});\n\n\treturn $target;\n};\n","import {$assign as $, $dispatch, $replaceAll, $renderSvgOrImg} from '../../shared/js/shared';\nimport esriSearch from '../../search/js/search';\n\nconst prefix = 'esri-header-search';\n\nexport default () => {\n\t/* Search: Control\n\t/* ====================================================================== */\n\n\tconst $control = $('button',\n\t\t{\n\t\t\tclass: `${prefix}-control`, id: `${prefix}-control`,\n\t\t\taria: {expanded: false, controls: `${prefix}-content`}\n\t\t}\n\t);\n\n\t$control.addEventListener('click', (event) => {\n\t\t$dispatch($control, 'header:click:search', {event});\n\n\t\t$dispatch($control, 'header:menu:toggle', {\n\t\t\tcontrol: $control,\n\t\t\tcontent: $content,\n\t\t\tstate: 'search',\n\t\t\ttarget: $target,\n\t\t\ttype: 'search-toggle',\n\t\t\tevent\n\t\t});\n\t});\n\n\t/* Search: Content\n\t/* ====================================================================== */\n\n\tconst $content = $('div', {\n\t\tclass: `${prefix}-content`, id: `${prefix}-content`,\n\t\taria: {expanded: false, labelledby: `${prefix}-control`}\n\t});\n\n\t/* Search: Target\n\t/* ====================================================================== */\n\n\tconst $target = $('div', {class: prefix},\n\t\t$control, $content\n\t);\n\n\t/* Search: On Update\n\t/* ====================================================================== */\n\n\t$target.addEventListener('header:update:search', ({detail}) => {\n\t\tif (!detail.hide) {\n\t\t\t$($control, {aria: {label: detail.label}});\n\t\t\t$renderSvgOrImg({imgDef: detail.image, imgClass: `${prefix}-image`, id: `${prefix}-image`, $targetElm: $control});\n\n\t\t\tif (detail.dialog) {\n\t\t\t\tdetail.dialog.prefix = 'esri-header-search-dialog';\n\n\t\t\t\tconst $dialog = esriSearch(detail.dialog);\n\n\t\t\t\tconst $dialogCancelButton = $('button', {\n\t\t\t\t\t\tclass: 'esri-header-search-dialog-cancel',\n\t\t\t\t\t\ttype: 'reset'\n\t\t\t\t\t},\n\t\t\t\t\t$('span',\n\t\t\t\t\t\tdetail.dialog.cancelLabel\n\t\t\t\t\t)\n\t\t\t\t);\n\n\t\t\t\t$dialogCancelButton.addEventListener('click', (event) => {\n\t\t\t\t\t$dispatch($control, 'header:menu:close', {\n\t\t\t\t\t\tcontrol: $control,\n\t\t\t\t\t\tcontent: $content,\n\t\t\t\t\t\tstate: 'search',\n\t\t\t\t\t\ttype: 'search-close',\n\t\t\t\t\t\tevent\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\t\t$($dialog,\n\t\t\t\t\t$dialogCancelButton\n\t\t\t\t);\n\n\t\t\t\t$replaceAll($content,\n\t\t\t\t\t$dialog\n\t\t\t\t);\n\n\t\t\t\t$control.addEventListener('click', (event) => {\n\t\t\t\t\tif ('true' === $control.getAttribute('aria-expanded')) {\n\t\t\t\t\t\t$dispatch($dialog, `${detail.dialog.prefix}:focus`, {event});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t});\n\n\treturn $target;\n};\n","import {$assign as $, $dispatch} from '../../shared/js/shared';\n\n/* Search\n/* ========================================================================== */\n\nexport default (data) => {\n\t/* Elements\n\t/* ====================================================================== */\n\n\tconst $label = $('label', {\n\t\tclass: `${data.prefix}-label`,\n\t\tfor: `${data.prefix}-query-control`\n\t}, data.queryLabel);\n\n\tconst $control = $('input', {\n\t\tclass: `${data.prefix}-control`, id: `${data.prefix}-control`,\n\t\ttype: 'search', name: 'q',\n\t\tautocapitalize: 'off', autocomplete: 'off', autocorrect: 'off', spellcheck: 'false'\n\t});\n\n\tconst $measureTextNode = document.createTextNode('');\n\n\tconst $measureText = $('div', {\n\t\tclass: `${data.prefix}-measure-text`,\n\t\taria: {hidden: true}\n\t}, $measureTextNode);\n\n\tconst $measure = $('div', {class: `${data.prefix}-measure`}, $measureText);\n\n\tconst $submit = $('button', {\n\t\tclass: `${data.prefix}-submit`, type: 'submit',\n\t\taria: {label: data.submitLabel}\n\t});\n\n\tconst $search = $('form', {\n\t\tclass: `${data.prefix}-form`, action: data.action,\n\t\trole: 'search', aria: {label: data.label}\n\t}, $label, $control, $measure, $submit);\n\n\t/* Focus Event\n\t/* ====================================================================== */\n\n\t$search.addEventListener(`${data.prefix}:focus`, () => {\n\t\t$control.focus();\n\t});\n\n\t/* On Input\n\t/* ====================================================================== */\n\n\tlet controlIsFilled = false;\n\tlet controlValue = '';\n\n\tfunction oninput(event) {\n\t\t/* Conditionally Reset Control Value\n\t\t/* ================================================================== */\n\n\t\tif (event && 'reset' === event.type) {\n\t\t\t$control.value = '';\n\t\t}\n\n\t\t/* Update New Control Value\n\t\t/* ================================================================== */\n\n\t\tconst newControlValue = $control.value;\n\n\t\tif (newControlValue !== controlValue) {\n\t\t\tcontrolValue = newControlValue;\n\n\t\t\t$dispatch($search, `${data.prefix}:input`, {\n\t\t\t\tvalue: controlValue,\n\t\t\t\tevent\n\t\t\t});\n\t\t}\n\n\t\t/* Update Label and Submit UI\n\t\t/* ================================================================== */\n\n\t\tif (controlIsFilled && !newControlValue) {\n\t\t\tcontrolIsFilled = false;\n\n\t\t\t$label.removeAttribute('data-filled');\n\t\t\t$submit.removeAttribute('data-filled');\n\t\t} else if (!controlIsFilled && newControlValue) {\n\t\t\tcontrolIsFilled = true;\n\n\t\t\t$($label, {data: {filled: ''}});\n\t\t\t$($submit, {data: {filled: ''}});\n\t\t}\n\n\t\t/* Update Measure UI\n\t\t/* ================================================================== */\n\n\t\t$measureTextNode.nodeValue = newControlValue;\n\n\t\tconst currentWidth = `${$measureText.scrollWidth}px`;\n\n\t\t$measure.style.width = currentWidth;\n\t}\n\n\t/* On Submit\n\t/* ====================================================================== */\n\n\tfunction onsubmit(event) {\n\t\t$dispatch($search, `${data.prefix}:submit`, {\n\t\t\tvalue: $control.value,\n\t\t\tevent\n\t\t});\n\t}\n\n\t/* On DOMNodeInserted\n\t/* ====================================================================== */\n\n\t$search.addEventListener('DOMNodeInserted', function onDOMNodeInserted() {\n\t\t// If Search now has a parent node\n\t\tif ($search.parentNode) {\n\t\t\t// Unbind the DOMNodeInserted method\n\t\t\t$search.removeEventListener('DOMNodeInserted', onDOMNodeInserted);\n\n\t\t\t// Update Search\n\t\t\t$dispatch($search, `${data.prefix}:update`, data);\n\t\t}\n\t});\n\n\t/* On Update\n\t/* ====================================================================== */\n\n\t$search.addEventListener(`${data.prefix}:update`, () => {\n\t\t/* Bind Media Event\n\t\t/* ====================================================================== */\n\n\t\tconst media = $search.ownerDocument.defaultView.matchMedia(data.matchMedia || '(max-width: 720px)');\n\n\t\tmedia.addListener(oninput);\n\n\t\t/* Bind Other Events\n\t\t/* ================================================================== */\n\n\t\t$control.addEventListener('input', oninput);\n\n\t\t$search.addEventListener('reset', oninput);\n\t\t$search.addEventListener('submit', onsubmit);\n\t\t$search.addEventListener(`${data.prefix}:unload`, onunload);\n\t});\n\n\treturn $search;\n};\n","import {$assign as $, $dispatch, $replaceAll, $renderSvgOrImg} from '../../shared/js/shared';\n\n/* Apps\n/* ========================================================================== */\n\nconst prefix = 'esri-header-apps';\n\nexport default () => {\n\t/* Apps: Content\n\t/* ====================================================================== */\n\n\tconst $content = $('div', {\n\t\tclass: `${prefix}-content`,\n\t\tid: `${prefix}-content`,\n\t\taria: {expanded: false, labelledby: `${prefix}-control`}\n\t});\n\n\tconst $appSwitcherIcon = $('span', {\n\t\ttitle: \"App Launcher\",\n\t\t\"aria-label\": \"App Launcher Icon\"\n\t});\n\n\t/* Apps: Control\n\t/* ====================================================================== */\n\n\tconst $controlContainer = $('button', {\n\t\tclass: `${prefix}-control empty-padding`, id: `${prefix}-control`\n\t});\n\n\tconst $dropdown = $('div', {\n\t\tclass: 'dropdown'\n\t});\n\n\t$controlContainer.appendChild($dropdown);\n\n\tconst $control = $controlContainer;\n\n\t$controlContainer.addEventListener('click', (event) => {\n\t\t$dispatch($control, 'header:click:apps', {event});\n\n\t\t// Elements with following class won't trigger/dispatch the dropdown\n\t\tif (event.target.classList.contains(`${prefix}-prevent-dropdown`)) return;\n\n\t\t$dispatch($control, 'header:menu:toggle', {\n\t\t\tstate: 'menu',\n\t\t\ttarget: $target,\n\t\t\ttype: 'root-toggle',\n\t\t\tcontrol: $control,\n\t\t\tcontent: $content,\n\t\t\tevent\n\t\t});\n\t});\n\n\t/* Apps: Target\n\t/* ====================================================================== */\n\n\tconst $target = $('div', {class: prefix},\n\t\t$control\n\t);\n\n\t/* Apps: Helper Functions for Update\n\t/* ====================================================================== */\n\n\tconst createDefaultAppLayout = ($topAppContainer, currentApp) => {\n\t\tconst abbreviationSizes = [\"0px\", \"32px\", \"24px\", \"20px\", \"18px\", \"16px\", \"14px\"];\n\n\t\tconst listItem = $(\"li\", {\n\t\t\talt: \"\",\n\t\t\tclass: `${prefix}-prevent-dropdown link-off-black appLinkContainer`,\n\t\t\trole: \"menuitem\"\n\t\t});\n\n\t\tconst appLink = $(\"a\", {\n\t\t\thref: currentApp.url, // + \"#username=\" + this._currentUser.username,\n\t\t\ttarget: \"_blank\",\n\t\t\tclass: \"appLink\"\n\t\t});\n\t\t// Check if App has Icon\n\t\tif (currentApp.image) {\n\t\t\tconst appImageContainer = $(\"div\", {\"class\": \"appIconImage\"});\n\t\t\t$renderSvgOrImg({imgDef: currentApp.image, imgWidth: 48, imgHeight: 48, $targetElm: appImageContainer});\n\t\t\tappLink.appendChild(appImageContainer);\n\t\t} else {\n\t\t\tconst stringWidth = Math.round(getTextWidth(currentApp.abbr || \"\", \"avenir\") / 5);\n\t\t\tlet abbreviationSize = abbreviationSizes[stringWidth];\n\t\t\tif (stringWidth > 6) { // Prevent user from exceeding icon width\n\t\t\t\tcurrentApp.abbr = currentApp.abbr.substr(0, 4);\n\t\t\t\tabbreviationSize = abbreviationSizes[4];\n\t\t\t}\n\t\t\tconst surfaceDiv = $(\"div\", {\"class\": \"appIconImage\"});\n\t\t\tconst surfaceSpan = $(\"span\", {\n\t\t\t\tstyle: `font-size: ${abbreviationSize}`,\n\t\t\t\tclass: \"avenir appIconSvgText\"\n\t\t\t}, currentApp.abbr);\n\t\t\tsurfaceDiv.appendChild(surfaceSpan);\n\t\t\tsurfaceDiv.appendChild($renderSvgOrImg({imgDef: currentApp.placeHolderIcon, imgWidth: 48, imgHeight: 48}));\n\t\t\tappLink.appendChild(surfaceDiv);\n\t\t}\n\t\tconst p = $(\"p\", {style: \"margin:0 auto; text-align:center\"}, currentApp.label);\n\t\tappLink.appendChild(p);\n\t\tlistItem.appendChild(appLink);\n\t\t$topAppContainer.appendChild(listItem);\n\t};\n\n\tconst getTextWidth = (text, font) => { // Adds support for app abbreviations in all languages\n\t\tconst canvas = getTextWidth.canvas || (getTextWidth.canvas = document.createElement(\"canvas\"));\n\t\tconst context = canvas.getContext(\"2d\");\n\t\tcontext.font = font;\n\t\tconst metrics = context.measureText(text);\n\t\treturn metrics.width;\n\t};\n\n\t/* Apps: On Update\n\t/* ====================================================================== */\n\n\t$target.addEventListener('header:update:apps', ({detail}) => {\n\t\t$renderSvgOrImg({imgDef: detail.image.path, imgWidth: detail.image.width, imgHeight: detail.image.height, imgClass: `${prefix}-image`, $targetElm: $appSwitcherIcon});\n\n\t\tif (detail.icons) {\n\t\t\t$target.appendChild($content);\n\t\t\t$control.className = `${prefix}-control`;\n\n\t\t\t$($control, {aria: {label: detail.label}});\n\n\t\t\tconst numberOfApps = detail.icons.length;\n\t\t\tconst dropdownWidth = ` dropdown-width-${(numberOfApps < 4 ? numberOfApps : 4)}`;\n\n\t\t\t// App Icons\n\n\t\t\tconst $topAppContainer = $(\"ul\", {\n\t\t\t\tclass: `${prefix}-prevent-dropdown appContainer`,\n\t\t\t\trole: \"menu\"\n\t\t\t});\n\n\t\t\tconst maxAppsPerDialog = numberOfApps >= 100 ? 100 : numberOfApps;\n\t\t\tfor (let i = 0; i < maxAppsPerDialog; i += 1) {\n\t\t\t\tcreateDefaultAppLayout($topAppContainer, detail.icons[i]);\n\t\t\t}\n\n\t\t\t// Container\n\t\t\tconst $dropdownWrapper = $('div', {class: `${prefix}-prevent-dropdown`}, $topAppContainer);\n\n\t\t\tconst $dropdownNav = $('nav', {\n\t\t\t\tclass: `${prefix}-prevent-dropdown dropdown-menu dropdown-right app-switcher-dropdown-menu ${dropdownWidth}`,\n\t\t\t\trole: \"menu\"\n\t\t\t}, $dropdownWrapper);\n\n\t\t\t$replaceAll($dropdown, $appSwitcherIcon, $dropdownNav);\n\t\t}\n\t});\n\n\treturn $target;\n};\n","import {$assign as $, $dispatch, $enableFocusRing, $replaceAll} from '../../shared/js/shared';\n\nimport createAccount from './header-account';\nimport createBrand from './header-brand';\nimport createBrandStripe from './header-branding-stripe';\nimport createMenus from './header-menus';\nimport createSearch from './header-search';\nimport createApps from './header-apps';\n\n/* Header\n/* ====================================================================== */\n\nexport default (data) => {\n\tlet viewportIsSmall;\n\tlet viewportIsSmallMedium;\n\n\t/* Canvas\n\t/* ====================================================================== */\n\n\tconst $headerCanvas = $('button', {\n\t\tclass: 'esri-header-canvas',\n\t\ttabindex: '-1',\n\t\tdata: {open: false}\n\t});\n\n\t$headerCanvas.addEventListener('click', () => {\n\t\t$dispatch($headerCanvas, 'header:menu:close');\n\t});\n\n\t/* Elements\n\t/* ====================================================================== */\n\n\tconst $brandStripe = createBrandStripe();\n\tconst $brand = createBrand();\n\tconst $account = createAccount();\n\tconst $mobileMenus = createMenus({variant: 'mobile'});\n\tconst $desktopMenus = createMenus({variant: 'desktop'});\n\tconst $search = createSearch();\n\tconst $apps = createApps();\n\n\tconst $client = $('div', {class: 'esri-header-client'},\n\t\t$account\n\t);\n\n\tconst $lineBreak = $('div', {class: 'esri-header-lineBreak'});\n\n\tconst $header = $('div', {class: `esri-header -${data.theme || 'web'}`},\n\t\t$headerCanvas,\n\t\t$brandStripe,\n\t\t$brand,\n\t\t$mobileMenus,\n\t\t$desktopMenus,\n\t\t$search,\n\t\t$lineBreak,\n\t\t$apps,\n\t\t$client\n\t);\n\n\t$enableFocusRing($header);\n\n\t/* On Header Update\n\t/* ====================================================================== */\n\n\t$header.addEventListener('header:update', ({detail}) => {\n\t\tif (detail.brand) {\n\t\t\tif (detail.brand.topStripe) {\n\t\t\t\t$dispatch($brandStripe, 'header:update:brand', detail.brand);\n\t\t\t\t$header.style.marginTop = '3px';\n\t\t\t}\n\t\t\t$dispatch($brand, 'header:update:brand', detail.brand);\n\t\t}\n\n\t\tif (detail.menus) {\n\t\t\t$dispatch($desktopMenus, 'header:update:menus', detail.menus);\n\t\t\t$dispatch($mobileMenus, 'header:update:menus', detail.menus);\n\t\t}\n\n\t\tif (detail.collapseMenus) {\n\t\t\t$dispatch($desktopMenus, 'header:update:collapseMenus', detail.collapseMenus);\n\t\t\t$dispatch($mobileMenus, 'header:update:collapseMenus', detail.collapseMenus);\n\t\t}\n\n\t\tif (detail.search) {\n\t\t\t$dispatch($search, 'header:update:search', detail.search);\n\t\t}\n\n\t\tif (detail.account) {\n\t\t\t$dispatch($client.lastChild, 'header:update:account', detail.account);\n\t\t}\n\n\t\tif (detail.account) {\n\t\t\t$dispatch($client.lastChild, 'header:update:account', detail.account);\n\t\t}\n\n\t\tif (detail.apps) {\n\t\t\t$dispatch($apps, 'header:update:apps', detail.apps);\n\t\t}\n\n\t\t$header.ownerDocument.defaultView.addEventListener('keydown', ({keyCode}) => {\n\t\t\tif (27 === keyCode) {\n\t\t\t\t$dispatch($header, 'header:menu:close');\n\t\t\t}\n\t\t});\n\t});\n\n\t/* On Header Menu Toggle\n\t/* ====================================================================== */\n\n\t$header.addEventListener('header:menu:toggle', ({detail}) => {\n\t\tconst submenuShouldOpen = 'true' !== detail.control.getAttribute('aria-expanded');\n\t\tconst eventType = submenuShouldOpen ? 'header:menu:open' : 'header:menu:close';\n\n\t\t$dispatch(detail.control, eventType, detail);\n\t});\n\n\t/* On Header Menu Open\n\t/* ====================================================================== */\n\n\tlet accountDetail = null;\n\tlet searchDetail = null;\n\tlet menusDetail = null;\n\tlet menuDetail = null;\n\tlet appsDetail = null;\n\n\t$header.addEventListener('header:menu:open', ({detail}) => {\n\t\tconst isMenuToggle = 'menu-toggle' === detail.type;\n\n\t\t// Update Control, Content\n\t\t$(detail.control, {aria: {expanded: true}});\n\t\t$(detail.content, {aria: {expanded: true, hidden: false}});\n\n\t\tif (menuDetail && menuDetail.control !== detail.control) {\n\t\t\t$dispatch(menuDetail.control, 'header:menu:close', menuDetail);\n\t\t}\n\n\t\tif ('menu-toggle' === detail.type) {\n\t\t\tmenuDetail = detail;\n\t\t}\n\n\t\tif ($search === detail.target) {\n\t\t\tsearchDetail = detail;\n\t\t} else if (searchDetail) {\n\t\t\t$dispatch($search, 'header:menu:close', searchDetail);\n\t\t\tsearchDetail = null;\n\t\t}\n\n\t\tif ($desktopMenus === detail.target || $mobileMenus === detail.target) {\n\t\t\tmenusDetail = detail;\n\t\t} else if (menusDetail && !isMenuToggle && !viewportIsSmall.matches) {\n\t\t\t$dispatch($desktopMenus, 'header:menu:close', menusDetail);\n\t\t\t$dispatch($mobileMenus, 'header:menu:close', menusDetail);\n\t\t\tmenusDetail = null;\n\t\t}\n\n\t\tif ($account === detail.target) {\n\t\t\taccountDetail = detail;\n\t\t} else if (accountDetail) {\n\t\t\t$dispatch($account, 'header:menu:close', accountDetail);\n\n\t\t\taccountDetail = null;\n\t\t}\n\n\t\tif ($apps === detail.target) {\n\t\t\tappsDetail = detail;\n\t\t} else if (appsDetail) {\n\t\t\t$dispatch($apps, 'header:menu:close', appsDetail);\n\n\t\t\tappsDetail = null;\n\t\t}\n\n\t\t// Update Canvas\n\t\t$($headerCanvas, {data: {open: true, state: detail.state}});\n\n\t\t// Update Document Root\n\t\t$($header.ownerDocument.documentElement, {data: {'header-is-open': true}});\n\t});\n\n\t/* On Header Menu Close\n\t/* ====================================================================== */\n\n\t$header.addEventListener('header:menu:close', ({detail}) => {\n\t\tconst currentDetail = detail || menusDetail || searchDetail || accountDetail || appsDetail || menuDetail;\n\n\t\tif (currentDetail) {\n\t\t\t// Close the Detail\n\t\t\t$(currentDetail.control, {aria: {expanded: false}});\n\t\t\t$(currentDetail.content, {aria: {expanded: false, hidden: true}});\n\n\t\t\tconst canvasShouldClose = !viewportIsSmallMedium.matches || 'menu-close' !== currentDetail.type && 'account-close' !== currentDetail.type;\n\n\t\t\tif (searchDetail && searchDetail.control === currentDetail.control) {\n\t\t\t\t$dispatch(searchDetail.content.lastChild, 'reset');\n\t\t\t}\n\n\t\t\tif (canvasShouldClose) {\n\t\t\t\t// Close the Canvas\n\t\t\t\t$($headerCanvas, {data: {open: false}});\n\n\t\t\t\t// Update Document Root\n\t\t\t\t$header.ownerDocument.documentElement.removeAttribute('data-header-is-open');\n\t\t\t}\n\t\t}\n\t});\n\n\t/* On DOMNodeInserted\n\t/* ====================================================================== */\n\n\t$header.addEventListener('DOMNodeInserted', function onload() {\n\t\t// Get Document and Window\n\t\tconst $headerDocument = $header.ownerDocument;\n\t\tconst $headerWindow = $headerDocument.defaultView;\n\n\t\tconst $style = $('style');\n\n\t\tlet overflowY;\n\n\t\tif ($header.parentNode) {\n\t\t\t// Unbind Node Inserted\n\t\t\t$header.removeEventListener('DOMNodeInserted', onload);\n\n\t\t\t// Update Header\n\t\t\t$dispatch($header, 'header:update', data);\n\n\t\t\t/* On Resize\n\t\t\t/* ============================================================== */\n\n\t\t\t$($headerDocument.head,\n\t\t\t\t$style\n\t\t\t);\n\n\t\t\t$headerWindow.addEventListener('orientationchange', onresize);\n\t\t\t$headerWindow.addEventListener('resize', onresize);\n\n\t\t\t/* On Match Media Change\n\t\t\t/* ============================================================== */\n\n\t\t\tviewportIsSmall = $headerWindow.matchMedia('(max-width: 767px)');\n\t\t\tviewportIsSmallMedium = $headerWindow.matchMedia('(max-width: 1023px)');\n\n\t\t\tviewportIsSmall.addListener(onViewportIsSmallChange);\n\t\t\tviewportIsSmallMedium.addListener(onViewportIsSmallMediumChange);\n\n\t\t\tonViewportIsSmallChange();\n\t\t\tonViewportIsSmallMediumChange();\n\n\t\t\tonresize();\n\t\t}\n\n\t\tfunction onresize() {\n\t\t\tconst width = $headerDocument.documentElement.clientWidth;\n\t\t\tconst height = $headerDocument.documentElement.clientHeight;\n\t\t\tconst scrollHeight = $headerDocument.documentElement.scrollHeight;\n\n\t\t\toverflowY = getComputedStyle($headerDocument.documentElement).overflowY.replace('visible', scrollHeight > height ? 'scroll' : 'visible');\n\n\t\t\t$replaceAll($style,\n\t\t\t\t`:root{--esri-vw:${width}px;--esri-vh:${height}px}[data-header-is-open]{width:${width}px;height:${height}px;overflow-y:${overflowY}}`\n\t\t\t);\n\n\t\t\tviewportIsSmallMedium = $headerWindow.matchMedia('(max-width: 1023px)');\n\t\t\tif (viewportIsSmallMedium.matches) {\n\t\t\t\t$desktopMenus.querySelector('.esri-header-menus-content').classList.add('hidden');\n\t\t\t\t$mobileMenus.querySelector('.esri-header-menus-content').classList.remove('hidden');\n\t\t\t} else {\n\t\t\t\t$desktopMenus.querySelector('.esri-header-menus-content').classList.remove('hidden');\n\t\t\t\t$mobileMenus.querySelector('.esri-header-menus-content').classList.add('hidden');\n\t\t\t}\n\t\t}\n\n\t\tfunction onViewportIsSmallChange() {\n\t\t\tif (viewportIsSmall.matches) {\n\t\t\t\t$dispatch($header, 'header:breakpoint:s');\n\n\t\t\t\t$mobileMenus.lastChild.appendChild($account);\n\t\t\t\t$desktopMenus.lastChild.appendChild($account);\n\t\t\t} else {\n\t\t\t\t$dispatch($header, 'header:breakpoint:not:s');\n\n\t\t\t\t$client.appendChild($account);\n\t\t\t}\n\t\t}\n\n\t\tfunction onViewportIsSmallMediumChange() {\n\t\t\tif (viewportIsSmallMedium.matches) {\n\t\t\t\t$dispatch($header, 'header:breakpoint:sm');\n\t\t\t\t$($desktopMenus.lastChild, {aria: {hidden: 'false' === $desktopMenus.lastChild.getAttribute('aria-expanded')}});\n\t\t\t} else {\n\t\t\t\t$dispatch($header, 'header:breakpoint:not:sm');\n\t\t\t\t$($desktopMenus.lastChild, {aria: {hidden: false}});\n\t\t\t}\n\t\t}\n\t});\n\n\treturn $header;\n};\n","/* Global Footer: Tooling\n/* ========================================================================== */\n\nimport {$assign as $, $dispatch} from '../../shared/js/shared';\n\nimport languageDialog from './language';\n\n/* Global Footer\n/* ========================================================================== */\n\nexport default (data, prefix) => {\n\t// Language Selection Button\n\tconst $labelText = document.createTextNode(data.buttonLabel);\n\tconst $control = document.createElement('button');\n\t$control.classList.add(`${prefix}-language-control`);\n\t$control.setAttribute('ariaDescribedby',`${prefix}-language`);\n\t$control.innerHTML = data.buttonLabel;\n\n\tconst $barrier = $('div', {class: `${prefix}-language`}, $control);\n\n\t$control.addEventListener('click', openDialog);\n\n\t// Language Dialog\n\tdata.prefix = `${prefix}-language-dialog`;\n\n\tconst $languageDialog = languageDialog(data);\n\n\t// Language Dialog Close Button\n\tconst $languageDialogClose = $('button', {\n\t\tclass: `${prefix}-language-dialog-close`, id: 'dialog-description',\n\t\tariaLabel: data.closeLabel\n\t});\n\n\t$languageDialogClose.addEventListener('click', closeDialog);\n\n\t$($languageDialog, $languageDialogClose);\n\n\t// Language Dialog Canvas\n\tconst $cancelCanvas = $('button', {\n\t\tclass: `${prefix}-language-dialog-cancel-canvas`,\n\t\ttype: 'button',\n\t\ttabindex: -1\n\t});\n\n\t$cancelCanvas.addEventListener('click', closeDialog);\n\n\tfunction openDialog(event) {\n\t\tevent.preventDefault();\n\n\t\t$($canvas, {\n\t\t\taria: {expanded: true}\n\t\t});\n\t}\n\n\tfunction closeDialog(event) {\n\t\tevent.preventDefault();\n\n\t\t$($canvas, {\n\t\t\taria: {expanded: false}\n\t\t});\n\t}\n\n\t// ...\n\tconst $canvas = $('div', {\n\t\tclass: `${prefix}-language-dialog-barrier`,\n\t\taria: {expanded: false}\n\t}, $languageDialog, $cancelCanvas);\n\n\t// ...\n\t$control.addEventListener('click', () => {\n\t\t$dispatch($control, 'footer:click:language', data);\n\t});\n\n\t// ...\n\t$barrier.addEventListener('footer:update:language', ({detail}) => {\n\t\t$control.innerHTML = detail.buttonLabel;\n\n\t\t$barrier.ownerDocument.body.appendChild(\n\t\t\t$canvas\n\t\t);\n\n\t\t$barrier.ownerDocument.defaultView.addEventListener('keydown', ({keyCode} = event) => {\n\t\t\tif (27 === keyCode) {\n\t\t\t\tcloseDialog(event);\n\t\t\t}\n\t\t});\n\t});\n\n\treturn $barrier;\n};\n","import {$assign as $} from '../../shared/js/shared';\n\n/* Language\n/* ========================================================================== */\n\nexport default (data) => {\n\tconst $choice = $('select',\n\t\t{\n\t\t\tclass: `${data.prefix}-choice`,\n\t\t\tautofocus: '',\n\t\t\taria: {label: data.optionsLabel}\n\t\t},\n\t\t...data.options.map(\n\t\t\t(option) => {\n\t\t\t\tconst opt = document.createElement('option');\n\t\t\t\topt.value = option.value;\n\t\t\t\topt.innerHTML = option.label;\n\t\t\t\treturn opt;\n\t\t\t}\n\t\t)\n\t);\n\n\tconst $language = $('form', {\n\t\t\tclass: data.prefix,\n\t\t\taria: {labelledby: `${data.prefix}-message`, describedby: 'dialog-description'}\n\t\t},\n\t\t$('p', {class: `${data.prefix}-message`, id: `${data.prefix}-message`},\n\t\t\t$('strong', data.greetingLabel),\n\t\t\t' ',\n\t\t\tdata.messageLabel\n\t\t),\n\t\t$choice,\n\t\t$('button', {\n\t\t\tclass: `${data.prefix}-submit`,\n\t\t\ttype: 'submit',\n\t\t\taria: {label: `${data.submitLabel} ${data.optionsLabel}`}\n\t\t}, data.submitLabel)\n\t);\n\n\t$language.addEventListener('submit', (event) => {\n\t\tevent.preventDefault();\n\n\t\twindow.location.href = $choice.value;\n\t});\n\n\treturn $language;\n};\n","/* Global Footer\n/* ========================================================================== */\n\nimport {$assign as $, $dispatch} from '../../shared/js/shared';\n\n// Create navigation\nexport default (data, prefix) => {\n\t// ...\n\tconst media = matchMedia('(max-width: 719px)');\n\n\tlet mediaMatches = false;\n\n\tmedia.addListener(onchange);\n\n\t// Menu Items\n\tconst links = data.menu.map(\n\t\t(item, index) => $('li', {class: `${prefix}-menu-item`, id: `${prefix}-menu-link--${index}`},\n\t\t\t$('span',\n\t\t\t\t{\n\t\t\t\t\tclass: `${prefix}-menu-link`,\n\t\t\t\t\trole: 'heading'\n\t\t\t\t},\n\t\t\t\titem.label\n\t\t\t),\n\t\t\t// Submenu\n\t\t\t$('div',\n\t\t\t\t{\n\t\t\t\t\tclass: `${prefix}-menu--sub`, id: `${prefix}-menu--sub--${index}`,\n\t\t\t\t\taria: {labelledby: `${prefix}-menu-link--${index}`}\n\t\t\t\t},\n\t\t\t\t$('ul',\n\t\t\t\t\t{\n\t\t\t\t\t\tclass: `${prefix}-menu-list--sub`,\n\t\t\t\t\t\trole: 'presentation'\n\t\t\t\t\t},\n\t\t\t\t\t// Submenu Items\n\t\t\t\t\t...item.menu.map(\n\t\t\t\t\t\t(subitem) => $('li', {class: `${prefix}-menu-item--sub`},\n\t\t\t\t\t\t\t$('a', {class: `${prefix}-menu-link--sub`, href: subitem.href},\n\t\t\t\t\t\t\t\tsubitem.label\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t)\n\t\t)\n\t);\n\n\t// Menu\n\tconst $target = $('div',\n\t\t{\n\t\t\tclass: `${prefix}-menu`,\n\t\t\taria: {label: data.label}\n\t\t},\n\t\t$('ul',\n\t\t\t{\n\t\t\t\tclass: `${prefix}-menu-list`,\n\t\t\t\trole: 'presentation'\n\t\t\t},\n\t\t\t...links\n\t\t)\n\t);\n\n\tonchange();\n\n\treturn $target;\n\n\t// ...\n\tfunction onchange() {\n\t\tif (mediaMatches !== media.matches) {\n\t\t\tmediaMatches = media.matches;\n\n\t\t\tlinks.forEach((link) => {\n\t\t\t\tif (mediaMatches) {\n\t\t\t\t\ttransformAsTouch(link.firstChild);\n\t\t\t\t} else {\n\t\t\t\t\tdetransformAsTouch(link.firstChild);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\t// ...\n\tfunction transformAsTouch(link) {\n\t\tconst isVisible = 'true' !== link.nextElementSibling.getAttribute('aria-hidden');\n\n\t\t$(link, {\n\t\t\ttabindex: 0,\n\t\t\trole: 'button', aria: {expanded: !isVisible, haspopup: !isVisible}\n\t\t});\n\n\t\tlink.addEventListener('click', onclick);\n\t\tlink.addEventListener('keypress', onkeypress);\n\n\t\t$(link.nextElementSibling, {aria: {hidden: true}});\n\t}\n\n\t// ...\n\tfunction detransformAsTouch(link) {\n\t\tlink.removeAttribute('aria-controls');\n\t\tlink.removeAttribute('aria-expanded');\n\t\tlink.removeAttribute('aria-haspopup');\n\t\tlink.removeAttribute('role');\n\t\tlink.removeAttribute('tabindex');\n\n\t\tlink.addEventListener('click', onclick);\n\t\tlink.addEventListener('keypress', onkeypress);\n\n\t\tlink.nextElementSibling.removeAttribute('aria-hidden');\n\t}\n\n\t// ...\n\tfunction onclick(event) {\n\t\tconst currentTarget = event.currentTarget;\n\t\tconst nextTarget = currentTarget.nextElementSibling;\n\t\tconst isVisible = 'true' !== nextTarget.getAttribute('aria-hidden');\n\n\t\t$(currentTarget, {aria: {expanded: !isVisible, haspopup: !isVisible}});\n\n\t\t$(nextTarget, {aria: {hidden: isVisible}});\n\n\t\tif (isVisible) {\n\t\t\t$(currentTarget, {aria: {controls: 0}});\n\t\t} else {\n\t\t\t$(currentTarget, {aria: {controls: nextTarget.id}});\n\t\t}\n\t}\n\n\t// ...\n\tfunction onkeypress(event) {\n\t\tif (event.keyCode === 13 || event.keyCode === 32) {\n\t\t\tevent.preventDefault();\n\n\t\t\t$dispatch(event.currentTarget, 'click');\n\t\t}\n\t}\n};\n","import {$assign as $, $dispatch, $enableFocusRing} from '../../shared/js/shared';\n\nimport brand from './footer-brand';\nimport language from './footer-language';\nimport menu from './footer-menu';\nimport info from './footer-info';\nimport social from './footer-social';\n\n/* Global Footer\n/* ========================================================================== */\n\nexport default (data) => {\n\tconst prefix = data.prefix || 'esri-footer';\n\n\t/* Footer Components\n\t/* ====================================================================== */\n\n\tconst $footerBrand = brand(data.brand, prefix);\n\tconst $footerInfo = info(data.info, prefix);\n\tconst $footerLanguage = data.language ? language(data.language, prefix) : $('div', {class: `esri-footer-language`});\n\tconst $footerMenu = menu(data.menu, prefix);\n\tconst $footerSocial = social(data.social, prefix);\n\n\tconst $footer = $('footer',\n\t\t{\n\t\t\tclass: `${prefix} ${data.hideMenus ? 'skinny-footer' : ''}`,\n\t\t\trole: 'navigation',\n\t\t\taria: {label: data.label}\n\t\t},\n\n\t\t/* Append Footer Components\n\t\t/* ================================================================== */\n\t\t$('div', {class: `${prefix}-section--1 ${data.hideMenus ? 'hidden' : ''}`},\n\t\t\t$footerBrand,\n\t\t\t$footerSocial\n\t\t),\n\t\t$('div', {class: `${prefix}-section--2 ${data.hideMenus ? 'hidden' : ''}`},\n\t\t\t$footerMenu\n\t\t),\n\t\t$('div', {class: `${prefix}-section--3`},\n\t\t\t$footerLanguage,\n\t\t\t$footerInfo\n\t\t)\n\t);\n\n\t/* On DOMNodeInserted\n\t/* ====================================================================== */\n\n\t$footer.addEventListener('DOMNodeInserted', function onDOMNodeInserted() {\n\t\t// Unbind Node Inserted\n\t\t$footer.removeEventListener('DOMNodeInserted', onDOMNodeInserted);\n\n\t\t// Scroll to Footer on focus\n\t\t$footer.addEventListener('focusin', () => {\n\t\t\tconst scrollY = $footer.ownerDocument.documentElement.scrollHeight - $footer.scrollHeight;\n\n\t\t\tif (scrollY > $footer.ownerDocument.defaultView.pageYOffset) {\n\t\t\t\t$footer.ownerDocument.defaultView.scrollTo(0, scrollY);\n\t\t\t}\n\t\t});\n\n\t\tif (data.hideMenus) {\n\t\t\tdocument.querySelector('.esri-footer-barrier').classList.add('skinny-footer');\n\t\t}\n\n\t\t// Update Header\n\t\t$dispatch($footer, 'footer:update', data);\n\t});\n\n\t$enableFocusRing($footer);\n\n\t/* On Footer Update\n\t/* ====================================================================== */\n\n\t$footer.addEventListener('footer:update', ({detail}) => {\n\t\tif (detail.brand) {\n\t\t\t$dispatch($footerBrand, 'footer:update:brand', detail.brand);\n\t\t}\n\n\t\tif (detail.info) {\n\t\t\t$dispatch($footerInfo, 'footer:update:info', detail.info);\n\t\t}\n\n\t\tif (detail.language) {\n\t\t\t$dispatch($footerLanguage, 'footer:update:language', detail.language);\n\t\t}\n\n\t\tif (detail.menu) {\n\t\t\t$dispatch($footerMenu, 'footer:update:menu', detail.menu);\n\t\t}\n\n\t\tif (detail.social) {\n\t\t\t$dispatch($footerSocial, 'footer:update:social', detail.social);\n\t\t}\n\n\t\t$footer.ownerDocument.defaultView.addEventListener('scroll', onscroll);\n\n\t\tonscroll();\n\n\t\tfunction onscroll() {\n\t\t\tconst hidden = 0 > window.pageYOffset;\n\n\t\t\t$($footer, {data: {hidden}});\n\t\t}\n\t});\n\n\treturn $footer;\n};\n","import {$assign as $, $renderSvgOrImg} from '../../shared/js/shared';\n\n// Create branding and social sections\nexport default (data, prefix) => $('div', {class: `${prefix}-brand`},\n\t$('a',\n\t\t{\n\t\t\tclass: `${prefix}-brand-link`,\n\t\t\thref: data.href,\n\t\t\taria: {label: data.label}\n\t\t},\n\t\t$renderSvgOrImg({imgDef: data.path, imgClass: `${prefix}-brand-image`})\n\t)\n);\n","/* Global Footer: Tooling\n/* ========================================================================== */\n\nimport {$assign as $} from '../../shared/js/shared';\n\n/* Global Footer\n/* ========================================================================== */\n\nexport default (data, prefix) =>\n\t$('div', {class: `${prefix}-info`, aria: {label: data.label}},\n\t\t$('ul', {class: `${prefix}-info-list`, role: 'presentation'},\n\t\t\t...data.menu.map(\n\t\t\t\t(item, index) => $('li', {class: `${prefix}-info-item`, id: `${prefix}-info-link--${index}`},\n\t\t\t\t\t$('a', {class: `${prefix}-info-link`, href: item.href},\n\t\t\t\t\t\titem.label\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t)\n\t\t)\n\t);\n","import {$assign as $, $renderSvgOrImg} from '../../shared/js/shared';\n\nexport default (data, prefix) => {\n\tconst $socialIcons = document.createDocumentFragment();\n\n\n\tdata.menu.forEach((item) => $($socialIcons,\n\t\t$('li', {class: `${prefix}-social-item`},\n\t\t\t$('a',\n\t\t\t\t{\n\t\t\t\t\tclass: `${prefix}-social-link -${item.label.toLowerCase()}`,\n\t\t\t\t\thref: item.href,\n\t\t\t\t\taria: {label: item.label}\n\t\t\t\t},\n\t\t\t\t$renderSvgOrImg({imgDef: item.image.path, imgClass: `${prefix}-social-image`, imgWidth: 30, imgHeight:30, viewBox : item.image.viewBox})\n\t\t\t)\n\t\t)));\n\n\treturn $('div',\n\t\t{class: `${prefix}-social`, aria: {label: data.label}},\n\t\t$('ul', {class: `${prefix}-social-list`, role: 'presentation'},\n\t\t\t$socialIcons));\n};\n","import createHeader from './header/js/header';\nimport createFooter from './footer/js/footer';\n\nwindow.esriHeader = {create: createHeader};\nwindow.esriFooter = {create: createFooter};\n\nfunction buildHeader({targetElm, menuData}) {\n\tdocument.querySelector(targetElm).classList.add('esri-header-barrier');\n\tconst $esriHeader = createHeader(menuData.header);\n\tconst $headerBarrier = document.querySelector(targetElm);\n\t$headerBarrier.appendChild($esriHeader);\n}\n\nfunction buildFooter({targetElm, menuData}) {\n\tdocument.querySelector(targetElm).classList.add('esri-footer-barrier');\n\tconst $esriFooter = createFooter(menuData.footer);\n\tconst $footerBarrier = document.querySelector(targetElm);\n\t$footerBarrier.appendChild($esriFooter);\n}\n\nexport default {\n\tcreateHeader: buildHeader,\n\tcreateFooter: buildFooter,\n\tcreate: ({headerElm, footerElm, menuData}) => {\n\t\tbuildHeader({menuData, targetElm : headerElm});\n\t\tbuildFooter({menuData, targetElm : footerElm});\n\t}\n};\n"],"names":["$assign","id","element","Node","document","createElement","slice","call","arguments","forEach","source","appendChild","innerHTML","assignSource","prefix","key","addEventListener","Object","setAttribute","$replaceAll","parentNode","lastChild","removeChild","nodes","fragment","createDocumentFragment","node","createTextNode","$dispatch","target","type","detail","event","createEvent","initCustomEvent","dispatchEvent","$enableFocusRing","keyboardThrottleTimeoutID","activeElements","activeElement","removeAttribute","Element","push","clearTimeout","setTimeout","$renderSvgOrImg","imgDef","imgClass","imgWidth","imgHeight","viewBox","$targetElm","$imgWrapper","svgProps","class","role","width","height","indexOf","length","url","callback","onError","xhr","XMLHttpRequest","readyState","status","responseText","open","send","svgContents","firstElementChild","$img","createElementNS","map","d","renderImgTag","variant","$target","$","classList","add","$toggle","controls","expanded","haspopup","labelledby","$content","hidden","menu","uuid","aria","item","suuid","$linkIcon","icon","path","$subcontrol","hideLabelInDesktop","href","label","data","$li","hasMenuItems","menus","hasFeaturedItems","tiles","$subtoggle","$subcontent","filled","childitem","$sublink","newContext","querySelector","getElementById","querySelectorAll","collapse","i","$control","hide","image","dialog","$dialog","$label","queryLabel","name","autocomplete","autocorrect","spellcheck","$measureTextNode","$measureText","$measure","$submit","submitLabel","$search","action","focus","controlIsFilled","controlValue","oninput","value","newControlValue","nodeValue","currentWidth","scrollWidth","style","onsubmit","onDOMNodeInserted","removeEventListener","ownerDocument","defaultView","matchMedia","addListener","onunload","esriSearch","$dialogCancelButton","cancelLabel","getAttribute","viewportIsSmall","viewportIsSmallMedium","$headerCanvas","$brandStripe","backgroundColor","topStripe","$brand","brandText","$brandText","$account","$controlSigninText","$controlSignin","$controlImage","$controlNameText","$controlName","$controlIdText","$controlId","$contentToggleText","$contentToggle","$contentImage","$contentInfoNameText","$contentInfoIdText","$contentInfoGroupText","$contentInfo","$contentMenu","$contentSigninSwitchText","$contentSigninSwitch","$contentSigninSignoutText","$contentSigninSignout","$contentSigninMenu","signin","switch","signout","user","group","createAccount","$mobileMenus","createMenus","$desktopMenus","createSearch","$apps","$appSwitcherIcon","$controlContainer","$dropdown","contains","createDefaultAppLayout","$topAppContainer","currentApp","abbreviationSizes","listItem","appLink","appImageContainer","stringWidth","Math","round","getTextWidth","abbr","abbreviationSize","substr","surfaceDiv","surfaceSpan","placeHolderIcon","p","text","font","context","canvas","getContext","measureText","icons","className","numberOfApps","dropdownWidth","maxAppsPerDialog","$dropdownWrapper","$dropdownNav","createApps","$client","$lineBreak","$header","theme","brand","marginTop","collapseMenus","search","account","apps","keyCode","eventType","control","accountDetail","searchDetail","menusDetail","menuDetail","appsDetail","isMenuToggle","content","matches","state","documentElement","header-is-open","currentDetail","canvasShouldClose","onload","$headerDocument","$headerWindow","$style","overflowY","onresize","clientWidth","clientHeight","scrollHeight","getComputedStyle","replace","remove","onViewportIsSmallChange","onViewportIsSmallMediumChange","head","buttonLabel","$barrier","preventDefault","$canvas","$choice","$language","$languageDialog","optionsLabel","options","option","opt","describedby","greetingLabel","messageLabel","location","$languageDialogClose","closeLabel","closeDialog","$cancelCanvas","body","media","mediaMatches","onchange","links","index","subitem","link","isVisible","firstChild","nextElementSibling","onclick","onkeypress","currentTarget","nextTarget","$socialIcons","$footerBrand","$footerInfo","info","$footerLanguage","language","$footerMenu","$footerSocial","social","toLowerCase","$footer","hideMenus","scrollY","pageYOffset","scrollTo","onscroll","window","buildHeader","targetElm","menuData","$esriHeader","createHeader","header","buildFooter","$esriFooter","createFooter","footer","esriHeader","create","esriFooter","headerElm","footerElm"],"mappings":"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","preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjpudWxsLCJzb3VyY2VzIjpbIi9Vc2Vycy9wYXVsY3BlZGVyc29uL0RvY3VtZW50cy9Qcm9qZWN0cy9nbG9iYWwtbmF2L3NyYy9zaGFyZWQvanMvZG9tb3NlLmpzIiwiL1VzZXJzL3BhdWxjcGVkZXJzb24vRG9jdW1lbnRzL1Byb2plY3RzL2dsb2JhbC1uYXYvc3JjL3NoYXJlZC9qcy9zaGFyZWQuanMiLCIvVXNlcnMvcGF1bGNwZWRlcnNvbi9Eb2N1bWVudHMvUHJvamVjdHMvZ2xvYmFsLW5hdi9zcmMvaGVhZGVyL2pzL2hlYWRlci1hY2NvdW50LmpzIiwiL1VzZXJzL3BhdWxjcGVkZXJzb24vRG9jdW1lbnRzL1Byb2plY3RzL2dsb2JhbC1uYXYvc3JjL2hlYWRlci9qcy9oZWFkZXItYnJhbmQuanMiLCIvVXNlcnMvcGF1bGNwZWRlcnNvbi9Eb2N1bWVudHMvUHJvamVjdHMvZ2xvYmFsLW5hdi9zcmMvaGVhZGVyL2pzL2hlYWRlci1icmFuZGluZy1zdHJpcGUuanMiLCIvVXNlcnMvcGF1bGNwZWRlcnNvbi9Eb2N1bWVudHMvUHJvamVjdHMvZ2xvYmFsLW5hdi9zcmMvaGVhZGVyL2pzL2hlYWRlci1tZW51cy5qcyIsIi9Vc2Vycy9wYXVsY3BlZGVyc29uL0RvY3VtZW50cy9Qcm9qZWN0cy9nbG9iYWwtbmF2L3NyYy9oZWFkZXIvanMvaGVhZGVyLXNlYXJjaC5qcyIsIi9Vc2Vycy9wYXVsY3BlZGVyc29uL0RvY3VtZW50cy9Qcm9qZWN0cy9nbG9iYWwtbmF2L3NyYy9zZWFyY2gvanMvc2VhcmNoLmpzIiwiL1VzZXJzL3BhdWxjcGVkZXJzb24vRG9jdW1lbnRzL1Byb2plY3RzL2dsb2JhbC1uYXYvc3JjL2hlYWRlci9qcy9oZWFkZXItYXBwcy5qcyIsIi9Vc2Vycy9wYXVsY3BlZGVyc29uL0RvY3VtZW50cy9Qcm9qZWN0cy9nbG9iYWwtbmF2L3NyYy9oZWFkZXIvanMvaGVhZGVyLmpzIiwiL1VzZXJzL3BhdWxjcGVkZXJzb24vRG9jdW1lbnRzL1Byb2plY3RzL2dsb2JhbC1uYXYvc3JjL2Zvb3Rlci9qcy9mb290ZXItbGFuZ3VhZ2UuanMiLCIvVXNlcnMvcGF1bGNwZWRlcnNvbi9Eb2N1bWVudHMvUHJvamVjdHMvZ2xvYmFsLW5hdi9zcmMvZm9vdGVyL2pzL2xhbmd1YWdlLmpzIiwiL1VzZXJzL3BhdWxjcGVkZXJzb24vRG9jdW1lbnRzL1Byb2plY3RzL2dsb2JhbC1uYXYvc3JjL2Zvb3Rlci9qcy9mb290ZXItbWVudS5qcyIsIi9Vc2Vycy9wYXVsY3BlZGVyc29uL0RvY3VtZW50cy9Qcm9qZWN0cy9nbG9iYWwtbmF2L3NyYy9mb290ZXIvanMvZm9vdGVyLmpzIiwiL1VzZXJzL3BhdWxjcGVkZXJzb24vRG9jdW1lbnRzL1Byb2plY3RzL2dsb2JhbC1uYXYvc3JjL2Zvb3Rlci9qcy9mb290ZXItYnJhbmQuanMiLCIvVXNlcnMvcGF1bGNwZWRlcnNvbi9Eb2N1bWVudHMvUHJvamVjdHMvZ2xvYmFsLW5hdi9zcmMvZm9vdGVyL2pzL2Zvb3Rlci1pbmZvLmpzIiwiL1VzZXJzL3BhdWxjcGVkZXJzb24vRG9jdW1lbnRzL1Byb2plY3RzL2dsb2JhbC1uYXYvc3JjL2Zvb3Rlci9qcy9mb290ZXItc29jaWFsLmpzIiwiL1VzZXJzL3BhdWxjcGVkZXJzb24vRG9jdW1lbnRzL1Byb2plY3RzL2dsb2JhbC1uYXYvc3JjL2VzcmktZ2xvYmFsLW5hdi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyAgVGFrZW4gZnJvbTogaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2pvbmF0aGFudG5lYWwvZG9tb3NlL21hc3Rlci9kb21vc2UuanNcblxuLyogU3BlY3VsYXRpdmUgRE9NIEZ1bmN0aW9uYWxpdHlcbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbmZ1bmN0aW9uIGFzc2lnblNvdXJjZShlbGVtZW50LCBzb3VyY2UsIHByZWZpeCkge1xuICAgIGZvciAoY29uc3Qga2V5IGluIHNvdXJjZSkge1xuICAgICAgICBpZiAoJ2Z1bmN0aW9uJyA9PT0gdHlwZW9mIHNvdXJjZVtrZXldKSB7XG4gICAgICAgICAgICAvLyBhZGQgZnVuY3Rpb25zIGFzIGV2ZW50IGxpc3RlbmVyc1xuICAgICAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKHByZWZpeCArIGtleSwgc291cmNlW2tleV0pO1xuICAgICAgICB9IGVsc2UgaWYgKE9iamVjdChzb3VyY2Vba2V5XSkgPT09IHNvdXJjZVtrZXldKSB7XG4gICAgICAgICAgICAvLyBhc3NpZ24gb2JqZWN0cyBhcyBzb3VyY2VcbiAgICAgICAgICAgIGFzc2lnblNvdXJjZShlbGVtZW50LCBzb3VyY2Vba2V5XSwgYCR7cHJlZml4ICsga2V5fS1gKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIG90aGVyd2lzZSwgc2V0IGF0dHJpYnV0ZXNcbiAgICAgICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKHByZWZpeCArIGtleSwgc291cmNlW2tleV0pO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vKiBBc3NpZ24gYW4gZWxlbWVudCB3aXRoIGF0dHJpYnV0ZXMsIGV2ZW50cywgYW5kIGNoaWxkcmVuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5mdW5jdGlvbiAkYXNzaWduKGlkKSB7XG4gICAgLy8gJGFzc2lnbihlbGVtZW50LCB7IGNsYXNzOiAnYnRuJywgY2xpY2s6ICgpID0+IHsgLyogbGlzdGVuZXIgKi8gfSB9KTtcbiAgICAvLyAkYXNzaWduKCdidXR0b24nLCB7IGFyaWE6IHsgbGFiZWw6ICd0aXRsZScgfSB9LCBjaGlsZCk7XG4gICAgLy8gJGFzc2lnbignZGl2JywgY2hpbGQxLCBjaGlsZDIsICdhIG5ldyB0ZXh0IG5vZGUnKTtcbiAgICAvLyAkYXNzaWduKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCAnc3ZnJykpO1xuXG4gICAgY29uc3QgZWxlbWVudCA9IGlkIGluc3RhbmNlb2YgTm9kZSA/IGlkIDogZG9jdW1lbnQuY3JlYXRlRWxlbWVudChpZCk7XG5cbiAgICBbXS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSkuZm9yRWFjaCgoc291cmNlKSA9PiB7XG4gICAgICAgIGlmIChzb3VyY2UgaW5zdGFuY2VvZiBOb2RlKSB7XG4gICAgICAgICAgICAvLyBhcHBlbmQgc291cmNlcyB0aGF0IGFyZSBub2Rlc1xuICAgICAgICAgICAgZWxlbWVudC5hcHBlbmRDaGlsZChzb3VyY2UpO1xuICAgICAgICB9IGVsc2UgaWYgKCdzdHJpbmcnID09PSB0eXBlb2Ygc291cmNlKSB7XG4gICAgICAgICAgICAvLyBhcHBlbmQgc3RyaW5ncyBhcyB0ZXh0IG5vZGVzXG4gICAgICAgICAgICBlbGVtZW50LmlubmVySFRNTCA9IHNvdXJjZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFzc2lnblNvdXJjZShlbGVtZW50LCBzb3VyY2UsICcnKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIGVsZW1lbnQ7XG59XG5cbi8qIERpc3BhdGNoIGFuIGV2ZW50IGZyb20gYW4gRWxlbWVudFxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuZnVuY3Rpb24gJGRpc3BhdGNoRXZlbnQoZWxlbWVudCwgZXZlbnQpIHtcbiAgICAvLyAkZGlzcGF0Y2hFdmVudChlbGVtZW50LCBuZXcgQ3VzdG9tRXZlbnQoJ2ZvbycsIHsgYnViYmxlczogdHJ1ZSB9KSk7XG4gICAgLy8gJGRpc3BhdGNoRXZlbnQoZWxlbWVudCwgJ2ZvbycsIHsgYnViYmxlczogdHJ1ZSB9KTtcblxuICAgIHJldHVybiBlbGVtZW50LmRpc3BhdGNoRXZlbnQoXG4gICAgICAgIGV2ZW50IGluc3RhbmNlb2YgRXZlbnQgPyBldmVudCA6ICRDdXN0b21FdmVudChldmVudCwgYXJndW1lbnRzWzFdKVxuICAgICk7XG59XG5cbi8qIFJlcGxhY2UgYWxsIHRoZSBjaGlsZHJlbiBvZiBhIHBhcmVudCBub2RlIHdpdGggbmV3IGNoaWxkcmVuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5mdW5jdGlvbiAkcmVwbGFjZUFsbChwYXJlbnROb2RlKSB7XG4gICAgLy8gJHJlcGxhY2VBbGwoZWxlbWVudCk7XG4gICAgLy8gJHJlcGxhY2VBbGwoZWxlbWVudCwgY2hpbGQxLCBjaGlsZDIpO1xuXG4gICAgd2hpbGUgKHBhcmVudE5vZGUubGFzdENoaWxkKSB7XG4gICAgICAgIHBhcmVudE5vZGUucmVtb3ZlQ2hpbGQocGFyZW50Tm9kZS5sYXN0Q2hpbGQpO1xuICAgIH1cblxuICAgIHBhcmVudE5vZGUuYXBwZW5kQ2hpbGQoXG4gICAgICAgIGFzRnJhZ21lbnQoYXJndW1lbnRzKVxuICAgICk7XG5cbiAgICByZXR1cm4gcGFyZW50Tm9kZTtcbn1cblxuLyogV3JhcCBhIGNoaWxkIG5vZGUgd2l0aGluIGFuIGVsZW1lbnRcbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbmZ1bmN0aW9uICR3cmFwV2l0aChjaGlsZE5vZGUsIGVsZW1lbnQpIHtcbiAgICAvLyAkd3JhcFdpdGgoZWxlbWVudCwgd3JhcHBpbmdFbGVtZW50KTtcblxuICAgIGlmIChjaGlsZE5vZGUucGFyZW50Tm9kZSkge1xuICAgICAgICBjaGlsZE5vZGUucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZWxlbWVudCwgY2hpbGROb2RlKS5hcHBlbmRDaGlsZChjaGlsZE5vZGUpO1xuICAgIH1cblxuICAgIHJldHVybiBjaGlsZE5vZGU7XG59XG5cbi8qIEVtZXJnaW5nIERPTSBGdW5jdGlvbmFsaXR5XG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5mdW5jdGlvbiBhc0ZyYWdtZW50KG5vZGVzKSB7XG4gICAgY29uc3QgZnJhZ21lbnQgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XG5cbiAgICBbXS5zbGljZS5jYWxsKG5vZGVzLCAxKS5mb3JFYWNoKChub2RlKSA9PiB7XG4gICAgICAgIGlmIChub2RlIGluc3RhbmNlb2YgTm9kZSkge1xuICAgICAgICAgICAgZnJhZ21lbnQuYXBwZW5kQ2hpbGQobm9kZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmcmFnbWVudC5hcHBlbmRDaGlsZChcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShub2RlKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIGZyYWdtZW50O1xufVxuXG4vKiBJbnNlcnQgbm9kZXMgYWZ0ZXIgYSBjaGlsZCBub2RlXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5mdW5jdGlvbiAkYWZ0ZXIoY2hpbGROb2RlKSB7XG4gICAgLy8gJGFmdGVyKGVsZW1lbnQsIHNpYmxpbmcxLCBzaWJsaW5nMiwgJ2EgbmV3IHRleHQgbm9kZScpO1xuXG4gICAgaWYgKGNoaWxkTm9kZS5wYXJlbnROb2RlKSB7XG4gICAgICAgIGNoaWxkTm9kZS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShcbiAgICAgICAgICAgIGFzRnJhZ21lbnQoYXJndW1lbnRzKSxcbiAgICAgICAgICAgIGNoaWxkTm9kZS5uZXh0U2libGluZ1xuICAgICAgICApO1xuICAgIH1cblxuICAgIHJldHVybiBjaGlsZE5vZGU7XG59XG5cbi8qIEFwcGVuZHMgbm9kZXMgdG8gYSBwYXJlbnQgbm9kZVxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuZnVuY3Rpb24gJGFwcGVuZChwYXJlbnROb2RlKSB7XG4gICAgLy8gJGFwcGVuZChwYXJlbnROb2RlLCBjaGlsZDEsIGNoaWxkMiwgJ2EgbmV3IHRleHQgbm9kZScpO1xuXG4gICAgcGFyZW50Tm9kZS5hcHBlbmQoXG4gICAgICAgIGFzRnJhZ21lbnQoYXJndW1lbnRzKVxuICAgICk7XG5cbiAgICByZXR1cm4gcGFyZW50Tm9kZTtcbn1cblxuLyogSW5zZXJ0IG5vZGVzIGJlZm9yZSBhbiBlbGVtZW50XG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5mdW5jdGlvbiAkYmVmb3JlKGVsZW1lbnQpIHtcbiAgICAvLyAkYmVmb3JlKGVsZW1lbnQsIHNpYmxpbmcxLCBzaWJsaW5nMiwgJ2EgbmV3IHRleHQgbm9kZScpO1xuXG4gICAgaWYgKGVsZW1lbnQucGFyZW50Tm9kZSkge1xuICAgICAgICBlbGVtZW50LnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKFxuICAgICAgICAgICAgYXNGcmFnbWVudChhcmd1bWVudHMpLFxuICAgICAgICAgICAgZWxlbWVudFxuICAgICAgICApO1xuICAgIH1cblxuICAgIHJldHVybiBlbGVtZW50O1xufVxuXG4vKiBSZXR1cm4gdGhlIGNsb3Nlc3QgYW5jZXN0b3IgZWxlbWVudCBtYXRjaGluZyBhIGdpdmVuIHNlbGVjdG9yXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5mdW5jdGlvbiAkY2xvc2VzdChlbGVtZW50LCBzZWxlY3RvcnMpIHtcbiAgICAvLyAkY2xvc2VzdChlbGVtZW50LCBzZWxlY3RvcnMpO1xuXG4gICAgbGV0IHRhcmdldCA9IGVsZW1lbnQ7XG5cbiAgICB3aGlsZSAodGFyZ2V0ICYmIDEgPT09IHRhcmdldC5ub2RlVHlwZSkge1xuICAgICAgICBpZiAoJG1hdGNoZXModGFyZ2V0LCBzZWxlY3RvcnMpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGFyZ2V0O1xuICAgICAgICB9XG5cbiAgICAgICAgdGFyZ2V0ID0gdGFyZ2V0LnBhcmVudE5vZGU7XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG59XG5cbi8qIFJldHVybiB3aGV0aGVyIG9yIG5vdCBhIERPTSBlbGVtZW50IG1hdGNoZXMgYSBnaXZlbiBzZWxlY3RvclxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuZnVuY3Rpb24gJG1hdGNoZXMoZWxlbWVudCwgc2VsZWN0b3JzKSB7XG4gICAgLy8gJG1hdGNoZXMoZWxlbWVudCwgc2VsZWN0b3JzKTtcblxuICAgIGNvbnN0IGVsZW1lbnRzID0gZWxlbWVudC5wYXJlbnROb2RlLnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3JzKTtcblxuICAgIGxldCBpbmRleCA9IDA7XG5cbiAgICB3aGlsZSAoZWxlbWVudHNbaW5kZXhdICYmIGVsZW1lbnRzW2luZGV4XSAhPT0gZWxlbWVudCkge1xuICAgICAgICArK2luZGV4O1xuICAgIH1cblxuICAgIHJldHVybiBCb29sZWFuKGVsZW1lbnRzW2luZGV4XSk7XG59XG5cbi8qIFByZXBlbmRzIGEgY2hpbGQgdG8gYSBwYXJlbnQgbm9kZVxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuZnVuY3Rpb24gJHByZXBlbmQocGFyZW50Tm9kZSkge1xuICAgIC8vICRwcmVwZW5kKGVsZW1lbnQsIGNoaWxkMSwgY2hpbGQyLCAnYSBuZXcgdGV4dCBub2RlJyk7XG5cbiAgICBwYXJlbnROb2RlLmluc2VydEJlZm9yZShcbiAgICAgICAgYXNGcmFnbWVudChhcmd1bWVudHMpLFxuICAgICAgICBwYXJlbnROb2RlLmZpcnN0Q2hpbGRcbiAgICApO1xuXG4gICAgcmV0dXJuIHBhcmVudE5vZGU7XG59XG5cbi8qIFJlbW92ZSBhIGNoaWxkIG5vZGUgZnJvbSBpdHMgcGFyZW50XG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5mdW5jdGlvbiAkcmVtb3ZlKGNoaWxkTm9kZSkge1xuICAgIC8vICRyZW1vdmUoZWxlbWVudCk7XG5cbiAgICBpZiAoY2hpbGROb2RlLnBhcmVudE5vZGUpIHtcbiAgICAgICAgY2hpbGROb2RlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoY2hpbGROb2RlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gY2hpbGROb2RlO1xufVxuXG4vKiBSZXBsYWNlIGEgY2hpbGQgbm9kZSB3aXRoIG5vZGVzXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5mdW5jdGlvbiAkcmVwbGFjZVdpdGgoY2hpbGROb2RlKSB7XG4gICAgLy8gJHJlcGxhY2VXaXRoKGVsZW1lbnQsIHNpYmxpbmcxLCBzaWJsaW5nMiwgJ2EgbmV3IHRleHQgbm9kZScpO1xuXG4gICAgaWYgKGNoaWxkTm9kZS5wYXJlbnROb2RlKSB7XG4gICAgICAgIGNoaWxkTm9kZS5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZChcbiAgICAgICAgICAgIGFzRnJhZ21lbnQoYXJndW1lbnRzKSxcbiAgICAgICAgICAgIGNoaWxkTm9kZVxuICAgICAgICApO1xuICAgIH1cblxuICAgIHJldHVybiBjaGlsZE5vZGU7XG59XG5cbi8qIEVtZXJnaW5nIEV2ZW50IEZ1bmN0aW9uYWxpdHlcbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbi8qIENyZWF0ZSBhIG5ldyBDdXN0b21FdmVudFxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuZnVuY3Rpb24gJEN1c3RvbUV2ZW50KHR5cGUpIHtcbiAgICAvLyBlbGVtZW50LmRpc3BhdGNoRXZlbnQobmV3ICRDdXN0b21FdmVudCgnY2xpY2snLCB7IGJ1YmJsZXM6IHRydWUgfSkpO1xuXG4gICAgY29uc3QgZXZlbnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnQ3VzdG9tRXZlbnQnKTtcbiAgICBjb25zdCBwYXJhbSA9IE9iamVjdChhcmd1bWVudHNbMV0pIHx8IHtidWJibGVzOiBmYWxzZSwgY2FuY2VsYWJsZTogZmFsc2UsIGRldGFpbDogdW5kZWZpbmVkfTtcblxuICAgIGV2ZW50LmluaXRDdXN0b21FdmVudCh0eXBlLCBwYXJhbS5idWJibGVzLCBwYXJhbS5jYW5jZWxhYmxlLCBwYXJhbS5kZXRhaWwpO1xuXG4gICAgcmV0dXJuIGV2ZW50O1xufVxuXG4vKiBGZXRjaCByZXNwb25zZSB0ZXh0IGZyb20gYSBVUkwgYW5kIHBhc3MgaXQgdG8gYSBjYWxsYmFja1xuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuZnVuY3Rpb24gJGZldGNoKHVybCwgY2FsbGJhY2spIHtcbiAgICAvLyAkZmV0Y2goJ2FwaT9mb289YmFyJywgKHJlc3BvbnNlVGV4dCkgPT4ge30pO1xuXG4gICAgY29uc3QgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG5cbiAgICB4aHIuYWRkRXZlbnRMaXN0ZW5lcigncmVhZHlzdGF0ZWNoYW5nZScsICgpID0+IHtcbiAgICAgICAgaWYgKDQgPT09IHhoci5yZWFkeVN0YXRlICYmIDIwMCA9PT0geGhyLnN0YXR1cykge1xuICAgICAgICAgICAgY2FsbGJhY2soeGhyLnJlc3BvbnNlVGV4dCk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgY2FsbGJhY2stcmV0dXJuXG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIHhoci5vcGVuKCdHRVQnLCB1cmwpO1xuICAgIHhoci5zZW5kKCk7XG5cbiAgICByZXR1cm4geGhyO1xufVxuXG4vKiBFeHBvcnRcbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbmV4cG9ydCB7XG4gICAgJGFzc2lnbixcbiAgICAkYWZ0ZXIsXG4gICAgJGFwcGVuZCxcbiAgICAkYmVmb3JlLFxuICAgICRjbG9zZXN0LFxuICAgICRDdXN0b21FdmVudCxcbiAgICAkZGlzcGF0Y2hFdmVudCxcbiAgICAkZmV0Y2gsXG4gICAgJG1hdGNoZXMsXG4gICAgJHByZXBlbmQsXG4gICAgJHJlbW92ZSxcbiAgICAkcmVwbGFjZUFsbCxcbiAgICAkcmVwbGFjZVdpdGgsXG4gICAgJHdyYXBXaXRoXG59O1xuIiwiaW1wb3J0IHskYXNzaWduLCAkcmVwbGFjZUFsbH0gZnJvbSAnLi9kb21vc2UnO1xuXG4vKiBEaXNwYXRjaCBhbiBDdXN0b20gRXZlbnQgd2l0aCBhIGRldGFpbFxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuZnVuY3Rpb24gJGRpc3BhdGNoKHRhcmdldCwgdHlwZSwgZGV0YWlsKSB7XG5cdC8vIGFuIGV2ZW50XG5cdGNvbnN0IGV2ZW50ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ0N1c3RvbUV2ZW50Jyk7XG5cblx0ZXZlbnQuaW5pdEN1c3RvbUV2ZW50KHR5cGUsIHRydWUsIHRydWUsIGRldGFpbCk7XG5cblx0dGFyZ2V0LmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xufVxuXG5mdW5jdGlvbiAkZW5hYmxlRm9jdXNSaW5nKHRhcmdldCkge1xuXHQvLyByZXRvb2xlZCBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9qb25hdGhhbnRuZWFsL2pzLWZvY3VzLXJpbmdcblxuXHRsZXQga2V5Ym9hcmRUaHJvdHRsZVRpbWVvdXRJRDtcblxuXHRjb25zdCBhY3RpdmVFbGVtZW50cyA9IFtdO1xuXG5cdHRhcmdldC5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgKCkgPT4ge1xuXHRcdGFjdGl2ZUVsZW1lbnRzLmZvckVhY2goKGFjdGl2ZUVsZW1lbnQpID0+IHtcblx0XHRcdGFjdGl2ZUVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdqcy1mb2N1cycpO1xuXHRcdFx0YWN0aXZlRWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ2pzLWZvY3VzLXJpbmcnKTtcblx0XHR9KTtcblx0fSwgdHJ1ZSk7XG5cblx0dGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgKCkgPT4ge1xuXHRcdGNvbnN0IGFjdGl2ZUVsZW1lbnQgPSBkb2N1bWVudC5hY3RpdmVFbGVtZW50O1xuXG5cdFx0aWYgKGFjdGl2ZUVsZW1lbnQgaW5zdGFuY2VvZiBFbGVtZW50KSB7XG5cdFx0XHRhY3RpdmVFbGVtZW50LnNldEF0dHJpYnV0ZSgnanMtZm9jdXMnLCAnJyk7XG5cblx0XHRcdGlmIChrZXlib2FyZFRocm90dGxlVGltZW91dElEKSB7XG5cdFx0XHRcdGFjdGl2ZUVsZW1lbnQuc2V0QXR0cmlidXRlKCdqcy1mb2N1cy1yaW5nJywgJycpO1xuXHRcdFx0fVxuXG5cdFx0XHRhY3RpdmVFbGVtZW50cy5wdXNoKGFjdGl2ZUVsZW1lbnQpO1xuXHRcdH1cblx0fSwgdHJ1ZSk7XG5cblx0dGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoKSA9PiB7XG5cdFx0a2V5Ym9hcmRUaHJvdHRsZVRpbWVvdXRJRCA9IGNsZWFyVGltZW91dChrZXlib2FyZFRocm90dGxlVGltZW91dElEKSB8fCBzZXRUaW1lb3V0KCgpID0+IHtcblx0XHRcdGtleWJvYXJkVGhyb3R0bGVUaW1lb3V0SUQgPSAwO1xuXHRcdH0sIDEwMCk7XG5cdH0sIHRydWUpO1xufVxuXG5mdW5jdGlvbiAkZmV0Y2godXJsLCBjYWxsYmFjaywgb25FcnJvciA9ICgpID0+IHtcbn0pIHtcblx0Y29uc3QgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG5cblx0eGhyLmFkZEV2ZW50TGlzdGVuZXIoJ3JlYWR5c3RhdGVjaGFuZ2UnLCAoKSA9PiB7XG5cdFx0aWYgKDQgPT09IHhoci5yZWFkeVN0YXRlKSB7XG5cdFx0XHRpZiAoMjAwID09PSB4aHIuc3RhdHVzKSB7XG5cdFx0XHRcdGNhbGxiYWNrKHhoci5yZXNwb25zZVRleHQpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGNhbGxiYWNrLXJldHVyblxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0b25FcnJvcigpO1xuXHRcdFx0fVxuXHRcdH1cblx0fSk7XG5cblx0eGhyLm9wZW4oJ0dFVCcsIHVybCk7XG5cdHhoci5zZW5kKCk7XG5cblx0cmV0dXJuIHhocjtcbn1cblxuZnVuY3Rpb24gJHJlbmRlclN2Z09ySW1nKHtpbWdEZWYgPSBcIlwiLCBpbWdDbGFzcyA9IFwiXCIsIGltZ1dpZHRoLCBpbWdIZWlnaHQsIHZpZXdCb3gsIGlkLCAkdGFyZ2V0RWxtfSkge1xuXHRjb25zdCAkaW1nV3JhcHBlciA9ICRhc3NpZ24oJ3NwYW4nKTtcblxuXHRjb25zdCBzdmdQcm9wcyA9IHtjbGFzczogaW1nQ2xhc3MsIHJvbGU6ICdwcmVzZW50YXRpb24nfTtcblx0aWYgKGltZ1dpZHRoICYmIGltZ0hlaWdodCkge1xuXHRcdHN2Z1Byb3BzLndpZHRoID0gaW1nV2lkdGg7XG5cdFx0c3ZnUHJvcHMuaGVpZ2h0ID0gaW1nSGVpZ2h0O1xuXHR9XG5cdGlmICh2aWV3Qm94KSB7XG5cdFx0c3ZnUHJvcHMudmlld0JveCA9IHZpZXdCb3g7XG5cdH1cblx0aWYgKGlkKSB7XG5cdFx0c3ZnUHJvcHMuaWQgPSBpZDtcblx0fVxuXG5cdGlmICh0eXBlb2YgaW1nRGVmID09PSAnc3RyaW5nJykge1xuXHRcdGlmIChpbWdEZWYuaW5kZXhPZignLnN2ZycpID09PSBpbWdEZWYubGVuZ3RoIC0gNCkge1xuXHRcdFx0JGZldGNoKGltZ0RlZiwgKHN2Z0NvbnRlbnRzKSA9PiB7XG5cdFx0XHRcdCRpbWdXcmFwcGVyLmlubmVySFRNTCA9IHN2Z0NvbnRlbnRzO1xuXHRcdFx0XHRjb25zdCAkaW1nID0gJGltZ1dyYXBwZXIuZmlyc3RFbGVtZW50Q2hpbGQ7XG5cdFx0XHRcdCRhc3NpZ24oJGltZywgc3ZnUHJvcHMpO1xuXHRcdFx0fSwgKCkgPT4ge1xuXHRcdFx0XHRyZW5kZXJJbWdUYWcoeyRpbWdXcmFwcGVyLCBpZCwgaW1nRGVmLCBpbWdDbGFzcywgaW1nV2lkdGgsIGltZ0hlaWdodH0pO1xuXHRcdFx0fSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJlbmRlckltZ1RhZyh7JGltZ1dyYXBwZXIsIGlkLCBpbWdEZWYsIGltZ0NsYXNzLCBpbWdXaWR0aCwgaW1nSGVpZ2h0fSk7XG5cdFx0fVxuXHR9IGVsc2Uge1xuXHRcdGNvbnN0ICRpbWcgPSAkYXNzaWduKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCAnc3ZnJyksXG5cdFx0XHRzdmdQcm9wcyxcblx0XHRcdCRhc3NpZ24oZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLFxuXHRcdFx0XHQuLi5pbWdEZWYubWFwKFxuXHRcdFx0XHRcdChkKSA9PiAkYXNzaWduKFxuXHRcdFx0XHRcdFx0ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICdwYXRoJyksXG5cdFx0XHRcdFx0XHR7ZH1cblx0XHRcdFx0XHQpXG5cdFx0XHRcdClcblx0XHRcdCkpO1xuXHRcdCRpbWdXcmFwcGVyLmFwcGVuZENoaWxkKCRpbWcpO1xuXHR9XG5cblx0aWYgKCR0YXJnZXRFbG0pIHtcblx0XHQkdGFyZ2V0RWxtLmlubmVySFRNTCA9ICcnO1xuXHRcdCR0YXJnZXRFbG0uYXBwZW5kQ2hpbGQoJGltZ1dyYXBwZXIpO1xuXHR9XG5cblx0cmV0dXJuICRpbWdXcmFwcGVyO1xuXG5cdGZ1bmN0aW9uIHJlbmRlckltZ1RhZyh7JGltZ1dyYXBwZXIsIGlkLCBpbWdEZWYsIGltZ0NsYXNzLCBpbWdXaWR0aCwgaW1nSGVpZ2h0fSkge1xuXHRcdCRpbWdXcmFwcGVyLmFwcGVuZENoaWxkKCRhc3NpZ24oJ2ltZycsIHtcblx0XHRcdGlkLFxuXHRcdFx0c3JjOiBpbWdEZWYsXG5cdFx0XHRjbGFzczogaW1nQ2xhc3MsXG5cdFx0XHRzdHlsZTogIGAke2ltZ1dpZHRoID8gYHdpZHRoOiR7aW1nV2lkdGh9cHhgIDogJyd9OyAke2ltZ0hlaWdodCA/IGBoZWlnaHQ6JHtpbWdIZWlnaHR9cHhgIDogJyd9YFxuXHRcdH0pKTtcblx0fVxufVxuXG5leHBvcnQge1xuXHQkYXNzaWduLFxuXHQkZGlzcGF0Y2gsXG5cdCRlbmFibGVGb2N1c1JpbmcsXG5cdCRmZXRjaCxcblx0JHJlcGxhY2VBbGwsXG5cdCRyZW5kZXJTdmdPckltZ1xufTtcbiIsImltcG9ydCB7JGFzc2lnbiBhcyAkLCAkZGlzcGF0Y2gsICRyZXBsYWNlQWxsLCAkcmVuZGVyU3ZnT3JJbWd9IGZyb20gJy4uLy4uL3NoYXJlZC9qcy9zaGFyZWQnO1xuXG5jb25zdCBwcmVmaXggPSAnZXNyaS1oZWFkZXItYWNjb3VudCc7XG5cbmV4cG9ydCBkZWZhdWx0ICgpID0+IHtcblx0Y29uc3QgJHRhcmdldCA9ICQoJ2RpdicsIHtjbGFzczogcHJlZml4fSk7XG5cblx0LyogQWNjb3VudDogQ29udHJvbDogU2lnbmluXG5cdC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXHRjb25zdCAkY29udHJvbFNpZ25pblRleHQgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnJyk7XG5cdGNvbnN0ICRjb250cm9sU2lnbmluID0gJCgnYnV0dG9uJywge2NsYXNzOiBgJHtwcmVmaXh9LWNvbnRyb2wgJHtwcmVmaXh9LWNvbnRyb2wtLXNpZ25pbmB9LFxuXHRcdCRjb250cm9sU2lnbmluVGV4dFxuXHQpO1xuXG5cdC8vIE9uIENsaWNrXG5cdCRjb250cm9sU2lnbmluLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG5cdFx0JGRpc3BhdGNoKCRjb250cm9sU2lnbmluLCAnaGVhZGVyOmNsaWNrOnNpZ25pbicsIHtldmVudH0pO1xuXHR9KTtcblxuXHQvKiBBY2NvdW50OiBDb250cm9sXG5cdC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXHRjb25zdCAkY29udHJvbEltYWdlID0gJCgnc3BhbicpO1xuXG5cdGNvbnN0ICRjb250cm9sTmFtZVRleHQgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnJyk7XG5cdGNvbnN0ICRjb250cm9sTmFtZSA9ICQoJ3NwYW4nLCB7Y2xhc3M6IGAke3ByZWZpeH0tbmFtZWB9LFxuXHRcdCRjb250cm9sTmFtZVRleHRcblx0KTtcblxuXHRjb25zdCAkY29udHJvbElkVGV4dCA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCcnKTtcblx0Y29uc3QgJGNvbnRyb2xJZCA9ICQoJ3NwYW4nLCB7Y2xhc3M6IGAke3ByZWZpeH0taWRgfSxcblx0XHQkY29udHJvbElkVGV4dFxuXHQpO1xuXG5cdGNvbnN0ICRjb250cm9sID0gJCgnYnV0dG9uJyxcblx0XHR7XG5cdFx0XHRjbGFzczogYCR7cHJlZml4fS1jb250cm9sICR7cHJlZml4fS1jb250cm9sLS1zaWduZWRpbmAsIGlkOiBgJHtwcmVmaXh9LWNvbnRyb2xgLFxuXHRcdFx0YXJpYToge2NvbnRyb2xzOiBgJHtwcmVmaXh9LW1lbnVgLCBleHBhbmRlZDogZmFsc2UsIGhhc3BvcHVwOiB0cnVlfVxuXHRcdH0sXG5cdFx0JGNvbnRyb2xJbWFnZSxcblx0XHQkY29udHJvbE5hbWUsXG5cdFx0JGNvbnRyb2xJZFxuXHQpO1xuXG5cdC8vIE9uIENsaWNrXG5cdCRjb250cm9sLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG5cdFx0JGRpc3BhdGNoKCRjb250cm9sLCAnaGVhZGVyOmNsaWNrOmFjY291bnQnLCB7ZXZlbnR9KTtcblxuXHRcdCRkaXNwYXRjaCgkY29udHJvbCwgJ2hlYWRlcjptZW51OnRvZ2dsZScsIHtcblx0XHRcdGFjY291bnQ6IHRydWUsXG5cdFx0XHRjb250cm9sOiAkY29udHJvbCxcblx0XHRcdGNvbnRlbnQ6ICRjb250ZW50LFxuXHRcdFx0c3RhdGU6ICdtZW51Jyxcblx0XHRcdHRhcmdldDogJHRhcmdldCxcblx0XHRcdHR5cGU6ICdhY2NvdW50LXRvZ2dsZSdcblx0XHR9KTtcblx0fSk7XG5cblx0LyogQWNjb3VudDogQ29udGVudFxuXHQvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblx0Ly8gVG9nZ2xlXG5cdGNvbnN0ICRjb250ZW50VG9nZ2xlVGV4dCA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCcnKTtcblx0Y29uc3QgJGNvbnRlbnRUb2dnbGUgPSAkKCdidXR0b24nLCB7Y2xhc3M6IGAke3ByZWZpeH0tY29udGVudC10b2dnbGVgfSxcblx0XHQkY29udGVudFRvZ2dsZVRleHRcblx0KTtcblxuXHQkY29udGVudFRvZ2dsZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcblx0XHQkZGlzcGF0Y2goJGNvbnRlbnRUb2dnbGUsICdoZWFkZXI6bWVudTpjbG9zZScsIHtcblx0XHRcdGNvbnRyb2w6ICRjb250cm9sLFxuXHRcdFx0Y29udGVudDogJGNvbnRlbnQsXG5cdFx0XHR0eXBlOiAnYWNjb3VudC1jbG9zZSdcblx0XHR9KTtcblx0fSk7XG5cblx0Ly8gSW1hZ2Vcblx0Y29uc3QgJGNvbnRlbnRJbWFnZSA9ICQoJ3NwYW4nKTtcblxuXHQvLyBJbmZvXG5cdGNvbnN0ICRjb250ZW50SW5mb05hbWVUZXh0ID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJycpO1xuXHRjb25zdCAkY29udGVudEluZm9JZFRleHQgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnJyk7XG5cdGNvbnN0ICRjb250ZW50SW5mb0dyb3VwVGV4dCA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCcnKTtcblx0Y29uc3QgJGNvbnRlbnRJbmZvID0gJCgnZGl2Jywge2NsYXNzOiBgJHtwcmVmaXh9LWNvbnRlbnQtaW5mb2B9LFxuXHRcdCRjb250ZW50SW1hZ2UsXG5cdFx0JCgnc3BhbicsIHtjbGFzczogYCR7cHJlZml4fS1jb250ZW50LW5hbWVgfSxcblx0XHRcdCRjb250ZW50SW5mb05hbWVUZXh0XG5cdFx0KSxcblx0XHQkKCdzcGFuJywge2NsYXNzOiBgJHtwcmVmaXh9LWNvbnRlbnQtaWRgfSxcblx0XHRcdCRjb250ZW50SW5mb0lkVGV4dFxuXHRcdCksXG5cdFx0JCgnc3BhbicsIHtjbGFzczogYCR7cHJlZml4fS1jb250ZW50LWdyb3VwYH0sXG5cdFx0XHQkY29udGVudEluZm9Hcm91cFRleHRcblx0XHQpXG5cdCk7XG5cblx0Ly8gTWVudVxuXHRjb25zdCAkY29udGVudE1lbnUgPSAkKCd1bCcsIHtcblx0XHRjbGFzczogYCR7cHJlZml4fS1jb250ZW50LW1lbnVgLFxuXHRcdHJvbGU6ICduYXZpZ2F0aW9uJywgYXJpYToge2xhYmVsbGVkYnk6IGAke3ByZWZpeH0tY29udHJvbGB9XG5cdH0pO1xuXG5cdC8vIFN3aXRjaCBDb250cm9sXG5cdGNvbnN0ICRjb250ZW50U2lnbmluU3dpdGNoVGV4dCA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCcnKTtcblx0Y29uc3QgJGNvbnRlbnRTaWduaW5Td2l0Y2ggPSAkKCdidXR0b24nLCB7Y2xhc3M6IGAke3ByZWZpeH0tc2lnbmluLWNvbnRyb2wgLXN3aXRjaGB9LFxuXHRcdCRjb250ZW50U2lnbmluU3dpdGNoVGV4dFxuXHQpO1xuXG5cdC8vIFN3aXRjaCBDb250cm9sOiBPbiBDbGlja1xuXHQkY29udGVudFNpZ25pblN3aXRjaC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuXHRcdCRkaXNwYXRjaCgkY29udGVudFNpZ25pblN3aXRjaCwgJ2hlYWRlcjpjbGljazpzd2l0Y2gnLCB7ZXZlbnR9KTtcblx0fSk7XG5cblx0Ly8gU2lnbm91dCBDb250cm9sXG5cdGNvbnN0ICRjb250ZW50U2lnbmluU2lnbm91dFRleHQgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnJyk7XG5cdGNvbnN0ICRjb250ZW50U2lnbmluU2lnbm91dCA9ICQoJ2J1dHRvbicsIHtjbGFzczogYCR7cHJlZml4fS1zaWduaW4tY29udHJvbCAtbG9nb3V0YH0sXG5cdFx0JGNvbnRlbnRTaWduaW5TaWdub3V0VGV4dFxuXHQpO1xuXG5cdC8vIFNpZ25vdXQgQ29udHJvbDogT24gQ2xpY2tcblx0JGNvbnRlbnRTaWduaW5TaWdub3V0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG5cdFx0JGRpc3BhdGNoKCRjb250ZW50U2lnbmluU2lnbm91dCwgJ2hlYWRlcjpjbGljazpzaWdub3V0Jywge2V2ZW50fSk7XG5cdH0pO1xuXG5cdC8vIFNpZ25pbiBNZW51XG5cdGNvbnN0ICRjb250ZW50U2lnbmluTWVudSA9ICQoJ3VsJyxcblx0XHR7XG5cdFx0XHRjbGFzczogYCR7cHJlZml4fS1zaWduaW4tbWVudWAsXG5cdFx0XHRyb2xlOiAnZ3JvdXAnXG5cdFx0fSxcblx0XHQkKCdsaScsIHtjbGFzczogYCR7cHJlZml4fS1zaWduaW4taXRlbWB9LFxuXHRcdFx0JGNvbnRlbnRTaWduaW5Td2l0Y2hcblx0XHQpLFxuXHRcdCQoJ2xpJywge2NsYXNzOiBgJHtwcmVmaXh9LXNpZ25pbi1pdGVtYH0sXG5cdFx0XHQkY29udGVudFNpZ25pblNpZ25vdXRcblx0XHQpXG5cdCk7XG5cblx0Ly8gQ29udGVudFxuXHRjb25zdCAkY29udGVudCA9ICQoJ2RpdicsXG5cdFx0e1xuXHRcdFx0Y2xhc3M6IGAke3ByZWZpeH0tbWVudWAsIGlkOiBgJHtwcmVmaXh9LW1lbnVgLFxuXHRcdFx0cm9sZTogJ2dyb3VwJywgYXJpYToge2V4cGFuZGVkOiBmYWxzZSwgaGlkZGVuOiB0cnVlfVxuXHRcdH0sXG5cdFx0JGNvbnRlbnRUb2dnbGUsXG5cdFx0JGNvbnRlbnRJbmZvLFxuXHRcdCRjb250ZW50TWVudSxcblx0XHQkY29udGVudFNpZ25pbk1lbnVcblx0KTtcblxuXHQvKiBBY2NvdW50OiBPbiBVcGRhdGVcblx0LyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cdCR0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcignaGVhZGVyOnVwZGF0ZTphY2NvdW50JywgKHtkZXRhaWx9KSA9PiB7XG5cdFx0JCgkY29udHJvbCwge2FyaWE6IHtsYWJlbDogZGV0YWlsLmxhYmVsfX0pO1xuXG5cdFx0Ly8gVXBkYXRlIHRoZSBjb250cm9sIHRleHRcblx0XHQkY29udGVudFRvZ2dsZVRleHQubm9kZVZhbHVlID0gZGV0YWlsLmxhYmVsO1xuXHRcdCRjb250cm9sU2lnbmluVGV4dC5ub2RlVmFsdWUgPSBkZXRhaWwuY29udHJvbHMuc2lnbmluO1xuXHRcdCRjb250ZW50U2lnbmluU3dpdGNoVGV4dC5ub2RlVmFsdWUgPSBkZXRhaWwuY29udHJvbHMuc3dpdGNoO1xuXHRcdCRjb250ZW50U2lnbmluU2lnbm91dFRleHQubm9kZVZhbHVlID0gZGV0YWlsLmNvbnRyb2xzLnNpZ25vdXQ7XG5cblx0XHQvLyBJZiB0aGVyZSBpcyBhIHVzZXIgb2JqZWN0XG5cdFx0aWYgKGRldGFpbC51c2VyKSB7XG5cdFx0XHQvLyBVcGRhdGUgdGhlIGFjY291bnQgdGV4dCArIGltYWdlXG5cdFx0XHQkY29udHJvbE5hbWVUZXh0Lm5vZGVWYWx1ZSA9ICRjb250ZW50SW5mb05hbWVUZXh0Lm5vZGVWYWx1ZSA9IGRldGFpbC51c2VyLm5hbWU7XG5cdFx0XHQkY29udHJvbElkVGV4dC5ub2RlVmFsdWUgPSAkY29udGVudEluZm9JZFRleHQubm9kZVZhbHVlID0gZGV0YWlsLnVzZXIuaWQ7XG5cdFx0XHQkY29udGVudEluZm9Hcm91cFRleHQubm9kZVZhbHVlID0gZGV0YWlsLnVzZXIuZ3JvdXA7XG5cblx0XHRcdCRyZW5kZXJTdmdPckltZyh7aW1nRGVmOiBkZXRhaWwudXNlci5pbWFnZSwgaW1nQ2xhc3M6IGAke3ByZWZpeH0taW1hZ2VgLCAkdGFyZ2V0RWxtOiAkY29udHJvbEltYWdlfSk7XG5cdFx0XHQkcmVuZGVyU3ZnT3JJbWcoe2ltZ0RlZjogZGV0YWlsLnVzZXIuaW1hZ2UsIGltZ0NsYXNzOiBgJHtwcmVmaXh9LWNvbnRlbnQtaW1hZ2VgLCAkdGFyZ2V0RWxtOiAkY29udGVudEltYWdlfSk7XG5cblx0XHRcdC8vIFVwZGF0ZSB0aGUgY29udGVudCBtZW51XG5cdFx0XHQkcmVwbGFjZUFsbCgkY29udGVudE1lbnUsXG5cdFx0XHRcdC4uLmRldGFpbC5tZW51cy5tYXAoXG5cdFx0XHRcdFx0KGl0ZW0pID0+ICQoJ2xpJywge2NsYXNzOiBgJHtwcmVmaXh9LWNvbnRlbnQtaXRlbWB9LFxuXHRcdFx0XHRcdFx0JCgnYScsIHtjbGFzczogYCR7cHJlZml4fS1jb250ZW50LWxpbmtgLCBocmVmOiBpdGVtLmhyZWZ9LFxuXHRcdFx0XHRcdFx0XHRpdGVtLmxhYmVsXG5cdFx0XHRcdFx0XHQpXG5cdFx0XHRcdFx0KVxuXHRcdFx0XHQpXG5cdFx0XHQpO1xuXG5cdFx0XHQvLyBVc2UgdGhlIGNvbnRyb2wgYW5kIGNvbnRlbnRcblx0XHRcdCRyZXBsYWNlQWxsKCR0YXJnZXQsICRjb250cm9sLCAkY29udGVudCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIE90aGVyd2lzZSwgdXNlIHRoZSBzaWduaW4gY29udHJvbFxuXHRcdFx0JHJlcGxhY2VBbGwoJHRhcmdldCwgJGNvbnRyb2xTaWduaW4pO1xuXHRcdH1cblx0fSk7XG5cblx0cmV0dXJuICR0YXJnZXQ7XG59O1xuIiwiaW1wb3J0IHskYXNzaWduIGFzICQsICRkaXNwYXRjaCwgJHJlcGxhY2VBbGwsICRyZW5kZXJTdmdPckltZ30gZnJvbSAnLi4vLi4vc2hhcmVkL2pzL3NoYXJlZCc7XG5cbmNvbnN0IHByZWZpeCA9ICdlc3JpLWhlYWRlci1icmFuZCc7XG5cbmV4cG9ydCBkZWZhdWx0ICgpID0+IHtcblx0Y29uc3QgJHRhcmdldCA9ICQoJ2EnLCB7Y2xhc3M6IHByZWZpeCwgaWQ6IHByZWZpeH0pO1xuXHRcblx0Ly8gT24gQ2xpY2tcblx0JHRhcmdldC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuXHRcdCRkaXNwYXRjaCgkdGFyZ2V0LCAnaGVhZGVyOmNsaWNrOmJyYW5kJywge2V2ZW50fSk7XG5cdH0pO1xuXHRcblx0LyogQnJhbmQ6IE9uIFVwZGF0ZVxuXHQvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cdCR0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcignaGVhZGVyOnVwZGF0ZTpicmFuZCcsICh7ZGV0YWlsfSkgPT4ge1xuXHRcdCQoJHRhcmdldCwge2hyZWY6IGRldGFpbC5ocmVmfSk7XG5cdFx0aWYgKGRldGFpbC5pbWFnZSkge1xuXHRcdFx0JCgkdGFyZ2V0LCB7YXJpYToge2xhYmVsOiBkZXRhaWwubGFiZWx9fSk7XG5cdFx0XHQkcmVuZGVyU3ZnT3JJbWcoe2ltZ0RlZjogZGV0YWlsLmltYWdlLCBpbWdDbGFzczogYCR7cHJlZml4fS1pbWFnZWAsIGltZ1dpZHRoOiBkZXRhaWwud2lkdGgsIGltZ0hlaWdodDpkZXRhaWwuaGVpZ2h0LCAkdGFyZ2V0RWxtOiR0YXJnZXR9KTtcblx0XHR9XG5cdFx0aWYgKGRldGFpbC5icmFuZFRleHQpIHtcblx0XHRcdGNvbnN0ICRicmFuZFRleHQgPSAkKCdzcGFuJywge2NsYXNzOiBgJHtwcmVmaXh9LXRleHRgfSwgZGV0YWlsLmJyYW5kVGV4dCk7XG5cdFx0XHQkKCR0YXJnZXQsICRicmFuZFRleHQpO1xuXHRcdH1cblx0fSk7XG5cblx0cmV0dXJuICR0YXJnZXQ7XG59O1xuIiwiaW1wb3J0IHskYXNzaWduIGFzICR9IGZyb20gJy4uLy4uL3NoYXJlZC9qcy9zaGFyZWQnO1xuXG5jb25zdCBwcmVmaXggPSAnZXNyaS1oZWFkZXItYnJhbmRpbmctc3RyaXBlJztcblxuZXhwb3J0IGRlZmF1bHQgKCkgPT4ge1xuXHRjb25zdCAkdGFyZ2V0ID0gJCgnZGl2Jywge2NsYXNzOiBwcmVmaXgsIGlkOiBwcmVmaXh9KTtcblxuXHQvKiBCcmFuZDogT24gVXBkYXRlXG5cdC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblx0JHRhcmdldC5hZGRFdmVudExpc3RlbmVyKCdoZWFkZXI6dXBkYXRlOmJyYW5kJywgKHtkZXRhaWx9KSA9PiB7XG5cdFx0JHRhcmdldC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBkZXRhaWwudG9wU3RyaXBlO1xuXHRcdCR0YXJnZXQuY2xhc3NMaXN0LmFkZCgnLXZpc2libGUnKTtcblx0fSk7XG5cblx0cmV0dXJuICR0YXJnZXQ7XG59O1xuXG4iLCJpbXBvcnQgeyRhc3NpZ24gYXMgJCwgJGRpc3BhdGNoLCAkcmVwbGFjZUFsbCwgJHJlbmRlclN2Z09ySW1nfSBmcm9tICcuLi8uLi9zaGFyZWQvanMvc2hhcmVkJztcblxuY29uc3QgcHJlZml4ID0gJ2VzcmktaGVhZGVyLW1lbnVzJztcblxuZXhwb3J0IGRlZmF1bHQgKHt2YXJpYW50ID0gJ2Rlc2t0b3AnfSkgPT4ge1xuXHRjb25zdCAkdGFyZ2V0ID0gJCgnZGl2Jywge2NsYXNzOiBwcmVmaXgsIGlkOiBgJHtwcmVmaXh9LSR7dmFyaWFudH1gfSk7XG5cdCR0YXJnZXQuY2xhc3NMaXN0LmFkZChgLSR7dmFyaWFudH1gKTtcblxuXHRpZiAodmFyaWFudCA9PT0gJ21vYmlsZScpIHtcblx0XHRjb25zdCAkdG9nZ2xlID0gJCgnYnV0dG9uJywge1xuXHRcdFx0Y2xhc3M6IGAke3ByZWZpeH0tdG9nZ2xlYCwgaWQ6IGAke3ByZWZpeH0tJHt2YXJpYW50fS10b2dnbGVgLFxuXHRcdFx0YXJpYToge2NvbnRyb2xzOiBgJHtwcmVmaXh9LWNvbnRlbnRgLCBleHBhbmRlZDogZmFsc2UsIGhhc3BvcHVwOiB0cnVlLCBsYWJlbGxlZGJ5OiAnZXNyaS1oZWFkZXItYnJhbmQnfVxuXHRcdH0pO1xuXG5cdFx0JHRvZ2dsZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuXHRcdFx0JGRpc3BhdGNoKCR0b2dnbGUsICdoZWFkZXI6bWVudTp0b2dnbGUnLCB7XG5cdFx0XHRcdGNvbnRyb2w6ICR0b2dnbGUsXG5cdFx0XHRcdGNvbnRlbnQ6ICRjb250ZW50LFxuXHRcdFx0XHRyb290OiB0cnVlLFxuXHRcdFx0XHRzdGF0ZTogJ21lbnUnLFxuXHRcdFx0XHR0YXJnZXQ6ICR0YXJnZXQsXG5cdFx0XHRcdHR5cGU6ICdyb290LXRvZ2dsZScsXG5cdFx0XHRcdGV2ZW50XG5cdFx0XHR9KTtcblx0XHR9KTtcblxuXHRcdCQoJHRhcmdldCwgJHRvZ2dsZSk7XG5cdH1cblxuXHQvKiBNZW51czogQ29udGVudFxuXHQvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblx0Y29uc3QgJGNvbnRlbnQgPSAkKCdkaXYnLCB7XG5cdFx0Y2xhc3M6IGAke3ByZWZpeH0tY29udGVudGAsXG5cdFx0YXJpYToge2hpZGRlbjogdHJ1ZSwgZXhwYW5kZWQ6IGZhbHNlfVxuXHR9KTtcblxuXHQkKCR0YXJnZXQsICRjb250ZW50KTtcblxuXHQvKiBNZW51c1xuXHQvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblxuXHQvKiBNZW51czogT24gVXBkYXRlXG5cdC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXHQkdGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoJ2hlYWRlcjp1cGRhdGU6bWVudXMnLCAoe2RldGFpbH0pID0+IHtcblx0XHQkcmVwbGFjZUFsbChcblx0XHRcdCRjb250ZW50LFxuXHRcdFx0Li4uZGV0YWlsLm1hcChcblx0XHRcdFx0KG1lbnUsIHV1aWQpID0+ICQoJ2RpdicsXG5cdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0Y2xhc3M6IGAke3ByZWZpeH0tbWVudWAsXG5cdFx0XHRcdFx0XHRyb2xlOiAnZ3JvdXAnXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHQkKCd1bCcsXG5cdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcdGNsYXNzOiBgJHtwcmVmaXh9LWxpc3RgLFxuXHRcdFx0XHRcdFx0XHRyb2xlOiAnbmF2aWdhdGlvbicsIGFyaWE6IHtsYWJlbGxlZGJ5OiAnZXNyaS1oZWFkZXItYnJhbmQnfVxuXHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdC4uLm1lbnUubWFwKChpdGVtLCBzdXVpZCkgPT4ge1xuXHRcdFx0XHRcdFx0XHQvKiBHbG9iYWwgTmF2aWdhdGlvbjogTWVudXM6IExpbmtcblx0XHRcdFx0XHRcdFx0LyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblx0XHRcdFx0XHRcdFx0Y29uc3QgJGxpbmtJY29uID0gaXRlbS5pY29uXG5cdFx0XHRcdFx0XHRcdFx0PyAkcmVuZGVyU3ZnT3JJbWcoe2ltZ0RlZjogaXRlbS5pY29uLnBhdGgsIGltZ0NsYXNzOiBgJHtwcmVmaXh9LWxpbmstaWNvbmAsIGltZ1dpZHRoOiBpdGVtLmljb24ud2lkdGggfHwgJzE2cHgnLCBpbWdIZWlnaHQ6IGl0ZW0uaWNvbi5oZWlnaHQgfHwgJzE2cHgnfSlcblx0XHRcdFx0XHRcdFx0XHQ6IG51bGw7XG5cblx0XHRcdFx0XHRcdFx0Y29uc3QgJHN1YmNvbnRyb2wgPSAkKCdhJyxcblx0XHRcdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcdFx0XHRjbGFzczogYCR7cHJlZml4fS1saW5rICR7aXRlbS5oaWRlTGFiZWxJbkRlc2t0b3AgPyAnLWhpZGUtbGFiZWwnIDogJyd9YCwgaWQ6IGAke3ByZWZpeH0tbGluay0ke3V1aWR9LSR7c3V1aWR9YCxcblx0XHRcdFx0XHRcdFx0XHRcdGhyZWY6IGl0ZW0uaHJlZiB8fCAnamF2YXNjcmlwdDo7JyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXNjcmlwdC11cmxcblx0XHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHRcdCRsaW5rSWNvbixcblx0XHRcdFx0XHRcdFx0XHQkKCdzcGFuJywge2NsYXNzIDogYCR7cHJlZml4fS1saW5rLWxhYmVsYH0sIGl0ZW0ubGFiZWwpXG5cdFx0XHRcdFx0XHRcdCk7XG5cblx0XHRcdFx0XHRcdFx0aWYgKGl0ZW0uZGF0YSkge1xuXHRcdFx0XHRcdFx0XHRcdCRzdWJjb250cm9sKHtcblx0XHRcdFx0XHRcdFx0XHRcdGRhdGE6IGl0ZW0uZGF0YVxuXHRcdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0Y29uc3QgJGxpID0gJCgnbGknLCB7Y2xhc3M6IGAke3ByZWZpeH0taXRlbWB9LCAkc3ViY29udHJvbCk7XG5cblx0XHRcdFx0XHRcdFx0Y29uc3QgaGFzTWVudUl0ZW1zID0gaXRlbS5tZW51cyAmJiBpdGVtLm1lbnVzLmxlbmd0aDtcblx0XHRcdFx0XHRcdFx0Y29uc3QgaGFzRmVhdHVyZWRJdGVtcyA9IGl0ZW0udGlsZXMgJiYgaXRlbS50aWxlcy5sZW5ndGg7XG5cblx0XHRcdFx0XHRcdFx0aWYgKGhhc01lbnVJdGVtcyB8fCBoYXNGZWF0dXJlZEl0ZW1zKSB7XG5cdFx0XHRcdFx0XHRcdFx0LyogR2xvYmFsIE5hdmlnYXRpb246IFN1Ym1lbnVcblx0XHRcdFx0XHRcdFx0XHQvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cdFx0XHRcdFx0XHRcdFx0Y29uc3QgJHN1YnRvZ2dsZSA9ICQoJ2J1dHRvbicsIHtjbGFzczogYCR7cHJlZml4fS1zdWJtZW51LXRvZ2dsZWB9LFxuXHRcdFx0XHRcdFx0XHRcdFx0aXRlbS5sYWJlbFxuXHRcdFx0XHRcdFx0XHRcdCk7XG5cblx0XHRcdFx0XHRcdFx0XHRjb25zdCAkc3ViY29udGVudCA9ICQoJ2RpdicsXG5cdFx0XHRcdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNsYXNzOiBgJHtwcmVmaXh9LXN1Ym1lbnVgLCBpZDogYCR7cHJlZml4fS0ke3ZhcmlhbnR9LXN1Ym1lbnUtJHt1dWlkfS0ke3N1dWlkfWAsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJvbGU6ICdncm91cCcsIGFyaWE6IHtoaWRkZW46IHRydWUsIGV4cGFuZGVkOiBmYWxzZX0sXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGRhdGE6IHtmaWxsZWQ6IChpdGVtLm1lbnVzICYmIGl0ZW0ubWVudXMubGVuZ3RoID4gMTApID8gaXRlbS5tZW51cy5zbGljZSgwLCAxOCkubGVuZ3RoIDogJyd9XG5cdFx0XHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHRcdFx0JHN1YnRvZ2dsZVxuXHRcdFx0XHRcdFx0XHRcdCk7XG5cblx0XHRcdFx0XHRcdFx0XHRpZiAoaGFzTWVudUl0ZW1zKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHQkKCRzdWJjb250ZW50LFxuXHRcdFx0XHRcdFx0XHRcdFx0XHQkKCd1bCcsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2xhc3M6IGAke3ByZWZpeH0tc3VibGlzdGAsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyb2xlOiAnbmF2aWdhdGlvbicsIGFyaWE6IHtsYWJlbGxlZGJ5OiBgJHtwcmVmaXh9LSR7dmFyaWFudH0tbGluay0ke3V1aWR9LSR7c3V1aWR9YH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8qIEdsb2JhbCBOYXZpZ2F0aW9uOiBNZW51czogU3VibGlua1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdC4uLml0ZW0ubWVudXMuc2xpY2UoMCwgMTgpLm1hcChcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdChjaGlsZGl0ZW0pID0+IHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y29uc3QgJHN1YmxpbmsgPSAkKCdhJyxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjbGFzczogYCR7cHJlZml4fS1zdWJsaW5rYCxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGhyZWY6IGNoaWxkaXRlbS5ocmVmXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjaGlsZGl0ZW0ubGFiZWxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0KTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoY2hpbGRpdGVtLmRhdGEpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQkKCRzdWJsaW5rLCB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRkYXRhOiBjaGlsZGl0ZW0uZGF0YVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKGNoaWxkaXRlbS5uZXdDb250ZXh0KSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0JCgkc3VibGluaywge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dGFyZ2V0OiAnX2JsYW5rJyxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJlbDogJ25vb3BlbmVyJ1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuICQoJ2xpJywge2NsYXNzOiBgJHtwcmVmaXh9LXN1Yml0ZW1gfSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQkc3VibGlua1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdClcblx0XHRcdFx0XHRcdFx0XHRcdFx0KVxuXHRcdFx0XHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRpZiAoaGFzRmVhdHVyZWRJdGVtcykge1xuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gLi4uXG5cdFx0XHRcdFx0XHRcdFx0XHQkKCRzdWJjb250ZW50LFxuXHRcdFx0XHRcdFx0XHRcdFx0XHQkKCd1bCcsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2xhc3M6IGAke3ByZWZpeH0tc3VibGlzdC0tZmVhdHVyZWRgLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cm9sZTogJ25hdmlnYXRpb24nLCBhcmlhOiB7bGFiZWxsZWRieTogYCR7cHJlZml4fS1saW5rLSR7dXVpZH0tJHtzdXVpZH1gfSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGRhdGE6IHtmaWxsZWQ6IGAke2l0ZW0udGlsZXMuc2xpY2UoMCwgNCkubGVuZ3RofWB9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvKiBHbG9iYWwgTmF2aWdhdGlvbjogTWVudXM6IFN1Ymxpbmtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdC4uLml0ZW0udGlsZXMuc2xpY2UoMCwgNCkubWFwKFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0KGNoaWxkaXRlbSkgPT4ge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjb25zdCAkc3VibGluayA9ICQoJ2EnLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNsYXNzOiBgJHtwcmVmaXh9LXN1YmxpbmstLWZlYXR1cmVkYCxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGhyZWY6IGNoaWxkaXRlbS5ocmVmXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQkcmVuZGVyU3ZnT3JJbWcoe2ltZ0RlZjogY2hpbGRpdGVtLmljb24sIGltZ0NsYXNzOiBgJHtwcmVmaXh9LXN1YmxpbmstaW1hZ2VgLCBpbWdXaWR0aDogY2hpbGRpdGVtLndpZHRoLCBpbWdIZWlnaHQ6IGNoaWxkaXRlbS5oZWlnaHR9KSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQkKCdzcGFuJywge2NsYXNzOiBgJHtwcmVmaXh9LXN1YmxpbmstdGV4dGB9LFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2hpbGRpdGVtLmxhYmVsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0KVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQpO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmIChjaGlsZGl0ZW0uZGF0YSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCQoJHN1YmxpbmssIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGRhdGE6IGNoaWxkaXRlbS5kYXRhXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoY2hpbGRpdGVtLm5ld0NvbnRleHQpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQkKCRzdWJsaW5rLCB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0YXJnZXQ6ICdfYmxhbmsnLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmVsOiAnbm9vcGVuZXInXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gJCgnbGknLCB7Y2xhc3M6IGAke3ByZWZpeH0tc3ViaXRlbS0tZmVhdHVyZWRgfSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQkc3VibGlua1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdClcblx0XHRcdFx0XHRcdFx0XHRcdFx0KVxuXHRcdFx0XHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHQkKCRsaSxcblx0XHRcdFx0XHRcdFx0XHRcdCRzdWJjb250ZW50XG5cdFx0XHRcdFx0XHRcdFx0KTtcblxuXHRcdFx0XHRcdFx0XHRcdCRzdWJjb250cm9sLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuXHRcdFx0XHRcdFx0XHRcdFx0JGRpc3BhdGNoKCRzdWJjb250cm9sLCAnaGVhZGVyOm1lbnU6dG9nZ2xlJywge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRjb250cm9sOiAkc3ViY29udHJvbCxcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y29udGVudDogJHN1YmNvbnRlbnQsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHN1Ym1lbnU6IHRydWUsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHN0YXRlOiAnbWVudScsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHR5cGU6ICdtZW51LXRvZ2dsZSdcblx0XHRcdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0XHRcdH0pO1xuXG5cdFx0XHRcdFx0XHRcdFx0JHN1YnRvZ2dsZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcblx0XHRcdFx0XHRcdFx0XHRcdCRkaXNwYXRjaCgkc3VidG9nZ2xlLCAnaGVhZGVyOm1lbnU6Y2xvc2UnLCB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNvbnRyb2w6ICRzdWJjb250cm9sLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRzdWJtZW51OiB0cnVlLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRjb250ZW50OiAkc3ViY29udGVudCxcblx0XHRcdFx0XHRcdFx0XHRcdFx0dHlwZTogJ21lbnUtY2xvc2UnXG5cdFx0XHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdHJldHVybiAkbGk7XG5cdFx0XHRcdFx0XHR9KVxuXHRcdFx0XHRcdClcblx0XHRcdFx0KVxuXHRcdFx0KVxuXHRcdCk7XG5cdH0pO1xuXG5cdCR0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcignaGVhZGVyOnVwZGF0ZTpjb2xsYXBzZU1lbnVzJywgKHtkZXRhaWx9KSA9PiB7XG5cdFx0aWYgKGRldGFpbCAmJiBkZXRhaWwuaW5kZXhPZih0cnVlKSA+IC0xKSB7XG5cdFx0XHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZXNyaS1oZWFkZXItbWVudXMtdG9nZ2xlJykuY2xhc3NMaXN0LmFkZCgnLXZpc2libGUnKTtcblx0XHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlc3JpLWhlYWRlci1icmFuZCcpLmNsYXNzTGlzdC5hZGQoJy1maXQtYnVyZ2VyJyk7XG5cdFx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXNyaS1oZWFkZXItbWVudXMtbW9iaWxlJykuY2xhc3NMaXN0LmFkZCgnLWFsd2F5cy12aXNpYmxlJyk7XG5cblx0XHRcdGNvbnN0IG1lbnVzID0gW10uc2xpY2UuY2FsbCgkdGFyZ2V0LnF1ZXJ5U2VsZWN0b3JBbGwoJy5lc3JpLWhlYWRlci1tZW51cy1tZW51JykpO1xuXHRcdFx0ZGV0YWlsLmZvckVhY2goKGNvbGxhcHNlLCBpKSA9PiB7XG5cdFx0XHRcdGlmIChjb2xsYXBzZSkge1xuXHRcdFx0XHRcdG1lbnVzW2ldLmNsYXNzTGlzdC5hZGQoJy1jb2xsYXBzZWQnKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fVxuXHR9KTtcblxuXHRyZXR1cm4gJHRhcmdldDtcbn07XG4iLCJpbXBvcnQgeyRhc3NpZ24gYXMgJCwgJGRpc3BhdGNoLCAkcmVwbGFjZUFsbCwgJHJlbmRlclN2Z09ySW1nfSBmcm9tICcuLi8uLi9zaGFyZWQvanMvc2hhcmVkJztcbmltcG9ydCBlc3JpU2VhcmNoIGZyb20gJy4uLy4uL3NlYXJjaC9qcy9zZWFyY2gnO1xuXG5jb25zdCBwcmVmaXggPSAnZXNyaS1oZWFkZXItc2VhcmNoJztcblxuZXhwb3J0IGRlZmF1bHQgKCkgPT4ge1xuXHQvKiBTZWFyY2g6IENvbnRyb2xcblx0LyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cdGNvbnN0ICRjb250cm9sID0gJCgnYnV0dG9uJyxcblx0XHR7XG5cdFx0XHRjbGFzczogYCR7cHJlZml4fS1jb250cm9sYCwgaWQ6IGAke3ByZWZpeH0tY29udHJvbGAsXG5cdFx0XHRhcmlhOiB7ZXhwYW5kZWQ6IGZhbHNlLCBjb250cm9sczogYCR7cHJlZml4fS1jb250ZW50YH1cblx0XHR9XG5cdCk7XG5cblx0JGNvbnRyb2wuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcblx0XHQkZGlzcGF0Y2goJGNvbnRyb2wsICdoZWFkZXI6Y2xpY2s6c2VhcmNoJywge2V2ZW50fSk7XG5cblx0XHQkZGlzcGF0Y2goJGNvbnRyb2wsICdoZWFkZXI6bWVudTp0b2dnbGUnLCB7XG5cdFx0XHRjb250cm9sOiAkY29udHJvbCxcblx0XHRcdGNvbnRlbnQ6ICRjb250ZW50LFxuXHRcdFx0c3RhdGU6ICdzZWFyY2gnLFxuXHRcdFx0dGFyZ2V0OiAkdGFyZ2V0LFxuXHRcdFx0dHlwZTogJ3NlYXJjaC10b2dnbGUnLFxuXHRcdFx0ZXZlbnRcblx0XHR9KTtcblx0fSk7XG5cblx0LyogU2VhcmNoOiBDb250ZW50XG5cdC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXHRjb25zdCAkY29udGVudCA9ICQoJ2RpdicsIHtcblx0XHRjbGFzczogYCR7cHJlZml4fS1jb250ZW50YCwgaWQ6IGAke3ByZWZpeH0tY29udGVudGAsXG5cdFx0YXJpYToge2V4cGFuZGVkOiBmYWxzZSwgbGFiZWxsZWRieTogYCR7cHJlZml4fS1jb250cm9sYH1cblx0fSk7XG5cblx0LyogU2VhcmNoOiBUYXJnZXRcblx0LyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cdGNvbnN0ICR0YXJnZXQgPSAkKCdkaXYnLCB7Y2xhc3M6IHByZWZpeH0sXG5cdFx0JGNvbnRyb2wsICRjb250ZW50XG5cdCk7XG5cblx0LyogU2VhcmNoOiBPbiBVcGRhdGVcblx0LyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cdCR0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcignaGVhZGVyOnVwZGF0ZTpzZWFyY2gnLCAoe2RldGFpbH0pID0+IHtcblx0XHRpZiAoIWRldGFpbC5oaWRlKSB7XG5cdFx0XHQkKCRjb250cm9sLCB7YXJpYToge2xhYmVsOiBkZXRhaWwubGFiZWx9fSk7XG5cdFx0XHQkcmVuZGVyU3ZnT3JJbWcoe2ltZ0RlZjogZGV0YWlsLmltYWdlLCBpbWdDbGFzczogYCR7cHJlZml4fS1pbWFnZWAsIGlkOiBgJHtwcmVmaXh9LWltYWdlYCwgJHRhcmdldEVsbTogJGNvbnRyb2x9KTtcblxuXHRcdFx0aWYgKGRldGFpbC5kaWFsb2cpIHtcblx0XHRcdFx0ZGV0YWlsLmRpYWxvZy5wcmVmaXggPSAnZXNyaS1oZWFkZXItc2VhcmNoLWRpYWxvZyc7XG5cblx0XHRcdFx0Y29uc3QgJGRpYWxvZyA9IGVzcmlTZWFyY2goZGV0YWlsLmRpYWxvZyk7XG5cblx0XHRcdFx0Y29uc3QgJGRpYWxvZ0NhbmNlbEJ1dHRvbiA9ICQoJ2J1dHRvbicsIHtcblx0XHRcdFx0XHRcdGNsYXNzOiAnZXNyaS1oZWFkZXItc2VhcmNoLWRpYWxvZy1jYW5jZWwnLFxuXHRcdFx0XHRcdFx0dHlwZTogJ3Jlc2V0J1xuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0JCgnc3BhbicsXG5cdFx0XHRcdFx0XHRkZXRhaWwuZGlhbG9nLmNhbmNlbExhYmVsXG5cdFx0XHRcdFx0KVxuXHRcdFx0XHQpO1xuXG5cdFx0XHRcdCRkaWFsb2dDYW5jZWxCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcblx0XHRcdFx0XHQkZGlzcGF0Y2goJGNvbnRyb2wsICdoZWFkZXI6bWVudTpjbG9zZScsIHtcblx0XHRcdFx0XHRcdGNvbnRyb2w6ICRjb250cm9sLFxuXHRcdFx0XHRcdFx0Y29udGVudDogJGNvbnRlbnQsXG5cdFx0XHRcdFx0XHRzdGF0ZTogJ3NlYXJjaCcsXG5cdFx0XHRcdFx0XHR0eXBlOiAnc2VhcmNoLWNsb3NlJyxcblx0XHRcdFx0XHRcdGV2ZW50XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH0pO1xuXG5cdFx0XHRcdCQoJGRpYWxvZyxcblx0XHRcdFx0XHQkZGlhbG9nQ2FuY2VsQnV0dG9uXG5cdFx0XHRcdCk7XG5cblx0XHRcdFx0JHJlcGxhY2VBbGwoJGNvbnRlbnQsXG5cdFx0XHRcdFx0JGRpYWxvZ1xuXHRcdFx0XHQpO1xuXG5cdFx0XHRcdCRjb250cm9sLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG5cdFx0XHRcdFx0aWYgKCd0cnVlJyA9PT0gJGNvbnRyb2wuZ2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJykpIHtcblx0XHRcdFx0XHRcdCRkaXNwYXRjaCgkZGlhbG9nLCBgJHtkZXRhaWwuZGlhbG9nLnByZWZpeH06Zm9jdXNgLCB7ZXZlbnR9KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdH1cblx0fSk7XG5cblx0cmV0dXJuICR0YXJnZXQ7XG59O1xuIiwiaW1wb3J0IHskYXNzaWduIGFzICQsICRkaXNwYXRjaH0gZnJvbSAnLi4vLi4vc2hhcmVkL2pzL3NoYXJlZCc7XG5cbi8qIFNlYXJjaFxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuZXhwb3J0IGRlZmF1bHQgKGRhdGEpID0+IHtcblx0LyogRWxlbWVudHNcblx0LyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cdGNvbnN0ICRsYWJlbCA9ICQoJ2xhYmVsJywge1xuXHRcdGNsYXNzOiBgJHtkYXRhLnByZWZpeH0tbGFiZWxgLFxuXHRcdGZvcjogYCR7ZGF0YS5wcmVmaXh9LXF1ZXJ5LWNvbnRyb2xgXG5cdH0sIGRhdGEucXVlcnlMYWJlbCk7XG5cblx0Y29uc3QgJGNvbnRyb2wgPSAkKCdpbnB1dCcsIHtcblx0XHRjbGFzczogYCR7ZGF0YS5wcmVmaXh9LWNvbnRyb2xgLCBpZDogYCR7ZGF0YS5wcmVmaXh9LWNvbnRyb2xgLFxuXHRcdHR5cGU6ICdzZWFyY2gnLCBuYW1lOiAncScsXG5cdFx0YXV0b2NhcGl0YWxpemU6ICdvZmYnLCBhdXRvY29tcGxldGU6ICdvZmYnLCBhdXRvY29ycmVjdDogJ29mZicsIHNwZWxsY2hlY2s6ICdmYWxzZSdcblx0fSk7XG5cblx0Y29uc3QgJG1lYXN1cmVUZXh0Tm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCcnKTtcblxuXHRjb25zdCAkbWVhc3VyZVRleHQgPSAkKCdkaXYnLCB7XG5cdFx0Y2xhc3M6IGAke2RhdGEucHJlZml4fS1tZWFzdXJlLXRleHRgLFxuXHRcdGFyaWE6IHtoaWRkZW46IHRydWV9XG5cdH0sICRtZWFzdXJlVGV4dE5vZGUpO1xuXG5cdGNvbnN0ICRtZWFzdXJlID0gJCgnZGl2Jywge2NsYXNzOiBgJHtkYXRhLnByZWZpeH0tbWVhc3VyZWB9LCAkbWVhc3VyZVRleHQpO1xuXG5cdGNvbnN0ICRzdWJtaXQgPSAkKCdidXR0b24nLCB7XG5cdFx0Y2xhc3M6IGAke2RhdGEucHJlZml4fS1zdWJtaXRgLCB0eXBlOiAnc3VibWl0Jyxcblx0XHRhcmlhOiB7bGFiZWw6IGRhdGEuc3VibWl0TGFiZWx9XG5cdH0pO1xuXG5cdGNvbnN0ICRzZWFyY2ggPSAkKCdmb3JtJywge1xuXHRcdGNsYXNzOiBgJHtkYXRhLnByZWZpeH0tZm9ybWAsIGFjdGlvbjogZGF0YS5hY3Rpb24sXG5cdFx0cm9sZTogJ3NlYXJjaCcsIGFyaWE6IHtsYWJlbDogZGF0YS5sYWJlbH1cblx0fSwgJGxhYmVsLCAkY29udHJvbCwgJG1lYXN1cmUsICRzdWJtaXQpO1xuXG5cdC8qIEZvY3VzIEV2ZW50XG5cdC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXHQkc2VhcmNoLmFkZEV2ZW50TGlzdGVuZXIoYCR7ZGF0YS5wcmVmaXh9OmZvY3VzYCwgKCkgPT4ge1xuXHRcdCRjb250cm9sLmZvY3VzKCk7XG5cdH0pO1xuXG5cdC8qIE9uIElucHV0XG5cdC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXHRsZXQgY29udHJvbElzRmlsbGVkID0gZmFsc2U7XG5cdGxldCBjb250cm9sVmFsdWUgPSAnJztcblxuXHRmdW5jdGlvbiBvbmlucHV0KGV2ZW50KSB7XG5cdFx0LyogQ29uZGl0aW9uYWxseSBSZXNldCBDb250cm9sIFZhbHVlXG5cdFx0LyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblx0XHRpZiAoZXZlbnQgJiYgJ3Jlc2V0JyA9PT0gZXZlbnQudHlwZSkge1xuXHRcdFx0JGNvbnRyb2wudmFsdWUgPSAnJztcblx0XHR9XG5cblx0XHQvKiBVcGRhdGUgTmV3IENvbnRyb2wgVmFsdWVcblx0XHQvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXHRcdGNvbnN0IG5ld0NvbnRyb2xWYWx1ZSA9ICRjb250cm9sLnZhbHVlO1xuXG5cdFx0aWYgKG5ld0NvbnRyb2xWYWx1ZSAhPT0gY29udHJvbFZhbHVlKSB7XG5cdFx0XHRjb250cm9sVmFsdWUgPSBuZXdDb250cm9sVmFsdWU7XG5cblx0XHRcdCRkaXNwYXRjaCgkc2VhcmNoLCBgJHtkYXRhLnByZWZpeH06aW5wdXRgLCB7XG5cdFx0XHRcdHZhbHVlOiBjb250cm9sVmFsdWUsXG5cdFx0XHRcdGV2ZW50XG5cdFx0XHR9KTtcblx0XHR9XG5cblx0XHQvKiBVcGRhdGUgTGFiZWwgYW5kIFN1Ym1pdCBVSVxuXHRcdC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cdFx0aWYgKGNvbnRyb2xJc0ZpbGxlZCAmJiAhbmV3Q29udHJvbFZhbHVlKSB7XG5cdFx0XHRjb250cm9sSXNGaWxsZWQgPSBmYWxzZTtcblxuXHRcdFx0JGxhYmVsLnJlbW92ZUF0dHJpYnV0ZSgnZGF0YS1maWxsZWQnKTtcblx0XHRcdCRzdWJtaXQucmVtb3ZlQXR0cmlidXRlKCdkYXRhLWZpbGxlZCcpO1xuXHRcdH0gZWxzZSBpZiAoIWNvbnRyb2xJc0ZpbGxlZCAmJiBuZXdDb250cm9sVmFsdWUpIHtcblx0XHRcdGNvbnRyb2xJc0ZpbGxlZCA9IHRydWU7XG5cblx0XHRcdCQoJGxhYmVsLCB7ZGF0YToge2ZpbGxlZDogJyd9fSk7XG5cdFx0XHQkKCRzdWJtaXQsIHtkYXRhOiB7ZmlsbGVkOiAnJ319KTtcblx0XHR9XG5cblx0XHQvKiBVcGRhdGUgTWVhc3VyZSBVSVxuXHRcdC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cdFx0JG1lYXN1cmVUZXh0Tm9kZS5ub2RlVmFsdWUgPSBuZXdDb250cm9sVmFsdWU7XG5cblx0XHRjb25zdCBjdXJyZW50V2lkdGggPSBgJHskbWVhc3VyZVRleHQuc2Nyb2xsV2lkdGh9cHhgO1xuXG5cdFx0JG1lYXN1cmUuc3R5bGUud2lkdGggPSBjdXJyZW50V2lkdGg7XG5cdH1cblxuXHQvKiBPbiBTdWJtaXRcblx0LyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cdGZ1bmN0aW9uIG9uc3VibWl0KGV2ZW50KSB7XG5cdFx0JGRpc3BhdGNoKCRzZWFyY2gsIGAke2RhdGEucHJlZml4fTpzdWJtaXRgLCB7XG5cdFx0XHR2YWx1ZTogJGNvbnRyb2wudmFsdWUsXG5cdFx0XHRldmVudFxuXHRcdH0pO1xuXHR9XG5cblx0LyogT24gRE9NTm9kZUluc2VydGVkXG5cdC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXHQkc2VhcmNoLmFkZEV2ZW50TGlzdGVuZXIoJ0RPTU5vZGVJbnNlcnRlZCcsIGZ1bmN0aW9uIG9uRE9NTm9kZUluc2VydGVkKCkge1xuXHRcdC8vIElmIFNlYXJjaCBub3cgaGFzIGEgcGFyZW50IG5vZGVcblx0XHRpZiAoJHNlYXJjaC5wYXJlbnROb2RlKSB7XG5cdFx0XHQvLyBVbmJpbmQgdGhlIERPTU5vZGVJbnNlcnRlZCBtZXRob2Rcblx0XHRcdCRzZWFyY2gucmVtb3ZlRXZlbnRMaXN0ZW5lcignRE9NTm9kZUluc2VydGVkJywgb25ET01Ob2RlSW5zZXJ0ZWQpO1xuXG5cdFx0XHQvLyBVcGRhdGUgU2VhcmNoXG5cdFx0XHQkZGlzcGF0Y2goJHNlYXJjaCwgYCR7ZGF0YS5wcmVmaXh9OnVwZGF0ZWAsIGRhdGEpO1xuXHRcdH1cblx0fSk7XG5cblx0LyogT24gVXBkYXRlXG5cdC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXHQkc2VhcmNoLmFkZEV2ZW50TGlzdGVuZXIoYCR7ZGF0YS5wcmVmaXh9OnVwZGF0ZWAsICgpID0+IHtcblx0XHQvKiBCaW5kIE1lZGlhIEV2ZW50XG5cdFx0LyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cdFx0Y29uc3QgbWVkaWEgPSAkc2VhcmNoLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcubWF0Y2hNZWRpYShkYXRhLm1hdGNoTWVkaWEgfHwgJyhtYXgtd2lkdGg6IDcyMHB4KScpO1xuXG5cdFx0bWVkaWEuYWRkTGlzdGVuZXIob25pbnB1dCk7XG5cblx0XHQvKiBCaW5kIE90aGVyIEV2ZW50c1xuXHRcdC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cdFx0JGNvbnRyb2wuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCBvbmlucHV0KTtcblxuXHRcdCRzZWFyY2guYWRkRXZlbnRMaXN0ZW5lcigncmVzZXQnLCBvbmlucHV0KTtcblx0XHQkc2VhcmNoLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIG9uc3VibWl0KTtcblx0XHQkc2VhcmNoLmFkZEV2ZW50TGlzdGVuZXIoYCR7ZGF0YS5wcmVmaXh9OnVubG9hZGAsIG9udW5sb2FkKTtcblx0fSk7XG5cblx0cmV0dXJuICRzZWFyY2g7XG59O1xuIiwiaW1wb3J0IHskYXNzaWduIGFzICQsICRkaXNwYXRjaCwgJHJlcGxhY2VBbGwsICRyZW5kZXJTdmdPckltZ30gZnJvbSAnLi4vLi4vc2hhcmVkL2pzL3NoYXJlZCc7XG5cbi8qIEFwcHNcbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbmNvbnN0IHByZWZpeCA9ICdlc3JpLWhlYWRlci1hcHBzJztcblxuZXhwb3J0IGRlZmF1bHQgKCkgPT4ge1xuXHQvKiBBcHBzOiBDb250ZW50XG5cdC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXHRjb25zdCAkY29udGVudCA9ICQoJ2RpdicsIHtcblx0XHRjbGFzczogYCR7cHJlZml4fS1jb250ZW50YCxcblx0XHRpZDogYCR7cHJlZml4fS1jb250ZW50YCxcblx0XHRhcmlhOiB7ZXhwYW5kZWQ6IGZhbHNlLCBsYWJlbGxlZGJ5OiBgJHtwcmVmaXh9LWNvbnRyb2xgfVxuXHR9KTtcblxuXHRjb25zdCAkYXBwU3dpdGNoZXJJY29uID0gJCgnc3BhbicsIHtcblx0XHR0aXRsZTogXCJBcHAgTGF1bmNoZXJcIixcblx0XHRcImFyaWEtbGFiZWxcIjogXCJBcHAgTGF1bmNoZXIgSWNvblwiXG5cdH0pO1xuXG5cdC8qIEFwcHM6IENvbnRyb2xcblx0LyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cdGNvbnN0ICRjb250cm9sQ29udGFpbmVyID0gJCgnYnV0dG9uJywge1xuXHRcdGNsYXNzOiBgJHtwcmVmaXh9LWNvbnRyb2wgZW1wdHktcGFkZGluZ2AsIGlkOiBgJHtwcmVmaXh9LWNvbnRyb2xgXG5cdH0pO1xuXG5cdGNvbnN0ICRkcm9wZG93biA9ICQoJ2RpdicsIHtcblx0XHRjbGFzczogJ2Ryb3Bkb3duJ1xuXHR9KTtcblxuXHQkY29udHJvbENvbnRhaW5lci5hcHBlbmRDaGlsZCgkZHJvcGRvd24pO1xuXG5cdGNvbnN0ICRjb250cm9sID0gJGNvbnRyb2xDb250YWluZXI7XG5cblx0JGNvbnRyb2xDb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcblx0XHQkZGlzcGF0Y2goJGNvbnRyb2wsICdoZWFkZXI6Y2xpY2s6YXBwcycsIHtldmVudH0pO1xuXG5cdFx0Ly8gRWxlbWVudHMgd2l0aCBmb2xsb3dpbmcgY2xhc3Mgd29uJ3QgdHJpZ2dlci9kaXNwYXRjaCB0aGUgZHJvcGRvd25cblx0XHRpZiAoZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhgJHtwcmVmaXh9LXByZXZlbnQtZHJvcGRvd25gKSkgcmV0dXJuO1xuXG5cdFx0JGRpc3BhdGNoKCRjb250cm9sLCAnaGVhZGVyOm1lbnU6dG9nZ2xlJywge1xuXHRcdFx0c3RhdGU6ICdtZW51Jyxcblx0XHRcdHRhcmdldDogJHRhcmdldCxcblx0XHRcdHR5cGU6ICdyb290LXRvZ2dsZScsXG5cdFx0XHRjb250cm9sOiAkY29udHJvbCxcblx0XHRcdGNvbnRlbnQ6ICRjb250ZW50LFxuXHRcdFx0ZXZlbnRcblx0XHR9KTtcblx0fSk7XG5cblx0LyogQXBwczogVGFyZ2V0XG5cdC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXHRjb25zdCAkdGFyZ2V0ID0gJCgnZGl2Jywge2NsYXNzOiBwcmVmaXh9LFxuXHRcdCRjb250cm9sXG5cdCk7XG5cblx0LyogQXBwczogSGVscGVyIEZ1bmN0aW9ucyBmb3IgVXBkYXRlXG5cdC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXHRjb25zdCBjcmVhdGVEZWZhdWx0QXBwTGF5b3V0ID0gKCR0b3BBcHBDb250YWluZXIsIGN1cnJlbnRBcHApID0+IHtcblx0XHRjb25zdCBhYmJyZXZpYXRpb25TaXplcyA9IFtcIjBweFwiLCBcIjMycHhcIiwgXCIyNHB4XCIsIFwiMjBweFwiLCBcIjE4cHhcIiwgXCIxNnB4XCIsIFwiMTRweFwiXTtcblxuXHRcdGNvbnN0IGxpc3RJdGVtID0gJChcImxpXCIsIHtcblx0XHRcdGFsdDogXCJcIixcblx0XHRcdGNsYXNzOiBgJHtwcmVmaXh9LXByZXZlbnQtZHJvcGRvd24gbGluay1vZmYtYmxhY2sgYXBwTGlua0NvbnRhaW5lcmAsXG5cdFx0XHRyb2xlOiBcIm1lbnVpdGVtXCJcblx0XHR9KTtcblxuXHRcdGNvbnN0IGFwcExpbmsgPSAkKFwiYVwiLCB7XG5cdFx0XHRocmVmOiBjdXJyZW50QXBwLnVybCwgLy8gKyBcIiN1c2VybmFtZT1cIiArIHRoaXMuX2N1cnJlbnRVc2VyLnVzZXJuYW1lLFxuXHRcdFx0dGFyZ2V0OiBcIl9ibGFua1wiLFxuXHRcdFx0Y2xhc3M6IFwiYXBwTGlua1wiXG5cdFx0fSk7XG5cdFx0Ly8gQ2hlY2sgaWYgQXBwIGhhcyBJY29uXG5cdFx0aWYgKGN1cnJlbnRBcHAuaW1hZ2UpIHtcblx0XHRcdGNvbnN0IGFwcEltYWdlQ29udGFpbmVyID0gJChcImRpdlwiLCB7XCJjbGFzc1wiOiBcImFwcEljb25JbWFnZVwifSk7XG5cdFx0XHQkcmVuZGVyU3ZnT3JJbWcoe2ltZ0RlZjogY3VycmVudEFwcC5pbWFnZSwgaW1nV2lkdGg6IDQ4LCBpbWdIZWlnaHQ6IDQ4LCAkdGFyZ2V0RWxtOiBhcHBJbWFnZUNvbnRhaW5lcn0pO1xuXHRcdFx0YXBwTGluay5hcHBlbmRDaGlsZChhcHBJbWFnZUNvbnRhaW5lcik7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGNvbnN0IHN0cmluZ1dpZHRoID0gTWF0aC5yb3VuZChnZXRUZXh0V2lkdGgoY3VycmVudEFwcC5hYmJyIHx8IFwiXCIsIFwiYXZlbmlyXCIpIC8gNSk7XG5cdFx0XHRsZXQgYWJicmV2aWF0aW9uU2l6ZSA9IGFiYnJldmlhdGlvblNpemVzW3N0cmluZ1dpZHRoXTtcblx0XHRcdGlmIChzdHJpbmdXaWR0aCA+IDYpIHsgLy8gUHJldmVudCB1c2VyIGZyb20gZXhjZWVkaW5nIGljb24gd2lkdGhcblx0XHRcdFx0Y3VycmVudEFwcC5hYmJyID0gY3VycmVudEFwcC5hYmJyLnN1YnN0cigwLCA0KTtcblx0XHRcdFx0YWJicmV2aWF0aW9uU2l6ZSA9IGFiYnJldmlhdGlvblNpemVzWzRdO1xuXHRcdFx0fVxuXHRcdFx0Y29uc3Qgc3VyZmFjZURpdiA9ICQoXCJkaXZcIiwge1wiY2xhc3NcIjogXCJhcHBJY29uSW1hZ2VcIn0pO1xuXHRcdFx0Y29uc3Qgc3VyZmFjZVNwYW4gPSAkKFwic3BhblwiLCB7XG5cdFx0XHRcdHN0eWxlOiBgZm9udC1zaXplOiAke2FiYnJldmlhdGlvblNpemV9YCxcblx0XHRcdFx0Y2xhc3M6IFwiYXZlbmlyIGFwcEljb25TdmdUZXh0XCJcblx0XHRcdH0sIGN1cnJlbnRBcHAuYWJicik7XG5cdFx0XHRzdXJmYWNlRGl2LmFwcGVuZENoaWxkKHN1cmZhY2VTcGFuKTtcblx0XHRcdHN1cmZhY2VEaXYuYXBwZW5kQ2hpbGQoJHJlbmRlclN2Z09ySW1nKHtpbWdEZWY6IGN1cnJlbnRBcHAucGxhY2VIb2xkZXJJY29uLCBpbWdXaWR0aDogNDgsIGltZ0hlaWdodDogNDh9KSk7XG5cdFx0XHRhcHBMaW5rLmFwcGVuZENoaWxkKHN1cmZhY2VEaXYpO1xuXHRcdH1cblx0XHRjb25zdCBwID0gJChcInBcIiwge3N0eWxlOiBcIm1hcmdpbjowIGF1dG87IHRleHQtYWxpZ246Y2VudGVyXCJ9LCBjdXJyZW50QXBwLmxhYmVsKTtcblx0XHRhcHBMaW5rLmFwcGVuZENoaWxkKHApO1xuXHRcdGxpc3RJdGVtLmFwcGVuZENoaWxkKGFwcExpbmspO1xuXHRcdCR0b3BBcHBDb250YWluZXIuYXBwZW5kQ2hpbGQobGlzdEl0ZW0pO1xuXHR9O1xuXG5cdGNvbnN0IGdldFRleHRXaWR0aCA9ICh0ZXh0LCBmb250KSA9PiB7IC8vIEFkZHMgc3VwcG9ydCBmb3IgYXBwIGFiYnJldmlhdGlvbnMgaW4gYWxsIGxhbmd1YWdlc1xuXHRcdGNvbnN0IGNhbnZhcyA9IGdldFRleHRXaWR0aC5jYW52YXMgfHwgKGdldFRleHRXaWR0aC5jYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpKTtcblx0XHRjb25zdCBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcblx0XHRjb250ZXh0LmZvbnQgPSBmb250O1xuXHRcdGNvbnN0IG1ldHJpY3MgPSBjb250ZXh0Lm1lYXN1cmVUZXh0KHRleHQpO1xuXHRcdHJldHVybiBtZXRyaWNzLndpZHRoO1xuXHR9O1xuXG5cdC8qIEFwcHM6IE9uIFVwZGF0ZVxuXHQvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblx0JHRhcmdldC5hZGRFdmVudExpc3RlbmVyKCdoZWFkZXI6dXBkYXRlOmFwcHMnLCAoe2RldGFpbH0pID0+IHtcblx0XHQkcmVuZGVyU3ZnT3JJbWcoe2ltZ0RlZjogZGV0YWlsLmltYWdlLnBhdGgsIGltZ1dpZHRoOiBkZXRhaWwuaW1hZ2Uud2lkdGgsIGltZ0hlaWdodDogZGV0YWlsLmltYWdlLmhlaWdodCwgaW1nQ2xhc3M6IGAke3ByZWZpeH0taW1hZ2VgLCAkdGFyZ2V0RWxtOiAkYXBwU3dpdGNoZXJJY29ufSk7XG5cblx0XHRpZiAoZGV0YWlsLmljb25zKSB7XG5cdFx0XHQkdGFyZ2V0LmFwcGVuZENoaWxkKCRjb250ZW50KTtcblx0XHRcdCRjb250cm9sLmNsYXNzTmFtZSA9IGAke3ByZWZpeH0tY29udHJvbGA7XG5cblx0XHRcdCQoJGNvbnRyb2wsIHthcmlhOiB7bGFiZWw6IGRldGFpbC5sYWJlbH19KTtcblxuXHRcdFx0Y29uc3QgbnVtYmVyT2ZBcHBzID0gZGV0YWlsLmljb25zLmxlbmd0aDtcblx0XHRcdGNvbnN0IGRyb3Bkb3duV2lkdGggPSBgIGRyb3Bkb3duLXdpZHRoLSR7KG51bWJlck9mQXBwcyA8IDQgPyBudW1iZXJPZkFwcHMgOiA0KX1gO1xuXG5cdFx0XHQvLyBBcHAgSWNvbnNcblxuXHRcdFx0Y29uc3QgJHRvcEFwcENvbnRhaW5lciA9ICQoXCJ1bFwiLCB7XG5cdFx0XHRcdGNsYXNzOiBgJHtwcmVmaXh9LXByZXZlbnQtZHJvcGRvd24gYXBwQ29udGFpbmVyYCxcblx0XHRcdFx0cm9sZTogXCJtZW51XCJcblx0XHRcdH0pO1xuXG5cdFx0XHRjb25zdCBtYXhBcHBzUGVyRGlhbG9nID0gbnVtYmVyT2ZBcHBzID49IDEwMCA/IDEwMCA6IG51bWJlck9mQXBwcztcblx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgbWF4QXBwc1BlckRpYWxvZzsgaSArPSAxKSB7XG5cdFx0XHRcdGNyZWF0ZURlZmF1bHRBcHBMYXlvdXQoJHRvcEFwcENvbnRhaW5lciwgZGV0YWlsLmljb25zW2ldKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gQ29udGFpbmVyXG5cdFx0XHRjb25zdCAkZHJvcGRvd25XcmFwcGVyID0gJCgnZGl2Jywge2NsYXNzOiBgJHtwcmVmaXh9LXByZXZlbnQtZHJvcGRvd25gfSwgJHRvcEFwcENvbnRhaW5lcik7XG5cblx0XHRcdGNvbnN0ICRkcm9wZG93bk5hdiA9ICQoJ25hdicsIHtcblx0XHRcdFx0Y2xhc3M6IGAke3ByZWZpeH0tcHJldmVudC1kcm9wZG93biBkcm9wZG93bi1tZW51IGRyb3Bkb3duLXJpZ2h0IGFwcC1zd2l0Y2hlci1kcm9wZG93bi1tZW51ICR7ZHJvcGRvd25XaWR0aH1gLFxuXHRcdFx0XHRyb2xlOiBcIm1lbnVcIlxuXHRcdFx0fSwgJGRyb3Bkb3duV3JhcHBlcik7XG5cblx0XHRcdCRyZXBsYWNlQWxsKCRkcm9wZG93biwgJGFwcFN3aXRjaGVySWNvbiwgJGRyb3Bkb3duTmF2KTtcblx0XHR9XG5cdH0pO1xuXG5cdHJldHVybiAkdGFyZ2V0O1xufTtcbiIsImltcG9ydCB7JGFzc2lnbiBhcyAkLCAkZGlzcGF0Y2gsICRlbmFibGVGb2N1c1JpbmcsICRyZXBsYWNlQWxsfSBmcm9tICcuLi8uLi9zaGFyZWQvanMvc2hhcmVkJztcblxuaW1wb3J0IGNyZWF0ZUFjY291bnQgZnJvbSAnLi9oZWFkZXItYWNjb3VudCc7XG5pbXBvcnQgY3JlYXRlQnJhbmQgZnJvbSAnLi9oZWFkZXItYnJhbmQnO1xuaW1wb3J0IGNyZWF0ZUJyYW5kU3RyaXBlIGZyb20gJy4vaGVhZGVyLWJyYW5kaW5nLXN0cmlwZSc7XG5pbXBvcnQgY3JlYXRlTWVudXMgZnJvbSAnLi9oZWFkZXItbWVudXMnO1xuaW1wb3J0IGNyZWF0ZVNlYXJjaCBmcm9tICcuL2hlYWRlci1zZWFyY2gnO1xuaW1wb3J0IGNyZWF0ZUFwcHMgZnJvbSAnLi9oZWFkZXItYXBwcyc7XG5cbi8qIEhlYWRlclxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5leHBvcnQgZGVmYXVsdCAoZGF0YSkgPT4ge1xuXHRsZXQgdmlld3BvcnRJc1NtYWxsO1xuXHRsZXQgdmlld3BvcnRJc1NtYWxsTWVkaXVtO1xuXG5cdC8qIENhbnZhc1xuXHQvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblx0Y29uc3QgJGhlYWRlckNhbnZhcyA9ICQoJ2J1dHRvbicsIHtcblx0XHRjbGFzczogJ2VzcmktaGVhZGVyLWNhbnZhcycsXG5cdFx0dGFiaW5kZXg6ICctMScsXG5cdFx0ZGF0YToge29wZW46IGZhbHNlfVxuXHR9KTtcblxuXHQkaGVhZGVyQ2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuXHRcdCRkaXNwYXRjaCgkaGVhZGVyQ2FudmFzLCAnaGVhZGVyOm1lbnU6Y2xvc2UnKTtcblx0fSk7XG5cblx0LyogRWxlbWVudHNcblx0LyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cdGNvbnN0ICRicmFuZFN0cmlwZSA9IGNyZWF0ZUJyYW5kU3RyaXBlKCk7XG5cdGNvbnN0ICRicmFuZCA9IGNyZWF0ZUJyYW5kKCk7XG5cdGNvbnN0ICRhY2NvdW50ID0gY3JlYXRlQWNjb3VudCgpO1xuXHRjb25zdCAkbW9iaWxlTWVudXMgPSBjcmVhdGVNZW51cyh7dmFyaWFudDogJ21vYmlsZSd9KTtcblx0Y29uc3QgJGRlc2t0b3BNZW51cyA9IGNyZWF0ZU1lbnVzKHt2YXJpYW50OiAnZGVza3RvcCd9KTtcblx0Y29uc3QgJHNlYXJjaCA9IGNyZWF0ZVNlYXJjaCgpO1xuXHRjb25zdCAkYXBwcyA9IGNyZWF0ZUFwcHMoKTtcblxuXHRjb25zdCAkY2xpZW50ID0gJCgnZGl2Jywge2NsYXNzOiAnZXNyaS1oZWFkZXItY2xpZW50J30sXG5cdFx0JGFjY291bnRcblx0KTtcblxuXHRjb25zdCAkbGluZUJyZWFrID0gJCgnZGl2Jywge2NsYXNzOiAnZXNyaS1oZWFkZXItbGluZUJyZWFrJ30pO1xuXG5cdGNvbnN0ICRoZWFkZXIgPSAkKCdkaXYnLCB7Y2xhc3M6IGBlc3JpLWhlYWRlciAtJHtkYXRhLnRoZW1lIHx8ICd3ZWInfWB9LFxuXHRcdCRoZWFkZXJDYW52YXMsXG5cdFx0JGJyYW5kU3RyaXBlLFxuXHRcdCRicmFuZCxcblx0XHQkbW9iaWxlTWVudXMsXG5cdFx0JGRlc2t0b3BNZW51cyxcblx0XHQkc2VhcmNoLFxuXHRcdCRsaW5lQnJlYWssXG5cdFx0JGFwcHMsXG5cdFx0JGNsaWVudFxuXHQpO1xuXG5cdCRlbmFibGVGb2N1c1JpbmcoJGhlYWRlcik7XG5cblx0LyogT24gSGVhZGVyIFVwZGF0ZVxuXHQvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblx0JGhlYWRlci5hZGRFdmVudExpc3RlbmVyKCdoZWFkZXI6dXBkYXRlJywgKHtkZXRhaWx9KSA9PiB7XG5cdFx0aWYgKGRldGFpbC5icmFuZCkge1xuXHRcdFx0aWYgKGRldGFpbC5icmFuZC50b3BTdHJpcGUpIHtcblx0XHRcdFx0JGRpc3BhdGNoKCRicmFuZFN0cmlwZSwgJ2hlYWRlcjp1cGRhdGU6YnJhbmQnLCBkZXRhaWwuYnJhbmQpO1xuXHRcdFx0XHQkaGVhZGVyLnN0eWxlLm1hcmdpblRvcCA9ICczcHgnO1xuXHRcdFx0fVxuXHRcdFx0JGRpc3BhdGNoKCRicmFuZCwgJ2hlYWRlcjp1cGRhdGU6YnJhbmQnLCBkZXRhaWwuYnJhbmQpO1xuXHRcdH1cblxuXHRcdGlmIChkZXRhaWwubWVudXMpIHtcblx0XHRcdCRkaXNwYXRjaCgkZGVza3RvcE1lbnVzLCAnaGVhZGVyOnVwZGF0ZTptZW51cycsIGRldGFpbC5tZW51cyk7XG5cdFx0XHQkZGlzcGF0Y2goJG1vYmlsZU1lbnVzLCAnaGVhZGVyOnVwZGF0ZTptZW51cycsIGRldGFpbC5tZW51cyk7XG5cdFx0fVxuXG5cdFx0aWYgKGRldGFpbC5jb2xsYXBzZU1lbnVzKSB7XG5cdFx0XHQkZGlzcGF0Y2goJGRlc2t0b3BNZW51cywgJ2hlYWRlcjp1cGRhdGU6Y29sbGFwc2VNZW51cycsIGRldGFpbC5jb2xsYXBzZU1lbnVzKTtcblx0XHRcdCRkaXNwYXRjaCgkbW9iaWxlTWVudXMsICdoZWFkZXI6dXBkYXRlOmNvbGxhcHNlTWVudXMnLCBkZXRhaWwuY29sbGFwc2VNZW51cyk7XG5cdFx0fVxuXG5cdFx0aWYgKGRldGFpbC5zZWFyY2gpIHtcblx0XHRcdCRkaXNwYXRjaCgkc2VhcmNoLCAnaGVhZGVyOnVwZGF0ZTpzZWFyY2gnLCBkZXRhaWwuc2VhcmNoKTtcblx0XHR9XG5cblx0XHRpZiAoZGV0YWlsLmFjY291bnQpIHtcblx0XHRcdCRkaXNwYXRjaCgkY2xpZW50Lmxhc3RDaGlsZCwgJ2hlYWRlcjp1cGRhdGU6YWNjb3VudCcsIGRldGFpbC5hY2NvdW50KTtcblx0XHR9XG5cblx0XHRpZiAoZGV0YWlsLmFjY291bnQpIHtcblx0XHRcdCRkaXNwYXRjaCgkY2xpZW50Lmxhc3RDaGlsZCwgJ2hlYWRlcjp1cGRhdGU6YWNjb3VudCcsIGRldGFpbC5hY2NvdW50KTtcblx0XHR9XG5cblx0XHRpZiAoZGV0YWlsLmFwcHMpIHtcblx0XHRcdCRkaXNwYXRjaCgkYXBwcywgJ2hlYWRlcjp1cGRhdGU6YXBwcycsIGRldGFpbC5hcHBzKTtcblx0XHR9XG5cblx0XHQkaGVhZGVyLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsICh7a2V5Q29kZX0pID0+IHtcblx0XHRcdGlmICgyNyA9PT0ga2V5Q29kZSkge1xuXHRcdFx0XHQkZGlzcGF0Y2goJGhlYWRlciwgJ2hlYWRlcjptZW51OmNsb3NlJyk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH0pO1xuXG5cdC8qIE9uIEhlYWRlciBNZW51IFRvZ2dsZVxuXHQvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblx0JGhlYWRlci5hZGRFdmVudExpc3RlbmVyKCdoZWFkZXI6bWVudTp0b2dnbGUnLCAoe2RldGFpbH0pID0+IHtcblx0XHRjb25zdCBzdWJtZW51U2hvdWxkT3BlbiA9ICd0cnVlJyAhPT0gZGV0YWlsLmNvbnRyb2wuZ2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJyk7XG5cdFx0Y29uc3QgZXZlbnRUeXBlID0gc3VibWVudVNob3VsZE9wZW4gPyAnaGVhZGVyOm1lbnU6b3BlbicgOiAnaGVhZGVyOm1lbnU6Y2xvc2UnO1xuXG5cdFx0JGRpc3BhdGNoKGRldGFpbC5jb250cm9sLCBldmVudFR5cGUsIGRldGFpbCk7XG5cdH0pO1xuXG5cdC8qIE9uIEhlYWRlciBNZW51IE9wZW5cblx0LyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cdGxldCBhY2NvdW50RGV0YWlsID0gbnVsbDtcblx0bGV0IHNlYXJjaERldGFpbCA9IG51bGw7XG5cdGxldCBtZW51c0RldGFpbCA9IG51bGw7XG5cdGxldCBtZW51RGV0YWlsID0gbnVsbDtcblx0bGV0IGFwcHNEZXRhaWwgPSBudWxsO1xuXG5cdCRoZWFkZXIuYWRkRXZlbnRMaXN0ZW5lcignaGVhZGVyOm1lbnU6b3BlbicsICh7ZGV0YWlsfSkgPT4ge1xuXHRcdGNvbnN0IGlzTWVudVRvZ2dsZSA9ICdtZW51LXRvZ2dsZScgPT09IGRldGFpbC50eXBlO1xuXG5cdFx0Ly8gVXBkYXRlIENvbnRyb2wsIENvbnRlbnRcblx0XHQkKGRldGFpbC5jb250cm9sLCB7YXJpYToge2V4cGFuZGVkOiB0cnVlfX0pO1xuXHRcdCQoZGV0YWlsLmNvbnRlbnQsIHthcmlhOiB7ZXhwYW5kZWQ6IHRydWUsIGhpZGRlbjogZmFsc2V9fSk7XG5cblx0XHRpZiAobWVudURldGFpbCAmJiBtZW51RGV0YWlsLmNvbnRyb2wgIT09IGRldGFpbC5jb250cm9sKSB7XG5cdFx0XHQkZGlzcGF0Y2gobWVudURldGFpbC5jb250cm9sLCAnaGVhZGVyOm1lbnU6Y2xvc2UnLCBtZW51RGV0YWlsKTtcblx0XHR9XG5cblx0XHRpZiAoJ21lbnUtdG9nZ2xlJyA9PT0gZGV0YWlsLnR5cGUpIHtcblx0XHRcdG1lbnVEZXRhaWwgPSBkZXRhaWw7XG5cdFx0fVxuXG5cdFx0aWYgKCRzZWFyY2ggPT09IGRldGFpbC50YXJnZXQpIHtcblx0XHRcdHNlYXJjaERldGFpbCA9IGRldGFpbDtcblx0XHR9IGVsc2UgaWYgKHNlYXJjaERldGFpbCkge1xuXHRcdFx0JGRpc3BhdGNoKCRzZWFyY2gsICdoZWFkZXI6bWVudTpjbG9zZScsIHNlYXJjaERldGFpbCk7XG5cdFx0XHRzZWFyY2hEZXRhaWwgPSBudWxsO1xuXHRcdH1cblxuXHRcdGlmICgkZGVza3RvcE1lbnVzID09PSBkZXRhaWwudGFyZ2V0IHx8ICRtb2JpbGVNZW51cyA9PT0gZGV0YWlsLnRhcmdldCkge1xuXHRcdFx0bWVudXNEZXRhaWwgPSBkZXRhaWw7XG5cdFx0fSBlbHNlIGlmIChtZW51c0RldGFpbCAmJiAhaXNNZW51VG9nZ2xlICYmICF2aWV3cG9ydElzU21hbGwubWF0Y2hlcykge1xuXHRcdFx0JGRpc3BhdGNoKCRkZXNrdG9wTWVudXMsICdoZWFkZXI6bWVudTpjbG9zZScsIG1lbnVzRGV0YWlsKTtcblx0XHRcdCRkaXNwYXRjaCgkbW9iaWxlTWVudXMsICdoZWFkZXI6bWVudTpjbG9zZScsIG1lbnVzRGV0YWlsKTtcblx0XHRcdG1lbnVzRGV0YWlsID0gbnVsbDtcblx0XHR9XG5cblx0XHRpZiAoJGFjY291bnQgPT09IGRldGFpbC50YXJnZXQpIHtcblx0XHRcdGFjY291bnREZXRhaWwgPSBkZXRhaWw7XG5cdFx0fSBlbHNlIGlmIChhY2NvdW50RGV0YWlsKSB7XG5cdFx0XHQkZGlzcGF0Y2goJGFjY291bnQsICdoZWFkZXI6bWVudTpjbG9zZScsIGFjY291bnREZXRhaWwpO1xuXG5cdFx0XHRhY2NvdW50RGV0YWlsID0gbnVsbDtcblx0XHR9XG5cblx0XHRpZiAoJGFwcHMgPT09IGRldGFpbC50YXJnZXQpIHtcblx0XHRcdGFwcHNEZXRhaWwgPSBkZXRhaWw7XG5cdFx0fSBlbHNlIGlmIChhcHBzRGV0YWlsKSB7XG5cdFx0XHQkZGlzcGF0Y2goJGFwcHMsICdoZWFkZXI6bWVudTpjbG9zZScsIGFwcHNEZXRhaWwpO1xuXG5cdFx0XHRhcHBzRGV0YWlsID0gbnVsbDtcblx0XHR9XG5cblx0XHQvLyBVcGRhdGUgQ2FudmFzXG5cdFx0JCgkaGVhZGVyQ2FudmFzLCB7ZGF0YToge29wZW46IHRydWUsIHN0YXRlOiBkZXRhaWwuc3RhdGV9fSk7XG5cblx0XHQvLyBVcGRhdGUgRG9jdW1lbnQgUm9vdFxuXHRcdCQoJGhlYWRlci5vd25lckRvY3VtZW50LmRvY3VtZW50RWxlbWVudCwge2RhdGE6IHsnaGVhZGVyLWlzLW9wZW4nOiB0cnVlfX0pO1xuXHR9KTtcblxuXHQvKiBPbiBIZWFkZXIgTWVudSBDbG9zZVxuXHQvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblx0JGhlYWRlci5hZGRFdmVudExpc3RlbmVyKCdoZWFkZXI6bWVudTpjbG9zZScsICh7ZGV0YWlsfSkgPT4ge1xuXHRcdGNvbnN0IGN1cnJlbnREZXRhaWwgPSBkZXRhaWwgfHwgbWVudXNEZXRhaWwgfHwgc2VhcmNoRGV0YWlsIHx8IGFjY291bnREZXRhaWwgfHwgYXBwc0RldGFpbCB8fCBtZW51RGV0YWlsO1xuXG5cdFx0aWYgKGN1cnJlbnREZXRhaWwpIHtcblx0XHRcdC8vIENsb3NlIHRoZSBEZXRhaWxcblx0XHRcdCQoY3VycmVudERldGFpbC5jb250cm9sLCB7YXJpYToge2V4cGFuZGVkOiBmYWxzZX19KTtcblx0XHRcdCQoY3VycmVudERldGFpbC5jb250ZW50LCB7YXJpYToge2V4cGFuZGVkOiBmYWxzZSwgaGlkZGVuOiB0cnVlfX0pO1xuXG5cdFx0XHRjb25zdCBjYW52YXNTaG91bGRDbG9zZSA9ICF2aWV3cG9ydElzU21hbGxNZWRpdW0ubWF0Y2hlcyB8fCAnbWVudS1jbG9zZScgIT09IGN1cnJlbnREZXRhaWwudHlwZSAmJiAnYWNjb3VudC1jbG9zZScgIT09IGN1cnJlbnREZXRhaWwudHlwZTtcblxuXHRcdFx0aWYgKHNlYXJjaERldGFpbCAmJiBzZWFyY2hEZXRhaWwuY29udHJvbCA9PT0gY3VycmVudERldGFpbC5jb250cm9sKSB7XG5cdFx0XHRcdCRkaXNwYXRjaChzZWFyY2hEZXRhaWwuY29udGVudC5sYXN0Q2hpbGQsICdyZXNldCcpO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoY2FudmFzU2hvdWxkQ2xvc2UpIHtcblx0XHRcdFx0Ly8gQ2xvc2UgdGhlIENhbnZhc1xuXHRcdFx0XHQkKCRoZWFkZXJDYW52YXMsIHtkYXRhOiB7b3BlbjogZmFsc2V9fSk7XG5cblx0XHRcdFx0Ly8gVXBkYXRlIERvY3VtZW50IFJvb3Rcblx0XHRcdFx0JGhlYWRlci5vd25lckRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ2RhdGEtaGVhZGVyLWlzLW9wZW4nKTtcblx0XHRcdH1cblx0XHR9XG5cdH0pO1xuXG5cdC8qIE9uIERPTU5vZGVJbnNlcnRlZFxuXHQvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblx0JGhlYWRlci5hZGRFdmVudExpc3RlbmVyKCdET01Ob2RlSW5zZXJ0ZWQnLCBmdW5jdGlvbiBvbmxvYWQoKSB7XG5cdFx0Ly8gR2V0IERvY3VtZW50IGFuZCBXaW5kb3dcblx0XHRjb25zdCAkaGVhZGVyRG9jdW1lbnQgPSAkaGVhZGVyLm93bmVyRG9jdW1lbnQ7XG5cdFx0Y29uc3QgJGhlYWRlcldpbmRvdyA9ICRoZWFkZXJEb2N1bWVudC5kZWZhdWx0VmlldztcblxuXHRcdGNvbnN0ICRzdHlsZSA9ICQoJ3N0eWxlJyk7XG5cblx0XHRsZXQgb3ZlcmZsb3dZO1xuXG5cdFx0aWYgKCRoZWFkZXIucGFyZW50Tm9kZSkge1xuXHRcdFx0Ly8gVW5iaW5kIE5vZGUgSW5zZXJ0ZWRcblx0XHRcdCRoZWFkZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcignRE9NTm9kZUluc2VydGVkJywgb25sb2FkKTtcblxuXHRcdFx0Ly8gVXBkYXRlIEhlYWRlclxuXHRcdFx0JGRpc3BhdGNoKCRoZWFkZXIsICdoZWFkZXI6dXBkYXRlJywgZGF0YSk7XG5cblx0XHRcdC8qIE9uIFJlc2l6ZVxuXHRcdFx0LyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXHRcdFx0JCgkaGVhZGVyRG9jdW1lbnQuaGVhZCxcblx0XHRcdFx0JHN0eWxlXG5cdFx0XHQpO1xuXG5cdFx0XHQkaGVhZGVyV2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ29yaWVudGF0aW9uY2hhbmdlJywgb25yZXNpemUpO1xuXHRcdFx0JGhlYWRlcldpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBvbnJlc2l6ZSk7XG5cblx0XHRcdC8qIE9uIE1hdGNoIE1lZGlhIENoYW5nZVxuXHRcdFx0LyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXHRcdFx0dmlld3BvcnRJc1NtYWxsID0gJGhlYWRlcldpbmRvdy5tYXRjaE1lZGlhKCcobWF4LXdpZHRoOiA3NjdweCknKTtcblx0XHRcdHZpZXdwb3J0SXNTbWFsbE1lZGl1bSA9ICRoZWFkZXJXaW5kb3cubWF0Y2hNZWRpYSgnKG1heC13aWR0aDogMTAyM3B4KScpO1xuXG5cdFx0XHR2aWV3cG9ydElzU21hbGwuYWRkTGlzdGVuZXIob25WaWV3cG9ydElzU21hbGxDaGFuZ2UpO1xuXHRcdFx0dmlld3BvcnRJc1NtYWxsTWVkaXVtLmFkZExpc3RlbmVyKG9uVmlld3BvcnRJc1NtYWxsTWVkaXVtQ2hhbmdlKTtcblxuXHRcdFx0b25WaWV3cG9ydElzU21hbGxDaGFuZ2UoKTtcblx0XHRcdG9uVmlld3BvcnRJc1NtYWxsTWVkaXVtQ2hhbmdlKCk7XG5cblx0XHRcdG9ucmVzaXplKCk7XG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gb25yZXNpemUoKSB7XG5cdFx0XHRjb25zdCB3aWR0aCA9ICRoZWFkZXJEb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGg7XG5cdFx0XHRjb25zdCBoZWlnaHQgPSAkaGVhZGVyRG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodDtcblx0XHRcdGNvbnN0IHNjcm9sbEhlaWdodCA9ICRoZWFkZXJEb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsSGVpZ2h0O1xuXG5cdFx0XHRvdmVyZmxvd1kgPSBnZXRDb21wdXRlZFN0eWxlKCRoZWFkZXJEb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpLm92ZXJmbG93WS5yZXBsYWNlKCd2aXNpYmxlJywgc2Nyb2xsSGVpZ2h0ID4gaGVpZ2h0ID8gJ3Njcm9sbCcgOiAndmlzaWJsZScpO1xuXG5cdFx0XHQkcmVwbGFjZUFsbCgkc3R5bGUsXG5cdFx0XHRcdGA6cm9vdHstLWVzcmktdnc6JHt3aWR0aH1weDstLWVzcmktdmg6JHtoZWlnaHR9cHh9W2RhdGEtaGVhZGVyLWlzLW9wZW5de3dpZHRoOiR7d2lkdGh9cHg7aGVpZ2h0OiR7aGVpZ2h0fXB4O292ZXJmbG93LXk6JHtvdmVyZmxvd1l9fWBcblx0XHRcdCk7XG5cblx0XHRcdHZpZXdwb3J0SXNTbWFsbE1lZGl1bSA9ICRoZWFkZXJXaW5kb3cubWF0Y2hNZWRpYSgnKG1heC13aWR0aDogMTAyM3B4KScpO1xuXHRcdFx0aWYgKHZpZXdwb3J0SXNTbWFsbE1lZGl1bS5tYXRjaGVzKSB7XG5cdFx0XHRcdCRkZXNrdG9wTWVudXMucXVlcnlTZWxlY3RvcignLmVzcmktaGVhZGVyLW1lbnVzLWNvbnRlbnQnKS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcblx0XHRcdFx0JG1vYmlsZU1lbnVzLnF1ZXJ5U2VsZWN0b3IoJy5lc3JpLWhlYWRlci1tZW51cy1jb250ZW50JykuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQkZGVza3RvcE1lbnVzLnF1ZXJ5U2VsZWN0b3IoJy5lc3JpLWhlYWRlci1tZW51cy1jb250ZW50JykuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG5cdFx0XHRcdCRtb2JpbGVNZW51cy5xdWVyeVNlbGVjdG9yKCcuZXNyaS1oZWFkZXItbWVudXMtY29udGVudCcpLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIG9uVmlld3BvcnRJc1NtYWxsQ2hhbmdlKCkge1xuXHRcdFx0aWYgKHZpZXdwb3J0SXNTbWFsbC5tYXRjaGVzKSB7XG5cdFx0XHRcdCRkaXNwYXRjaCgkaGVhZGVyLCAnaGVhZGVyOmJyZWFrcG9pbnQ6cycpO1xuXG5cdFx0XHRcdCRtb2JpbGVNZW51cy5sYXN0Q2hpbGQuYXBwZW5kQ2hpbGQoJGFjY291bnQpO1xuXHRcdFx0XHQkZGVza3RvcE1lbnVzLmxhc3RDaGlsZC5hcHBlbmRDaGlsZCgkYWNjb3VudCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQkZGlzcGF0Y2goJGhlYWRlciwgJ2hlYWRlcjpicmVha3BvaW50Om5vdDpzJyk7XG5cblx0XHRcdFx0JGNsaWVudC5hcHBlbmRDaGlsZCgkYWNjb3VudCk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gb25WaWV3cG9ydElzU21hbGxNZWRpdW1DaGFuZ2UoKSB7XG5cdFx0XHRpZiAodmlld3BvcnRJc1NtYWxsTWVkaXVtLm1hdGNoZXMpIHtcblx0XHRcdFx0JGRpc3BhdGNoKCRoZWFkZXIsICdoZWFkZXI6YnJlYWtwb2ludDpzbScpO1xuXHRcdFx0XHQkKCRkZXNrdG9wTWVudXMubGFzdENoaWxkLCB7YXJpYToge2hpZGRlbjogJ2ZhbHNlJyA9PT0gJGRlc2t0b3BNZW51cy5sYXN0Q2hpbGQuZ2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJyl9fSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQkZGlzcGF0Y2goJGhlYWRlciwgJ2hlYWRlcjpicmVha3BvaW50Om5vdDpzbScpO1xuXHRcdFx0XHQkKCRkZXNrdG9wTWVudXMubGFzdENoaWxkLCB7YXJpYToge2hpZGRlbjogZmFsc2V9fSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9KTtcblxuXHRyZXR1cm4gJGhlYWRlcjtcbn07XG4iLCIvKiBHbG9iYWwgRm9vdGVyOiBUb29saW5nXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5pbXBvcnQgeyRhc3NpZ24gYXMgJCwgJGRpc3BhdGNofSBmcm9tICcuLi8uLi9zaGFyZWQvanMvc2hhcmVkJztcblxuaW1wb3J0IGxhbmd1YWdlRGlhbG9nIGZyb20gJy4vbGFuZ3VhZ2UnO1xuXG4vKiBHbG9iYWwgRm9vdGVyXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5leHBvcnQgZGVmYXVsdCAoZGF0YSwgcHJlZml4KSA9PiB7XG5cdC8vIExhbmd1YWdlIFNlbGVjdGlvbiBCdXR0b25cblx0Y29uc3QgJGxhYmVsVGV4dCA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGRhdGEuYnV0dG9uTGFiZWwpO1xuXHRjb25zdCAkY29udHJvbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuXHQkY29udHJvbC5jbGFzc0xpc3QuYWRkKGAke3ByZWZpeH0tbGFuZ3VhZ2UtY29udHJvbGApO1xuXHQkY29udHJvbC5zZXRBdHRyaWJ1dGUoJ2FyaWFEZXNjcmliZWRieScsYCR7cHJlZml4fS1sYW5ndWFnZWApO1xuXHQkY29udHJvbC5pbm5lckhUTUwgPSBkYXRhLmJ1dHRvbkxhYmVsO1xuXG5cdGNvbnN0ICRiYXJyaWVyID0gJCgnZGl2Jywge2NsYXNzOiBgJHtwcmVmaXh9LWxhbmd1YWdlYH0sICRjb250cm9sKTtcblxuXHQkY29udHJvbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9wZW5EaWFsb2cpO1xuXG5cdC8vIExhbmd1YWdlIERpYWxvZ1xuXHRkYXRhLnByZWZpeCA9IGAke3ByZWZpeH0tbGFuZ3VhZ2UtZGlhbG9nYDtcblxuXHRjb25zdCAkbGFuZ3VhZ2VEaWFsb2cgPSBsYW5ndWFnZURpYWxvZyhkYXRhKTtcblxuXHQvLyBMYW5ndWFnZSBEaWFsb2cgQ2xvc2UgQnV0dG9uXG5cdGNvbnN0ICRsYW5ndWFnZURpYWxvZ0Nsb3NlID0gJCgnYnV0dG9uJywge1xuXHRcdGNsYXNzOiBgJHtwcmVmaXh9LWxhbmd1YWdlLWRpYWxvZy1jbG9zZWAsIGlkOiAnZGlhbG9nLWRlc2NyaXB0aW9uJyxcblx0XHRhcmlhTGFiZWw6IGRhdGEuY2xvc2VMYWJlbFxuXHR9KTtcblxuXHQkbGFuZ3VhZ2VEaWFsb2dDbG9zZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlRGlhbG9nKTtcblxuXHQkKCRsYW5ndWFnZURpYWxvZywgJGxhbmd1YWdlRGlhbG9nQ2xvc2UpO1xuXG5cdC8vIExhbmd1YWdlIERpYWxvZyBDYW52YXNcblx0Y29uc3QgJGNhbmNlbENhbnZhcyA9ICQoJ2J1dHRvbicsIHtcblx0XHRjbGFzczogYCR7cHJlZml4fS1sYW5ndWFnZS1kaWFsb2ctY2FuY2VsLWNhbnZhc2AsXG5cdFx0dHlwZTogJ2J1dHRvbicsXG5cdFx0dGFiaW5kZXg6IC0xXG5cdH0pO1xuXG5cdCRjYW5jZWxDYW52YXMuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZURpYWxvZyk7XG5cblx0ZnVuY3Rpb24gb3BlbkRpYWxvZyhldmVudCkge1xuXHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cblx0XHQkKCRjYW52YXMsIHtcblx0XHRcdGFyaWE6IHtleHBhbmRlZDogdHJ1ZX1cblx0XHR9KTtcblx0fVxuXG5cdGZ1bmN0aW9uIGNsb3NlRGlhbG9nKGV2ZW50KSB7XG5cdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuXHRcdCQoJGNhbnZhcywge1xuXHRcdFx0YXJpYToge2V4cGFuZGVkOiBmYWxzZX1cblx0XHR9KTtcblx0fVxuXG5cdC8vIC4uLlxuXHRjb25zdCAkY2FudmFzID0gJCgnZGl2Jywge1xuXHRcdGNsYXNzOiBgJHtwcmVmaXh9LWxhbmd1YWdlLWRpYWxvZy1iYXJyaWVyYCxcblx0XHRhcmlhOiB7ZXhwYW5kZWQ6IGZhbHNlfVxuXHR9LCAkbGFuZ3VhZ2VEaWFsb2csICRjYW5jZWxDYW52YXMpO1xuXG5cdC8vIC4uLlxuXHQkY29udHJvbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcblx0XHQkZGlzcGF0Y2goJGNvbnRyb2wsICdmb290ZXI6Y2xpY2s6bGFuZ3VhZ2UnLCBkYXRhKTtcblx0fSk7XG5cblx0Ly8gLi4uXG5cdCRiYXJyaWVyLmFkZEV2ZW50TGlzdGVuZXIoJ2Zvb3Rlcjp1cGRhdGU6bGFuZ3VhZ2UnLCAoe2RldGFpbH0pID0+IHtcblx0XHQkY29udHJvbC5pbm5lckhUTUwgPSBkZXRhaWwuYnV0dG9uTGFiZWw7XG5cblx0XHQkYmFycmllci5vd25lckRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoXG5cdFx0XHQkY2FudmFzXG5cdFx0KTtcblxuXHRcdCRiYXJyaWVyLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsICh7a2V5Q29kZX0gPSBldmVudCkgPT4ge1xuXHRcdFx0aWYgKDI3ID09PSBrZXlDb2RlKSB7XG5cdFx0XHRcdGNsb3NlRGlhbG9nKGV2ZW50KTtcblx0XHRcdH1cblx0XHR9KTtcblx0fSk7XG5cblx0cmV0dXJuICRiYXJyaWVyO1xufTtcbiIsImltcG9ydCB7JGFzc2lnbiBhcyAkfSBmcm9tICcuLi8uLi9zaGFyZWQvanMvc2hhcmVkJztcblxuLyogTGFuZ3VhZ2Vcbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbmV4cG9ydCBkZWZhdWx0IChkYXRhKSA9PiB7XG5cdGNvbnN0ICRjaG9pY2UgPSAkKCdzZWxlY3QnLFxuXHRcdHtcblx0XHRcdGNsYXNzOiBgJHtkYXRhLnByZWZpeH0tY2hvaWNlYCxcblx0XHRcdGF1dG9mb2N1czogJycsXG5cdFx0XHRhcmlhOiB7bGFiZWw6IGRhdGEub3B0aW9uc0xhYmVsfVxuXHRcdH0sXG5cdFx0Li4uZGF0YS5vcHRpb25zLm1hcChcblx0XHRcdChvcHRpb24pID0+IHtcblx0XHRcdFx0Y29uc3Qgb3B0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XG5cdFx0XHRcdG9wdC52YWx1ZSA9IG9wdGlvbi52YWx1ZTtcblx0XHRcdFx0b3B0LmlubmVySFRNTCA9IG9wdGlvbi5sYWJlbDtcblx0XHRcdFx0cmV0dXJuIG9wdDtcblx0XHRcdH1cblx0XHQpXG5cdCk7XG5cblx0Y29uc3QgJGxhbmd1YWdlID0gJCgnZm9ybScsIHtcblx0XHRcdGNsYXNzOiBkYXRhLnByZWZpeCxcblx0XHRcdGFyaWE6IHtsYWJlbGxlZGJ5OiBgJHtkYXRhLnByZWZpeH0tbWVzc2FnZWAsIGRlc2NyaWJlZGJ5OiAnZGlhbG9nLWRlc2NyaXB0aW9uJ31cblx0XHR9LFxuXHRcdCQoJ3AnLCB7Y2xhc3M6IGAke2RhdGEucHJlZml4fS1tZXNzYWdlYCwgaWQ6IGAke2RhdGEucHJlZml4fS1tZXNzYWdlYH0sXG5cdFx0XHQkKCdzdHJvbmcnLCBkYXRhLmdyZWV0aW5nTGFiZWwpLFxuXHRcdFx0JyAnLFxuXHRcdFx0ZGF0YS5tZXNzYWdlTGFiZWxcblx0XHQpLFxuXHRcdCRjaG9pY2UsXG5cdFx0JCgnYnV0dG9uJywge1xuXHRcdFx0Y2xhc3M6IGAke2RhdGEucHJlZml4fS1zdWJtaXRgLFxuXHRcdFx0dHlwZTogJ3N1Ym1pdCcsXG5cdFx0XHRhcmlhOiB7bGFiZWw6IGAke2RhdGEuc3VibWl0TGFiZWx9ICR7ZGF0YS5vcHRpb25zTGFiZWx9YH1cblx0XHR9LCBkYXRhLnN1Ym1pdExhYmVsKVxuXHQpO1xuXG5cdCRsYW5ndWFnZS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoZXZlbnQpID0+IHtcblx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG5cdFx0d2luZG93LmxvY2F0aW9uLmhyZWYgPSAkY2hvaWNlLnZhbHVlO1xuXHR9KTtcblxuXHRyZXR1cm4gJGxhbmd1YWdlO1xufTtcbiIsIi8qIEdsb2JhbCBGb290ZXJcbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbmltcG9ydCB7JGFzc2lnbiBhcyAkLCAkZGlzcGF0Y2h9IGZyb20gJy4uLy4uL3NoYXJlZC9qcy9zaGFyZWQnO1xuXG4vLyBDcmVhdGUgbmF2aWdhdGlvblxuZXhwb3J0IGRlZmF1bHQgKGRhdGEsIHByZWZpeCkgPT4ge1xuXHQvLyAuLi5cblx0Y29uc3QgbWVkaWEgPSBtYXRjaE1lZGlhKCcobWF4LXdpZHRoOiA3MTlweCknKTtcblxuXHRsZXQgbWVkaWFNYXRjaGVzID0gZmFsc2U7XG5cblx0bWVkaWEuYWRkTGlzdGVuZXIob25jaGFuZ2UpO1xuXG5cdC8vIE1lbnUgSXRlbXNcblx0Y29uc3QgbGlua3MgPSBkYXRhLm1lbnUubWFwKFxuXHRcdChpdGVtLCBpbmRleCkgPT4gJCgnbGknLCB7Y2xhc3M6IGAke3ByZWZpeH0tbWVudS1pdGVtYCwgaWQ6IGAke3ByZWZpeH0tbWVudS1saW5rLS0ke2luZGV4fWB9LFxuXHRcdFx0JCgnc3BhbicsXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRjbGFzczogYCR7cHJlZml4fS1tZW51LWxpbmtgLFxuXHRcdFx0XHRcdHJvbGU6ICdoZWFkaW5nJ1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRpdGVtLmxhYmVsXG5cdFx0XHQpLFxuXHRcdFx0Ly8gU3VibWVudVxuXHRcdFx0JCgnZGl2Jyxcblx0XHRcdFx0e1xuXHRcdFx0XHRcdGNsYXNzOiBgJHtwcmVmaXh9LW1lbnUtLXN1YmAsIGlkOiBgJHtwcmVmaXh9LW1lbnUtLXN1Yi0tJHtpbmRleH1gLFxuXHRcdFx0XHRcdGFyaWE6IHtsYWJlbGxlZGJ5OiBgJHtwcmVmaXh9LW1lbnUtbGluay0tJHtpbmRleH1gfVxuXHRcdFx0XHR9LFxuXHRcdFx0XHQkKCd1bCcsXG5cdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0Y2xhc3M6IGAke3ByZWZpeH0tbWVudS1saXN0LS1zdWJgLFxuXHRcdFx0XHRcdFx0cm9sZTogJ3ByZXNlbnRhdGlvbidcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdC8vIFN1Ym1lbnUgSXRlbXNcblx0XHRcdFx0XHQuLi5pdGVtLm1lbnUubWFwKFxuXHRcdFx0XHRcdFx0KHN1Yml0ZW0pID0+ICQoJ2xpJywge2NsYXNzOiBgJHtwcmVmaXh9LW1lbnUtaXRlbS0tc3ViYH0sXG5cdFx0XHRcdFx0XHRcdCQoJ2EnLCB7Y2xhc3M6IGAke3ByZWZpeH0tbWVudS1saW5rLS1zdWJgLCBocmVmOiBzdWJpdGVtLmhyZWZ9LFxuXHRcdFx0XHRcdFx0XHRcdHN1Yml0ZW0ubGFiZWxcblx0XHRcdFx0XHRcdFx0KVxuXHRcdFx0XHRcdFx0KVxuXHRcdFx0XHRcdClcblx0XHRcdFx0KVxuXHRcdFx0KVxuXHRcdClcblx0KTtcblxuXHQvLyBNZW51XG5cdGNvbnN0ICR0YXJnZXQgPSAkKCdkaXYnLFxuXHRcdHtcblx0XHRcdGNsYXNzOiBgJHtwcmVmaXh9LW1lbnVgLFxuXHRcdFx0YXJpYToge2xhYmVsOiBkYXRhLmxhYmVsfVxuXHRcdH0sXG5cdFx0JCgndWwnLFxuXHRcdFx0e1xuXHRcdFx0XHRjbGFzczogYCR7cHJlZml4fS1tZW51LWxpc3RgLFxuXHRcdFx0XHRyb2xlOiAncHJlc2VudGF0aW9uJ1xuXHRcdFx0fSxcblx0XHRcdC4uLmxpbmtzXG5cdFx0KVxuXHQpO1xuXG5cdG9uY2hhbmdlKCk7XG5cblx0cmV0dXJuICR0YXJnZXQ7XG5cblx0Ly8gLi4uXG5cdGZ1bmN0aW9uIG9uY2hhbmdlKCkge1xuXHRcdGlmIChtZWRpYU1hdGNoZXMgIT09IG1lZGlhLm1hdGNoZXMpIHtcblx0XHRcdG1lZGlhTWF0Y2hlcyA9IG1lZGlhLm1hdGNoZXM7XG5cblx0XHRcdGxpbmtzLmZvckVhY2goKGxpbmspID0+IHtcblx0XHRcdFx0aWYgKG1lZGlhTWF0Y2hlcykge1xuXHRcdFx0XHRcdHRyYW5zZm9ybUFzVG91Y2gobGluay5maXJzdENoaWxkKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRkZXRyYW5zZm9ybUFzVG91Y2gobGluay5maXJzdENoaWxkKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fVxuXHR9XG5cblx0Ly8gLi4uXG5cdGZ1bmN0aW9uIHRyYW5zZm9ybUFzVG91Y2gobGluaykge1xuXHRcdGNvbnN0IGlzVmlzaWJsZSA9ICd0cnVlJyAhPT0gbGluay5uZXh0RWxlbWVudFNpYmxpbmcuZ2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicpO1xuXG5cdFx0JChsaW5rLCB7XG5cdFx0XHR0YWJpbmRleDogMCxcblx0XHRcdHJvbGU6ICdidXR0b24nLCBhcmlhOiB7ZXhwYW5kZWQ6ICFpc1Zpc2libGUsIGhhc3BvcHVwOiAhaXNWaXNpYmxlfVxuXHRcdH0pO1xuXG5cdFx0bGluay5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9uY2xpY2spO1xuXHRcdGxpbmsuYWRkRXZlbnRMaXN0ZW5lcigna2V5cHJlc3MnLCBvbmtleXByZXNzKTtcblxuXHRcdCQobGluay5uZXh0RWxlbWVudFNpYmxpbmcsIHthcmlhOiB7aGlkZGVuOiB0cnVlfX0pO1xuXHR9XG5cblx0Ly8gLi4uXG5cdGZ1bmN0aW9uIGRldHJhbnNmb3JtQXNUb3VjaChsaW5rKSB7XG5cdFx0bGluay5yZW1vdmVBdHRyaWJ1dGUoJ2FyaWEtY29udHJvbHMnKTtcblx0XHRsaW5rLnJlbW92ZUF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcpO1xuXHRcdGxpbmsucmVtb3ZlQXR0cmlidXRlKCdhcmlhLWhhc3BvcHVwJyk7XG5cdFx0bGluay5yZW1vdmVBdHRyaWJ1dGUoJ3JvbGUnKTtcblx0XHRsaW5rLnJlbW92ZUF0dHJpYnV0ZSgndGFiaW5kZXgnKTtcblxuXHRcdGxpbmsuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvbmNsaWNrKTtcblx0XHRsaW5rLmFkZEV2ZW50TGlzdGVuZXIoJ2tleXByZXNzJywgb25rZXlwcmVzcyk7XG5cblx0XHRsaW5rLm5leHRFbGVtZW50U2libGluZy5yZW1vdmVBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJyk7XG5cdH1cblxuXHQvLyAuLi5cblx0ZnVuY3Rpb24gb25jbGljayhldmVudCkge1xuXHRcdGNvbnN0IGN1cnJlbnRUYXJnZXQgPSBldmVudC5jdXJyZW50VGFyZ2V0O1xuXHRcdGNvbnN0IG5leHRUYXJnZXQgPSBjdXJyZW50VGFyZ2V0Lm5leHRFbGVtZW50U2libGluZztcblx0XHRjb25zdCBpc1Zpc2libGUgPSAndHJ1ZScgIT09IG5leHRUYXJnZXQuZ2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicpO1xuXG5cdFx0JChjdXJyZW50VGFyZ2V0LCB7YXJpYToge2V4cGFuZGVkOiAhaXNWaXNpYmxlLCBoYXNwb3B1cDogIWlzVmlzaWJsZX19KTtcblxuXHRcdCQobmV4dFRhcmdldCwge2FyaWE6IHtoaWRkZW46IGlzVmlzaWJsZX19KTtcblxuXHRcdGlmIChpc1Zpc2libGUpIHtcblx0XHRcdCQoY3VycmVudFRhcmdldCwge2FyaWE6IHtjb250cm9sczogMH19KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0JChjdXJyZW50VGFyZ2V0LCB7YXJpYToge2NvbnRyb2xzOiBuZXh0VGFyZ2V0LmlkfX0pO1xuXHRcdH1cblx0fVxuXG5cdC8vIC4uLlxuXHRmdW5jdGlvbiBvbmtleXByZXNzKGV2ZW50KSB7XG5cdFx0aWYgKGV2ZW50LmtleUNvZGUgPT09IDEzIHx8IGV2ZW50LmtleUNvZGUgPT09IDMyKSB7XG5cdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG5cdFx0XHQkZGlzcGF0Y2goZXZlbnQuY3VycmVudFRhcmdldCwgJ2NsaWNrJyk7XG5cdFx0fVxuXHR9XG59O1xuIiwiaW1wb3J0IHskYXNzaWduIGFzICQsICRkaXNwYXRjaCwgJGVuYWJsZUZvY3VzUmluZ30gZnJvbSAnLi4vLi4vc2hhcmVkL2pzL3NoYXJlZCc7XG5cbmltcG9ydCBicmFuZCBmcm9tICcuL2Zvb3Rlci1icmFuZCc7XG5pbXBvcnQgbGFuZ3VhZ2UgZnJvbSAnLi9mb290ZXItbGFuZ3VhZ2UnO1xuaW1wb3J0IG1lbnUgZnJvbSAnLi9mb290ZXItbWVudSc7XG5pbXBvcnQgaW5mbyBmcm9tICcuL2Zvb3Rlci1pbmZvJztcbmltcG9ydCBzb2NpYWwgZnJvbSAnLi9mb290ZXItc29jaWFsJztcblxuLyogR2xvYmFsIEZvb3RlclxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuZXhwb3J0IGRlZmF1bHQgKGRhdGEpID0+IHtcblx0Y29uc3QgcHJlZml4ID0gZGF0YS5wcmVmaXggfHwgJ2VzcmktZm9vdGVyJztcblxuXHQvKiBGb290ZXIgQ29tcG9uZW50c1xuXHQvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblx0Y29uc3QgJGZvb3RlckJyYW5kID0gYnJhbmQoZGF0YS5icmFuZCwgcHJlZml4KTtcblx0Y29uc3QgJGZvb3RlckluZm8gPSBpbmZvKGRhdGEuaW5mbywgcHJlZml4KTtcblx0Y29uc3QgJGZvb3Rlckxhbmd1YWdlID0gZGF0YS5sYW5ndWFnZSA/IGxhbmd1YWdlKGRhdGEubGFuZ3VhZ2UsIHByZWZpeCkgOiAkKCdkaXYnLCB7Y2xhc3M6IGBlc3JpLWZvb3Rlci1sYW5ndWFnZWB9KTtcblx0Y29uc3QgJGZvb3Rlck1lbnUgPSBtZW51KGRhdGEubWVudSwgcHJlZml4KTtcblx0Y29uc3QgJGZvb3RlclNvY2lhbCA9IHNvY2lhbChkYXRhLnNvY2lhbCwgcHJlZml4KTtcblxuXHRjb25zdCAkZm9vdGVyID0gJCgnZm9vdGVyJyxcblx0XHR7XG5cdFx0XHRjbGFzczogYCR7cHJlZml4fSAke2RhdGEuaGlkZU1lbnVzID8gJ3NraW5ueS1mb290ZXInIDogJyd9YCxcblx0XHRcdHJvbGU6ICduYXZpZ2F0aW9uJyxcblx0XHRcdGFyaWE6IHtsYWJlbDogZGF0YS5sYWJlbH1cblx0XHR9LFxuXG5cdFx0LyogQXBwZW5kIEZvb3RlciBDb21wb25lbnRzXG5cdFx0LyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cdFx0JCgnZGl2Jywge2NsYXNzOiBgJHtwcmVmaXh9LXNlY3Rpb24tLTEgJHtkYXRhLmhpZGVNZW51cyA/ICdoaWRkZW4nIDogJyd9YH0sXG5cdFx0XHQkZm9vdGVyQnJhbmQsXG5cdFx0XHQkZm9vdGVyU29jaWFsXG5cdFx0KSxcblx0XHQkKCdkaXYnLCB7Y2xhc3M6IGAke3ByZWZpeH0tc2VjdGlvbi0tMiAke2RhdGEuaGlkZU1lbnVzID8gJ2hpZGRlbicgOiAnJ31gfSxcblx0XHRcdCRmb290ZXJNZW51XG5cdFx0KSxcblx0XHQkKCdkaXYnLCB7Y2xhc3M6IGAke3ByZWZpeH0tc2VjdGlvbi0tM2B9LFxuXHRcdFx0JGZvb3Rlckxhbmd1YWdlLFxuXHRcdFx0JGZvb3RlckluZm9cblx0XHQpXG5cdCk7XG5cblx0LyogT24gRE9NTm9kZUluc2VydGVkXG5cdC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXHQkZm9vdGVyLmFkZEV2ZW50TGlzdGVuZXIoJ0RPTU5vZGVJbnNlcnRlZCcsIGZ1bmN0aW9uIG9uRE9NTm9kZUluc2VydGVkKCkge1xuXHRcdC8vIFVuYmluZCBOb2RlIEluc2VydGVkXG5cdFx0JGZvb3Rlci5yZW1vdmVFdmVudExpc3RlbmVyKCdET01Ob2RlSW5zZXJ0ZWQnLCBvbkRPTU5vZGVJbnNlcnRlZCk7XG5cblx0XHQvLyBTY3JvbGwgdG8gRm9vdGVyIG9uIGZvY3VzXG5cdFx0JGZvb3Rlci5hZGRFdmVudExpc3RlbmVyKCdmb2N1c2luJywgKCkgPT4ge1xuXHRcdFx0Y29uc3Qgc2Nyb2xsWSA9ICRmb290ZXIub3duZXJEb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsSGVpZ2h0IC0gJGZvb3Rlci5zY3JvbGxIZWlnaHQ7XG5cblx0XHRcdGlmIChzY3JvbGxZID4gJGZvb3Rlci5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3LnBhZ2VZT2Zmc2V0KSB7XG5cdFx0XHRcdCRmb290ZXIub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldy5zY3JvbGxUbygwLCBzY3JvbGxZKTtcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdGlmIChkYXRhLmhpZGVNZW51cykge1xuXHRcdFx0ZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmVzcmktZm9vdGVyLWJhcnJpZXInKS5jbGFzc0xpc3QuYWRkKCdza2lubnktZm9vdGVyJyk7XG5cdFx0fVxuXG5cdFx0Ly8gVXBkYXRlIEhlYWRlclxuXHRcdCRkaXNwYXRjaCgkZm9vdGVyLCAnZm9vdGVyOnVwZGF0ZScsIGRhdGEpO1xuXHR9KTtcblxuXHQkZW5hYmxlRm9jdXNSaW5nKCRmb290ZXIpO1xuXG5cdC8qIE9uIEZvb3RlciBVcGRhdGVcblx0LyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cdCRmb290ZXIuYWRkRXZlbnRMaXN0ZW5lcignZm9vdGVyOnVwZGF0ZScsICh7ZGV0YWlsfSkgPT4ge1xuXHRcdGlmIChkZXRhaWwuYnJhbmQpIHtcblx0XHRcdCRkaXNwYXRjaCgkZm9vdGVyQnJhbmQsICdmb290ZXI6dXBkYXRlOmJyYW5kJywgZGV0YWlsLmJyYW5kKTtcblx0XHR9XG5cblx0XHRpZiAoZGV0YWlsLmluZm8pIHtcblx0XHRcdCRkaXNwYXRjaCgkZm9vdGVySW5mbywgJ2Zvb3Rlcjp1cGRhdGU6aW5mbycsIGRldGFpbC5pbmZvKTtcblx0XHR9XG5cblx0XHRpZiAoZGV0YWlsLmxhbmd1YWdlKSB7XG5cdFx0XHQkZGlzcGF0Y2goJGZvb3Rlckxhbmd1YWdlLCAnZm9vdGVyOnVwZGF0ZTpsYW5ndWFnZScsIGRldGFpbC5sYW5ndWFnZSk7XG5cdFx0fVxuXG5cdFx0aWYgKGRldGFpbC5tZW51KSB7XG5cdFx0XHQkZGlzcGF0Y2goJGZvb3Rlck1lbnUsICdmb290ZXI6dXBkYXRlOm1lbnUnLCBkZXRhaWwubWVudSk7XG5cdFx0fVxuXG5cdFx0aWYgKGRldGFpbC5zb2NpYWwpIHtcblx0XHRcdCRkaXNwYXRjaCgkZm9vdGVyU29jaWFsLCAnZm9vdGVyOnVwZGF0ZTpzb2NpYWwnLCBkZXRhaWwuc29jaWFsKTtcblx0XHR9XG5cblx0XHQkZm9vdGVyLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgb25zY3JvbGwpO1xuXG5cdFx0b25zY3JvbGwoKTtcblxuXHRcdGZ1bmN0aW9uIG9uc2Nyb2xsKCkge1xuXHRcdFx0Y29uc3QgaGlkZGVuID0gMCA+IHdpbmRvdy5wYWdlWU9mZnNldDtcblxuXHRcdFx0JCgkZm9vdGVyLCB7ZGF0YToge2hpZGRlbn19KTtcblx0XHR9XG5cdH0pO1xuXG5cdHJldHVybiAkZm9vdGVyO1xufTtcbiIsImltcG9ydCB7JGFzc2lnbiBhcyAkLCAkcmVuZGVyU3ZnT3JJbWd9IGZyb20gJy4uLy4uL3NoYXJlZC9qcy9zaGFyZWQnO1xuXG4vLyBDcmVhdGUgYnJhbmRpbmcgYW5kIHNvY2lhbCBzZWN0aW9uc1xuZXhwb3J0IGRlZmF1bHQgKGRhdGEsIHByZWZpeCkgPT4gJCgnZGl2Jywge2NsYXNzOiBgJHtwcmVmaXh9LWJyYW5kYH0sXG5cdCQoJ2EnLFxuXHRcdHtcblx0XHRcdGNsYXNzOiBgJHtwcmVmaXh9LWJyYW5kLWxpbmtgLFxuXHRcdFx0aHJlZjogZGF0YS5ocmVmLFxuXHRcdFx0YXJpYToge2xhYmVsOiBkYXRhLmxhYmVsfVxuXHRcdH0sXG5cdFx0JHJlbmRlclN2Z09ySW1nKHtpbWdEZWY6IGRhdGEucGF0aCwgaW1nQ2xhc3M6IGAke3ByZWZpeH0tYnJhbmQtaW1hZ2VgfSlcblx0KVxuKTtcbiIsIi8qIEdsb2JhbCBGb290ZXI6IFRvb2xpbmdcbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbmltcG9ydCB7JGFzc2lnbiBhcyAkfSBmcm9tICcuLi8uLi9zaGFyZWQvanMvc2hhcmVkJztcblxuLyogR2xvYmFsIEZvb3RlclxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuZXhwb3J0IGRlZmF1bHQgKGRhdGEsIHByZWZpeCkgPT5cblx0JCgnZGl2Jywge2NsYXNzOiBgJHtwcmVmaXh9LWluZm9gLCBhcmlhOiB7bGFiZWw6IGRhdGEubGFiZWx9fSxcblx0XHQkKCd1bCcsIHtjbGFzczogYCR7cHJlZml4fS1pbmZvLWxpc3RgLCByb2xlOiAncHJlc2VudGF0aW9uJ30sXG5cdFx0XHQuLi5kYXRhLm1lbnUubWFwKFxuXHRcdFx0XHQoaXRlbSwgaW5kZXgpID0+ICQoJ2xpJywge2NsYXNzOiBgJHtwcmVmaXh9LWluZm8taXRlbWAsIGlkOiBgJHtwcmVmaXh9LWluZm8tbGluay0tJHtpbmRleH1gfSxcblx0XHRcdFx0XHQkKCdhJywge2NsYXNzOiBgJHtwcmVmaXh9LWluZm8tbGlua2AsIGhyZWY6IGl0ZW0uaHJlZn0sXG5cdFx0XHRcdFx0XHRpdGVtLmxhYmVsXG5cdFx0XHRcdFx0KVxuXHRcdFx0XHQpXG5cdFx0XHQpXG5cdFx0KVxuXHQpO1xuIiwiaW1wb3J0IHskYXNzaWduIGFzICQsICRyZW5kZXJTdmdPckltZ30gZnJvbSAnLi4vLi4vc2hhcmVkL2pzL3NoYXJlZCc7XG5cbmV4cG9ydCBkZWZhdWx0IChkYXRhLCBwcmVmaXgpID0+IHtcblx0Y29uc3QgJHNvY2lhbEljb25zID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO1xuXG5cblx0ZGF0YS5tZW51LmZvckVhY2goKGl0ZW0pID0+ICQoJHNvY2lhbEljb25zLFxuXHRcdCQoJ2xpJywge2NsYXNzOiBgJHtwcmVmaXh9LXNvY2lhbC1pdGVtYH0sXG5cdFx0XHQkKCdhJyxcblx0XHRcdFx0e1xuXHRcdFx0XHRcdGNsYXNzOiBgJHtwcmVmaXh9LXNvY2lhbC1saW5rIC0ke2l0ZW0ubGFiZWwudG9Mb3dlckNhc2UoKX1gLFxuXHRcdFx0XHRcdGhyZWY6IGl0ZW0uaHJlZixcblx0XHRcdFx0XHRhcmlhOiB7bGFiZWw6IGl0ZW0ubGFiZWx9XG5cdFx0XHRcdH0sXG5cdFx0XHRcdCRyZW5kZXJTdmdPckltZyh7aW1nRGVmOiBpdGVtLmltYWdlLnBhdGgsIGltZ0NsYXNzOiBgJHtwcmVmaXh9LXNvY2lhbC1pbWFnZWAsIGltZ1dpZHRoOiAzMCwgaW1nSGVpZ2h0OjMwLCB2aWV3Qm94IDogaXRlbS5pbWFnZS52aWV3Qm94fSlcblx0XHRcdClcblx0XHQpKSk7XG5cblx0cmV0dXJuICQoJ2RpdicsXG5cdFx0e2NsYXNzOiBgJHtwcmVmaXh9LXNvY2lhbGAsIGFyaWE6IHtsYWJlbDogZGF0YS5sYWJlbH19LFxuXHRcdCQoJ3VsJywge2NsYXNzOiBgJHtwcmVmaXh9LXNvY2lhbC1saXN0YCwgcm9sZTogJ3ByZXNlbnRhdGlvbid9LFxuXHRcdFx0JHNvY2lhbEljb25zKSk7XG59O1xuIiwiaW1wb3J0IGNyZWF0ZUhlYWRlciBmcm9tICcuL2hlYWRlci9qcy9oZWFkZXInO1xuaW1wb3J0IGNyZWF0ZUZvb3RlciBmcm9tICcuL2Zvb3Rlci9qcy9mb290ZXInO1xuXG53aW5kb3cuZXNyaUhlYWRlciA9IHtjcmVhdGU6IGNyZWF0ZUhlYWRlcn07XG53aW5kb3cuZXNyaUZvb3RlciA9IHtjcmVhdGU6IGNyZWF0ZUZvb3Rlcn07XG5cbmZ1bmN0aW9uIGJ1aWxkSGVhZGVyKHt0YXJnZXRFbG0sIG1lbnVEYXRhfSkge1xuXHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhcmdldEVsbSkuY2xhc3NMaXN0LmFkZCgnZXNyaS1oZWFkZXItYmFycmllcicpO1xuXHRjb25zdCAkZXNyaUhlYWRlciA9IGNyZWF0ZUhlYWRlcihtZW51RGF0YS5oZWFkZXIpO1xuXHRjb25zdCAkaGVhZGVyQmFycmllciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0RWxtKTtcblx0JGhlYWRlckJhcnJpZXIuYXBwZW5kQ2hpbGQoJGVzcmlIZWFkZXIpO1xufVxuXG5mdW5jdGlvbiBidWlsZEZvb3Rlcih7dGFyZ2V0RWxtLCBtZW51RGF0YX0pIHtcblx0ZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXRFbG0pLmNsYXNzTGlzdC5hZGQoJ2VzcmktZm9vdGVyLWJhcnJpZXInKTtcblx0Y29uc3QgJGVzcmlGb290ZXIgPSBjcmVhdGVGb290ZXIobWVudURhdGEuZm9vdGVyKTtcblx0Y29uc3QgJGZvb3RlckJhcnJpZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhcmdldEVsbSk7XG5cdCRmb290ZXJCYXJyaWVyLmFwcGVuZENoaWxkKCRlc3JpRm9vdGVyKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQge1xuXHRjcmVhdGVIZWFkZXI6IGJ1aWxkSGVhZGVyLFxuXHRjcmVhdGVGb290ZXI6IGJ1aWxkRm9vdGVyLFxuXHRjcmVhdGU6ICh7aGVhZGVyRWxtLCBmb290ZXJFbG0sIG1lbnVEYXRhfSkgPT4ge1xuXHRcdGJ1aWxkSGVhZGVyKHttZW51RGF0YSwgdGFyZ2V0RWxtIDogaGVhZGVyRWxtfSk7XG5cdFx0YnVpbGRGb290ZXIoe21lbnVEYXRhLCB0YXJnZXRFbG0gOiBmb290ZXJFbG19KTtcblx0fVxufTtcbiJdLCJuYW1lcyI6WyIkYXNzaWduIiwiaWQiLCJlbGVtZW50IiwiTm9kZSIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsInNsaWNlIiwiY2FsbCIsImFyZ3VtZW50cyIsImZvckVhY2giLCJzb3VyY2UiLCJhcHBlbmRDaGlsZCIsImlubmVySFRNTCIsImFzc2lnblNvdXJjZSIsInByZWZpeCIsImtleSIsImFkZEV2ZW50TGlzdGVuZXIiLCJPYmplY3QiLCJzZXRBdHRyaWJ1dGUiLCIkcmVwbGFjZUFsbCIsInBhcmVudE5vZGUiLCJsYXN0Q2hpbGQiLCJyZW1vdmVDaGlsZCIsIm5vZGVzIiwiZnJhZ21lbnQiLCJjcmVhdGVEb2N1bWVudEZyYWdtZW50Iiwibm9kZSIsImNyZWF0ZVRleHROb2RlIiwiJGRpc3BhdGNoIiwidGFyZ2V0IiwidHlwZSIsImRldGFpbCIsImV2ZW50IiwiY3JlYXRlRXZlbnQiLCJpbml0Q3VzdG9tRXZlbnQiLCJkaXNwYXRjaEV2ZW50IiwiJGVuYWJsZUZvY3VzUmluZyIsImtleWJvYXJkVGhyb3R0bGVUaW1lb3V0SUQiLCJhY3RpdmVFbGVtZW50cyIsImFjdGl2ZUVsZW1lbnQiLCJyZW1vdmVBdHRyaWJ1dGUiLCJFbGVtZW50IiwicHVzaCIsImNsZWFyVGltZW91dCIsInNldFRpbWVvdXQiLCIkcmVuZGVyU3ZnT3JJbWciLCJpbWdEZWYiLCJpbWdDbGFzcyIsImltZ1dpZHRoIiwiaW1nSGVpZ2h0Iiwidmlld0JveCIsIiR0YXJnZXRFbG0iLCIkaW1nV3JhcHBlciIsInN2Z1Byb3BzIiwiY2xhc3MiLCJyb2xlIiwid2lkdGgiLCJoZWlnaHQiLCJpbmRleE9mIiwibGVuZ3RoIiwidXJsIiwiY2FsbGJhY2siLCJvbkVycm9yIiwieGhyIiwiWE1MSHR0cFJlcXVlc3QiLCJyZWFkeVN0YXRlIiwic3RhdHVzIiwicmVzcG9uc2VUZXh0Iiwib3BlbiIsInNlbmQiLCJzdmdDb250ZW50cyIsImZpcnN0RWxlbWVudENoaWxkIiwiJGltZyIsImNyZWF0ZUVsZW1lbnROUyIsIm1hcCIsImQiLCJyZW5kZXJJbWdUYWciLCJ2YXJpYW50IiwiJHRhcmdldCIsIiQiLCJjbGFzc0xpc3QiLCJhZGQiLCIkdG9nZ2xlIiwiY29udHJvbHMiLCJleHBhbmRlZCIsImhhc3BvcHVwIiwibGFiZWxsZWRieSIsIiRjb250ZW50IiwiaGlkZGVuIiwibWVudSIsInV1aWQiLCJhcmlhIiwiaXRlbSIsInN1dWlkIiwiJGxpbmtJY29uIiwiaWNvbiIsInBhdGgiLCIkc3ViY29udHJvbCIsImhpZGVMYWJlbEluRGVza3RvcCIsImhyZWYiLCJsYWJlbCIsImRhdGEiLCIkbGkiLCJoYXNNZW51SXRlbXMiLCJtZW51cyIsImhhc0ZlYXR1cmVkSXRlbXMiLCJ0aWxlcyIsIiRzdWJ0b2dnbGUiLCIkc3ViY29udGVudCIsImZpbGxlZCIsImNoaWxkaXRlbSIsIiRzdWJsaW5rIiwibmV3Q29udGV4dCIsInF1ZXJ5U2VsZWN0b3IiLCJnZXRFbGVtZW50QnlJZCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJjb2xsYXBzZSIsImkiLCIkY29udHJvbCIsImhpZGUiLCJpbWFnZSIsImRpYWxvZyIsIiRkaWFsb2ciLCIkbGFiZWwiLCJxdWVyeUxhYmVsIiwibmFtZSIsImF1dG9jb21wbGV0ZSIsImF1dG9jb3JyZWN0Iiwic3BlbGxjaGVjayIsIiRtZWFzdXJlVGV4dE5vZGUiLCIkbWVhc3VyZVRleHQiLCIkbWVhc3VyZSIsIiRzdWJtaXQiLCJzdWJtaXRMYWJlbCIsIiRzZWFyY2giLCJhY3Rpb24iLCJmb2N1cyIsImNvbnRyb2xJc0ZpbGxlZCIsImNvbnRyb2xWYWx1ZSIsIm9uaW5wdXQiLCJ2YWx1ZSIsIm5ld0NvbnRyb2xWYWx1ZSIsIm5vZGVWYWx1ZSIsImN1cnJlbnRXaWR0aCIsInNjcm9sbFdpZHRoIiwic3R5bGUiLCJvbnN1Ym1pdCIsIm9uRE9NTm9kZUluc2VydGVkIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIm93bmVyRG9jdW1lbnQiLCJkZWZhdWx0VmlldyIsIm1hdGNoTWVkaWEiLCJhZGRMaXN0ZW5lciIsIm9udW5sb2FkIiwiZXNyaVNlYXJjaCIsIiRkaWFsb2dDYW5jZWxCdXR0b24iLCJjYW5jZWxMYWJlbCIsImdldEF0dHJpYnV0ZSIsInZpZXdwb3J0SXNTbWFsbCIsInZpZXdwb3J0SXNTbWFsbE1lZGl1bSIsIiRoZWFkZXJDYW52YXMiLCIkYnJhbmRTdHJpcGUiLCJiYWNrZ3JvdW5kQ29sb3IiLCJ0b3BTdHJpcGUiLCIkYnJhbmQiLCJicmFuZFRleHQiLCIkYnJhbmRUZXh0IiwiJGFjY291bnQiLCIkY29udHJvbFNpZ25pblRleHQiLCIkY29udHJvbFNpZ25pbiIsIiRjb250cm9sSW1hZ2UiLCIkY29udHJvbE5hbWVUZXh0IiwiJGNvbnRyb2xOYW1lIiwiJGNvbnRyb2xJZFRleHQiLCIkY29udHJvbElkIiwiJGNvbnRlbnRUb2dnbGVUZXh0IiwiJGNvbnRlbnRUb2dnbGUiLCIkY29udGVudEltYWdlIiwiJGNvbnRlbnRJbmZvTmFtZVRleHQiLCIkY29udGVudEluZm9JZFRleHQiLCIkY29udGVudEluZm9Hcm91cFRleHQiLCIkY29udGVudEluZm8iLCIkY29udGVudE1lbnUiLCIkY29udGVudFNpZ25pblN3aXRjaFRleHQiLCIkY29udGVudFNpZ25pblN3aXRjaCIsIiRjb250ZW50U2lnbmluU2lnbm91dFRleHQiLCIkY29udGVudFNpZ25pblNpZ25vdXQiLCIkY29udGVudFNpZ25pbk1lbnUiLCJzaWduaW4iLCJzd2l0Y2giLCJzaWdub3V0IiwidXNlciIsImdyb3VwIiwiY3JlYXRlQWNjb3VudCIsIiRtb2JpbGVNZW51cyIsImNyZWF0ZU1lbnVzIiwiJGRlc2t0b3BNZW51cyIsImNyZWF0ZVNlYXJjaCIsIiRhcHBzIiwiJGFwcFN3aXRjaGVySWNvbiIsIiRjb250cm9sQ29udGFpbmVyIiwiJGRyb3Bkb3duIiwiY29udGFpbnMiLCJjcmVhdGVEZWZhdWx0QXBwTGF5b3V0IiwiJHRvcEFwcENvbnRhaW5lciIsImN1cnJlbnRBcHAiLCJhYmJyZXZpYXRpb25TaXplcyIsImxpc3RJdGVtIiwiYXBwTGluayIsImFwcEltYWdlQ29udGFpbmVyIiwic3RyaW5nV2lkdGgiLCJNYXRoIiwicm91bmQiLCJnZXRUZXh0V2lkdGgiLCJhYmJyIiwiYWJicmV2aWF0aW9uU2l6ZSIsInN1YnN0ciIsInN1cmZhY2VEaXYiLCJzdXJmYWNlU3BhbiIsInBsYWNlSG9sZGVySWNvbiIsInAiLCJ0ZXh0IiwiZm9udCIsImNvbnRleHQiLCJjYW52YXMiLCJnZXRDb250ZXh0IiwibWVhc3VyZVRleHQiLCJpY29ucyIsImNsYXNzTmFtZSIsIm51bWJlck9mQXBwcyIsImRyb3Bkb3duV2lkdGgiLCJtYXhBcHBzUGVyRGlhbG9nIiwiJGRyb3Bkb3duV3JhcHBlciIsIiRkcm9wZG93bk5hdiIsImNyZWF0ZUFwcHMiLCIkY2xpZW50IiwiJGxpbmVCcmVhayIsIiRoZWFkZXIiLCJ0aGVtZSIsImJyYW5kIiwibWFyZ2luVG9wIiwiY29sbGFwc2VNZW51cyIsInNlYXJjaCIsImFjY291bnQiLCJhcHBzIiwia2V5Q29kZSIsImV2ZW50VHlwZSIsImNvbnRyb2wiLCJhY2NvdW50RGV0YWlsIiwic2VhcmNoRGV0YWlsIiwibWVudXNEZXRhaWwiLCJtZW51RGV0YWlsIiwiYXBwc0RldGFpbCIsImlzTWVudVRvZ2dsZSIsImNvbnRlbnQiLCJtYXRjaGVzIiwic3RhdGUiLCJkb2N1bWVudEVsZW1lbnQiLCJoZWFkZXItaXMtb3BlbiIsImN1cnJlbnREZXRhaWwiLCJjYW52YXNTaG91bGRDbG9zZSIsIm9ubG9hZCIsIiRoZWFkZXJEb2N1bWVudCIsIiRoZWFkZXJXaW5kb3ciLCIkc3R5bGUiLCJvdmVyZmxvd1kiLCJvbnJlc2l6ZSIsImNsaWVudFdpZHRoIiwiY2xpZW50SGVpZ2h0Iiwic2Nyb2xsSGVpZ2h0IiwiZ2V0Q29tcHV0ZWRTdHlsZSIsInJlcGxhY2UiLCJyZW1vdmUiLCJvblZpZXdwb3J0SXNTbWFsbENoYW5nZSIsIm9uVmlld3BvcnRJc1NtYWxsTWVkaXVtQ2hhbmdlIiwiaGVhZCIsImJ1dHRvbkxhYmVsIiwiJGJhcnJpZXIiLCJwcmV2ZW50RGVmYXVsdCIsIiRjYW52YXMiLCIkY2hvaWNlIiwiJGxhbmd1YWdlIiwiJGxhbmd1YWdlRGlhbG9nIiwib3B0aW9uc0xhYmVsIiwib3B0aW9ucyIsIm9wdGlvbiIsIm9wdCIsImRlc2NyaWJlZGJ5IiwiZ3JlZXRpbmdMYWJlbCIsIm1lc3NhZ2VMYWJlbCIsImxvY2F0aW9uIiwiJGxhbmd1YWdlRGlhbG9nQ2xvc2UiLCJjbG9zZUxhYmVsIiwiY2xvc2VEaWFsb2ciLCIkY2FuY2VsQ2FudmFzIiwiYm9keSIsIm1lZGlhIiwibWVkaWFNYXRjaGVzIiwib25jaGFuZ2UiLCJsaW5rcyIsImluZGV4Iiwic3ViaXRlbSIsImxpbmsiLCJpc1Zpc2libGUiLCJmaXJzdENoaWxkIiwibmV4dEVsZW1lbnRTaWJsaW5nIiwib25jbGljayIsIm9ua2V5cHJlc3MiLCJjdXJyZW50VGFyZ2V0IiwibmV4dFRhcmdldCIsIiRzb2NpYWxJY29ucyIsIiRmb290ZXJCcmFuZCIsIiRmb290ZXJJbmZvIiwiaW5mbyIsIiRmb290ZXJMYW5ndWFnZSIsImxhbmd1YWdlIiwiJGZvb3Rlck1lbnUiLCIkZm9vdGVyU29jaWFsIiwic29jaWFsIiwidG9Mb3dlckNhc2UiLCIkZm9vdGVyIiwiaGlkZU1lbnVzIiwic2Nyb2xsWSIsInBhZ2VZT2Zmc2V0Iiwic2Nyb2xsVG8iLCJvbnNjcm9sbCIsIndpbmRvdyIsImJ1aWxkSGVhZGVyIiwidGFyZ2V0RWxtIiwibWVudURhdGEiLCIkZXNyaUhlYWRlciIsImNyZWF0ZUhlYWRlciIsImhlYWRlciIsImJ1aWxkRm9vdGVyIiwiJGVzcmlGb290ZXIiLCJjcmVhdGVGb290ZXIiLCJmb290ZXIiLCJlc3JpSGVhZGVyIiwiY3JlYXRlIiwiZXNyaUZvb3RlciIsImhlYWRlckVsbSIsImZvb3RlckVsbSJdLCJtYXBwaW5ncyI6InlMQXVCQSxTQUFTQSxFQUFRQyxPQU1QQyxFQUFVRCxhQUFjRSxLQUFPRixFQUFL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"}