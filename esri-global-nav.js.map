{"version":3,"file":"esri-global-nav.js","sources":["src/shared/js/domose.js","src/shared/js/shared.js","src/header/js/header-account.js","src/header/js/header-brand.js","src/header/js/header-branding-stripe.js","src/header/js/header-menus.js","src/header/js/header-search.js","src/search/js/search.js","src/header/js/header-apps.js","src/header/js/header.js","src/footer/js/footer-language.js","src/footer/js/language.js","src/footer/js/footer-menu.js","src/footer/js/footer.js","src/footer/js/footer-brand.js","src/footer/js/footer-info.js","src/footer/js/footer-social.js","src/esri-global-nav.js"],"sourcesContent":["//  Taken from: https://raw.githubusercontent.com/jonathantneal/domose/master/domose.js\n\n/* Speculative DOM Functionality\n/* ========================================================================== */\n\nfunction assignSource(element, source, prefix) {\n    for (const key in source) {\n        if ('function' === typeof source[key]) {\n            // add functions as event listeners\n            element.addEventListener(prefix + key, source[key]);\n        } else if (Object(source[key]) === source[key]) {\n            // assign objects as source\n            assignSource(element, source[key], `${prefix + key}-`);\n        } else {\n            // otherwise, set attributes\n            element.setAttribute(prefix + key, source[key]);\n        }\n    }\n}\n\n/* Assign an element with attributes, events, and children\n/* ========================================================================== */\n\nfunction $assign(id) {\n    // $assign(element, { class: 'btn', click: () => { /* listener */ } });\n    // $assign('button', { aria: { label: 'title' } }, child);\n    // $assign('div', child1, child2, 'a new text node');\n    // $assign(document.createElementNS('http://www.w3.org/2000/svg', 'svg'));\n\n    const element = id instanceof Node ? id : document.createElement(id);\n\n    [].slice.call(arguments, 1).forEach((source) => {\n        if (source instanceof Node) {\n            // append sources that are nodes\n            element.appendChild(source);\n        } else if ('string' === typeof source) {\n            // append strings as text nodes\n            element.innerHTML = source;\n        } else {\n            assignSource(element, source, '');\n        }\n    });\n\n    return element;\n}\n\n/* Dispatch an event from an Element\n/* ========================================================================== */\n\nfunction $dispatchEvent(element, event) {\n    // $dispatchEvent(element, new CustomEvent('foo', { bubbles: true }));\n    // $dispatchEvent(element, 'foo', { bubbles: true });\n\n    return element.dispatchEvent(\n        event instanceof Event ? event : $CustomEvent(event, arguments[1])\n    );\n}\n\n/* Replace all the children of a parent node with new children\n/* ========================================================================== */\n\nfunction $replaceAll(parentNode) {\n    // $replaceAll(element);\n    // $replaceAll(element, child1, child2);\n\n    while (parentNode.lastChild) {\n        parentNode.removeChild(parentNode.lastChild);\n    }\n\n    parentNode.appendChild(\n        asFragment(arguments)\n    );\n\n    return parentNode;\n}\n\n/* Wrap a child node within an element\n/* ========================================================================== */\n\nfunction $wrapWith(childNode, element) {\n    // $wrapWith(element, wrappingElement);\n\n    if (childNode.parentNode) {\n        childNode.parentNode.insertBefore(element, childNode).appendChild(childNode);\n    }\n\n    return childNode;\n}\n\n/* Emerging DOM Functionality\n/* ========================================================================== */\n\nfunction asFragment(nodes) {\n    const fragment = document.createDocumentFragment();\n\n    [].slice.call(nodes, 1).forEach((node) => {\n        if (node instanceof Node) {\n            fragment.appendChild(node);\n        } else {\n            fragment.appendChild(\n                document.createTextNode(node)\n            );\n        }\n    });\n\n    return fragment;\n}\n\n/* Insert nodes after a child node\n/* ========================================================================== */\n\nfunction $after(childNode) {\n    // $after(element, sibling1, sibling2, 'a new text node');\n\n    if (childNode.parentNode) {\n        childNode.parentNode.insertBefore(\n            asFragment(arguments),\n            childNode.nextSibling\n        );\n    }\n\n    return childNode;\n}\n\n/* Appends nodes to a parent node\n/* ========================================================================== */\n\nfunction $append(parentNode) {\n    // $append(parentNode, child1, child2, 'a new text node');\n\n    parentNode.append(\n        asFragment(arguments)\n    );\n\n    return parentNode;\n}\n\n/* Insert nodes before an element\n/* ========================================================================== */\n\nfunction $before(element) {\n    // $before(element, sibling1, sibling2, 'a new text node');\n\n    if (element.parentNode) {\n        element.parentNode.insertBefore(\n            asFragment(arguments),\n            element\n        );\n    }\n\n    return element;\n}\n\n/* Return the closest ancestor element matching a given selector\n/* ========================================================================== */\n\nfunction $closest(element, selectors) {\n    // $closest(element, selectors);\n\n    let target = element;\n\n    while (target && 1 === target.nodeType) {\n        if ($matches(target, selectors)) {\n            return target;\n        }\n\n        target = target.parentNode;\n    }\n\n    return null;\n}\n\n/* Return whether or not a DOM element matches a given selector\n/* ========================================================================== */\n\nfunction $matches(element, selectors) {\n    // $matches(element, selectors);\n\n    const elements = element.parentNode.querySelectorAll(selectors);\n\n    let index = 0;\n\n    while (elements[index] && elements[index] !== element) {\n        ++index;\n    }\n\n    return Boolean(elements[index]);\n}\n\n/* Prepends a child to a parent node\n/* ========================================================================== */\n\nfunction $prepend(parentNode) {\n    // $prepend(element, child1, child2, 'a new text node');\n\n    parentNode.insertBefore(\n        asFragment(arguments),\n        parentNode.firstChild\n    );\n\n    return parentNode;\n}\n\n/* Remove a child node from its parent\n/* ========================================================================== */\n\nfunction $remove(childNode) {\n    // $remove(element);\n\n    if (childNode.parentNode) {\n        childNode.parentNode.removeChild(childNode);\n    }\n\n    return childNode;\n}\n\n/* Replace a child node with nodes\n/* ========================================================================== */\n\nfunction $replaceWith(childNode) {\n    // $replaceWith(element, sibling1, sibling2, 'a new text node');\n\n    if (childNode.parentNode) {\n        childNode.parentNode.replaceChild(\n            asFragment(arguments),\n            childNode\n        );\n    }\n\n    return childNode;\n}\n\n/* Emerging Event Functionality\n/* ========================================================================== */\n\n/* Create a new CustomEvent\n/* ========================================================================== */\n\nfunction $CustomEvent(type) {\n    // element.dispatchEvent(new $CustomEvent('click', { bubbles: true }));\n\n    const event = document.createEvent('CustomEvent');\n    const param = Object(arguments[1]) || {bubbles: false, cancelable: false, detail: undefined};\n\n    event.initCustomEvent(type, param.bubbles, param.cancelable, param.detail);\n\n    return event;\n}\n\n/* Fetch response text from a URL and pass it to a callback\n/* ========================================================================== */\n\nfunction $fetch(url, callback) {\n    // $fetch('api?foo=bar', (responseText) => {});\n\n    const xhr = new XMLHttpRequest();\n\n    xhr.addEventListener('readystatechange', () => {\n        if (4 === xhr.readyState && 200 === xhr.status) {\n            callback(xhr.responseText); // eslint-disable-line callback-return\n        }\n    });\n\n    xhr.open('GET', url);\n    xhr.send();\n\n    return xhr;\n}\n\n/* Export\n/* ========================================================================== */\n\nexport {\n    $assign,\n    $after,\n    $append,\n    $before,\n    $closest,\n    $CustomEvent,\n    $dispatchEvent,\n    $fetch,\n    $matches,\n    $prepend,\n    $remove,\n    $replaceAll,\n    $replaceWith,\n    $wrapWith\n};\n","import {$assign, $replaceAll} from './domose';\n\n/* Dispatch an Custom Event with a detail\n/* ========================================================================== */\n\nfunction $dispatch(target, type, detail) {\n\t// an event\n\tconst event = document.createEvent('CustomEvent');\n\n\tevent.initCustomEvent(type, true, true, detail);\n\n\ttarget.dispatchEvent(event);\n}\n\nfunction $enableFocusRing(target) {\n\t// retooled from https://github.com/jonathantneal/js-focus-ring\n\n\tlet keyboardThrottleTimeoutID;\n\n\tconst activeElements = [];\n\n\ttarget.addEventListener('blur', () => {\n\t\tactiveElements.forEach((activeElement) => {\n\t\t\tactiveElement.removeAttribute('js-focus');\n\t\t\tactiveElement.removeAttribute('js-focus-ring');\n\t\t});\n\t}, true);\n\n\ttarget.addEventListener('focus', () => {\n\t\tconst activeElement = document.activeElement;\n\n\t\tif (activeElement instanceof Element) {\n\t\t\tactiveElement.setAttribute('js-focus', '');\n\n\t\t\tif (keyboardThrottleTimeoutID) {\n\t\t\t\tactiveElement.setAttribute('js-focus-ring', '');\n\t\t\t}\n\n\t\t\tactiveElements.push(activeElement);\n\t\t}\n\t}, true);\n\n\ttarget.addEventListener('keydown', () => {\n\t\tkeyboardThrottleTimeoutID = clearTimeout(keyboardThrottleTimeoutID) || setTimeout(() => {\n\t\t\tkeyboardThrottleTimeoutID = 0;\n\t\t}, 100);\n\t}, true);\n}\n\nfunction $fetch(url, callback, onError = () => {\n}) {\n\tconst xhr = new XMLHttpRequest();\n\n\txhr.addEventListener('readystatechange', () => {\n\t\tif (4 === xhr.readyState) {\n\t\t\tif (200 === xhr.status) {\n\t\t\t\tcallback(xhr.responseText); // eslint-disable-line callback-return\n\t\t\t} else {\n\t\t\t\tonError();\n\t\t\t}\n\t\t}\n\t});\n\n\txhr.open('GET', url);\n\txhr.send();\n\n\treturn xhr;\n}\n\nfunction $renderSvgOrImg({imgDef = \"\", imgClass = \"\", imgWidth, imgHeight, viewBox, id, $targetElm}) {\n\tconst $imgWrapper = $assign('span');\n\n\tconst svgProps = {class: imgClass, role: 'presentation'};\n\tif (imgWidth && imgHeight) {\n\t\tsvgProps.width = imgWidth;\n\t\tsvgProps.height = imgHeight;\n\t}\n\tif (viewBox) {\n\t\tsvgProps.viewBox = viewBox;\n\t}\n\tif (id) {\n\t\tsvgProps.id = id;\n\t}\n\n\tif (typeof imgDef === 'string') {\n\t\tif (imgDef.indexOf('.svg') === imgDef.length - 4) {\n\t\t\t$fetch(imgDef, (svgContents) => {\n\t\t\t\t$imgWrapper.innerHTML = svgContents;\n\t\t\t\tconst $img = $imgWrapper.firstElementChild;\n\t\t\t\t$assign($img, svgProps);\n\t\t\t}, () => {\n\t\t\t\trenderImgTag({$imgWrapper, id, imgDef, imgClass, imgWidth, imgHeight});\n\t\t\t});\n\t\t} else {\n\t\t\trenderImgTag({$imgWrapper, id, imgDef, imgClass, imgWidth, imgHeight});\n\t\t}\n\t} else {\n\t\tconst $img = $assign(document.createElementNS('http://www.w3.org/2000/svg', 'svg'),\n\t\t\tsvgProps,\n\t\t\t$assign(document.createDocumentFragment(),\n\t\t\t\t...imgDef.map(\n\t\t\t\t\t(d) => $assign(\n\t\t\t\t\t\tdocument.createElementNS('http://www.w3.org/2000/svg', 'path'),\n\t\t\t\t\t\t{d}\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t));\n\t\t$imgWrapper.appendChild($img);\n\t}\n\n\tif ($targetElm) {\n\t\t$targetElm.innerHTML = '';\n\t\t$targetElm.appendChild($imgWrapper);\n\t}\n\n\treturn $imgWrapper;\n\n\tfunction renderImgTag({$imgWrapper, id, imgDef, imgClass, imgWidth, imgHeight}) {\n\t\t$imgWrapper.appendChild($assign('img', {\n\t\t\tid,\n\t\t\tsrc: imgDef,\n\t\t\tclass: imgClass,\n\t\t\tstyle:  `${imgWidth ? `width:${imgWidth}px` : ''}; ${imgHeight ? `height:${imgHeight}px` : ''}`\n\t\t}));\n\t}\n}\n\nexport {\n\t$assign,\n\t$dispatch,\n\t$enableFocusRing,\n\t$fetch,\n\t$replaceAll,\n\t$renderSvgOrImg\n};\n","import {$assign as $, $dispatch, $replaceAll, $renderSvgOrImg} from '../../shared/js/shared';\n\nconst prefix = 'esri-header-account';\n\nexport default () => {\n\tconst $target = $('div', {class: prefix});\n\n\t/* Account: Control: Signin\n\t/* ====================================================================== */\n\n\tconst $controlSigninText = document.createTextNode('');\n\tconst $controlSignin = $('button', {class: `${prefix}-control ${prefix}-control--signin`},\n\t\t$controlSigninText\n\t);\n\n\t// On Click\n\t$controlSignin.addEventListener('click', (event) => {\n\t\t$dispatch($controlSignin, 'header:click:signin', {event});\n\t});\n\n\t/* Account: Control\n\t/* ====================================================================== */\n\n\tconst $controlImage = $('span');\n\n\tconst $controlNameText = document.createTextNode('');\n\tconst $controlName = $('span', {class: `${prefix}-name`},\n\t\t$controlNameText\n\t);\n\n\tconst $controlIdText = document.createTextNode('');\n\tconst $controlId = $('span', {class: `${prefix}-id`},\n\t\t$controlIdText\n\t);\n\n\tconst $control = $('button',\n\t\t{\n\t\t\tclass: `${prefix}-control ${prefix}-control--signedin`, id: `${prefix}-control`,\n\t\t\taria: {controls: `${prefix}-menu`, expanded: false, haspopup: true}\n\t\t},\n\t\t$controlImage,\n\t\t$controlName,\n\t\t$controlId\n\t);\n\n\t// On Click\n\t$control.addEventListener('click', (event) => {\n\t\t$dispatch($control, 'header:click:account', {event});\n\n\t\t$dispatch($control, 'header:menu:toggle', {\n\t\t\taccount: true,\n\t\t\tcontrol: $control,\n\t\t\tcontent: $content,\n\t\t\tstate: 'menu',\n\t\t\ttarget: $target,\n\t\t\ttype: 'account-toggle'\n\t\t});\n\t});\n\n\t/* Account: Content\n\t/* ====================================================================== */\n\n\t// Toggle\n\tconst $contentToggleText = document.createTextNode('');\n\tconst $contentToggle = $('button', {class: `${prefix}-content-toggle`},\n\t\t$contentToggleText\n\t);\n\n\t$contentToggle.addEventListener('click', () => {\n\t\t$dispatch($contentToggle, 'header:menu:close', {\n\t\t\tcontrol: $control,\n\t\t\tcontent: $content,\n\t\t\ttype: 'account-close'\n\t\t});\n\t});\n\n\t// Image\n\tconst $contentImage = $('span');\n\n\t// Info\n\tconst $contentInfoNameText = document.createTextNode('');\n\tconst $contentInfoIdText = document.createTextNode('');\n\tconst $contentInfoGroupText = document.createTextNode('');\n\tconst $contentInfo = $('div', {class: `${prefix}-content-info`},\n\t\t$contentImage,\n\t\t$('span', {class: `${prefix}-content-name`},\n\t\t\t$contentInfoNameText\n\t\t),\n\t\t$('span', {class: `${prefix}-content-id`},\n\t\t\t$contentInfoIdText\n\t\t),\n\t\t$('span', {class: `${prefix}-content-group`},\n\t\t\t$contentInfoGroupText\n\t\t)\n\t);\n\n\t// Menu\n\tconst $contentMenu = $('ul', {\n\t\tclass: `${prefix}-content-menu`,\n\t\trole: 'navigation', aria: {labelledby: `${prefix}-control`}\n\t});\n\n\t// Switch Control\n\tconst $contentSigninSwitchText = document.createTextNode('');\n\tconst $contentSigninSwitch = $('button', {class: `${prefix}-signin-control -switch`},\n\t\t$contentSigninSwitchText\n\t);\n\n\t// Switch Control: On Click\n\t$contentSigninSwitch.addEventListener('click', (event) => {\n\t\t$dispatch($contentSigninSwitch, 'header:click:switch', {event});\n\t});\n\n\t// Signout Control\n\tconst $contentSigninSignoutText = document.createTextNode('');\n\tconst $contentSigninSignout = $('button', {class: `${prefix}-signin-control -logout`},\n\t\t$contentSigninSignoutText\n\t);\n\n\t// Signout Control: On Click\n\t$contentSigninSignout.addEventListener('click', (event) => {\n\t\t$dispatch($contentSigninSignout, 'header:click:signout', {event});\n\t});\n\n\t// Signin Menu\n\tconst $contentSigninMenu = $('ul',\n\t\t{\n\t\t\tclass: `${prefix}-signin-menu`,\n\t\t\trole: 'group'\n\t\t},\n\t\t$('li', {class: `${prefix}-signin-item`},\n\t\t\t$contentSigninSwitch\n\t\t),\n\t\t$('li', {class: `${prefix}-signin-item`},\n\t\t\t$contentSigninSignout\n\t\t)\n\t);\n\n\t// Content\n\tconst $content = $('div',\n\t\t{\n\t\t\tclass: `${prefix}-menu`, id: `${prefix}-menu`,\n\t\t\trole: 'group', aria: {expanded: false, hidden: true}\n\t\t},\n\t\t$contentToggle,\n\t\t$contentInfo,\n\t\t$contentMenu,\n\t\t$contentSigninMenu\n\t);\n\n\t/* Account: On Update\n\t/* ====================================================================== */\n\n\t$target.addEventListener('header:update:account', ({detail}) => {\n\t\t$($control, {aria: {label: detail.label}});\n\n\t\t// Update the control text\n\t\t$contentToggleText.nodeValue = detail.label;\n\t\t$controlSigninText.nodeValue = detail.controls.signin;\n\t\t$contentSigninSwitchText.nodeValue = detail.controls.switch;\n\t\t$contentSigninSignoutText.nodeValue = detail.controls.signout;\n\n\t\t// If there is a user object\n\t\tif (detail.user) {\n\t\t\t// Update the account text + image\n\t\t\t$controlNameText.nodeValue = $contentInfoNameText.nodeValue = detail.user.name;\n\t\t\t$controlIdText.nodeValue = $contentInfoIdText.nodeValue = detail.user.id;\n\t\t\t$contentInfoGroupText.nodeValue = detail.user.group;\n\n\t\t\t$renderSvgOrImg({imgDef: detail.user.image, imgClass: `${prefix}-image`, $targetElm: $controlImage});\n\t\t\t$renderSvgOrImg({imgDef: detail.user.image, imgClass: `${prefix}-content-image`, $targetElm: $contentImage});\n\n\t\t\t// Update the content menu\n\t\t\t$replaceAll($contentMenu,\n\t\t\t\t...detail.menus.map(\n\t\t\t\t\t(item) => $('li', {class: `${prefix}-content-item`},\n\t\t\t\t\t\t$('a', {class: `${prefix}-content-link`, href: item.href},\n\t\t\t\t\t\t\titem.label\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t);\n\n\t\t\t// Use the control and content\n\t\t\t$replaceAll($target, $control, $content);\n\t\t} else {\n\t\t\t// Otherwise, use the signin control\n\t\t\t$replaceAll($target, $controlSignin);\n\t\t}\n\t});\n\n\treturn $target;\n};\n","import {$assign as $, $dispatch, $replaceAll, $renderSvgOrImg} from '../../shared/js/shared';\n\nconst prefix = 'esri-header-brand';\n\nexport default () => {\n\tconst $target = $('a', {class: prefix, id: prefix});\n\n\t// On Click\n\t$target.addEventListener('click', (event) => {\n\t\t$dispatch($target, 'header:click:brand', {event});\n\t});\n\n\t/* Brand: On Update\n\t/* ====================================================================== */\n\t$target.addEventListener('header:update:brand', ({detail}) => {\n\t\t$($target, {href: detail.href});\n\t\tif (detail.image) {\n\t\t\t$($target, {aria: {label: detail.label}});\n\t\t\t$renderSvgOrImg({imgDef: detail.image, imgClass: `${prefix}-image`, imgWidth: detail.width, imgHeight:detail.height, $targetElm:$target});\n\t\t}\n\t\tif (detail.brandText) {\n\t\t\tconst textClass = detail.image ? `${prefix}-text -has-image` : `${prefix}-text`;\n\t\t\tconst $brandText = $('span', {class: textClass}, detail.brandText);\n\t\t\t$($target, $brandText);\n\t\t}\n\t});\n\n\treturn $target;\n};\n","import {$assign as $} from '../../shared/js/shared';\n\nconst prefix = 'esri-header-branding-stripe';\n\nexport default () => {\n\tconst $target = $('div', {class: prefix, id: prefix});\n\n\t/* Brand: On Update\n\t/* ====================================================================== */\n\t$target.addEventListener('header:update:brand', ({detail}) => {\n\t\t$target.style.backgroundColor = detail.topStripe;\n\t\t$target.classList.add('-visible');\n\t});\n\n\treturn $target;\n};\n\n","import {$assign as $, $dispatch, $replaceAll, $renderSvgOrImg} from '../../shared/js/shared';\n\nconst prefix = 'esri-header-menus';\n\nexport default ({variant = 'desktop'}) => {\n\tconst $target = $('div', {class: prefix, id: `${prefix}-${variant}`});\n\t$target.classList.add(`-${variant}`);\n\n\tif (variant === 'mobile') {\n\t\tconst $toggle = $('button', {\n\t\t\tclass: `${prefix}-toggle`, id: `${prefix}-${variant}-toggle`,\n\t\t\taria: {controls: `${prefix}-content`, expanded: false, haspopup: true, labelledby: 'esri-header-brand'}\n\t\t});\n\n\t\t$toggle.addEventListener('click', (event) => {\n\t\t\t$dispatch($toggle, 'header:menu:toggle', {\n\t\t\t\tcontrol: $toggle,\n\t\t\t\tcontent: $content,\n\t\t\t\troot: true,\n\t\t\t\tstate: 'menu',\n\t\t\t\ttarget: $target,\n\t\t\t\ttype: 'root-toggle',\n\t\t\t\tevent\n\t\t\t});\n\t\t});\n\n\t\t$($target, $toggle);\n\t}\n\n\t/* Menus: Content\n\t/* ====================================================================== */\n\n\tconst $content = $('div', {\n\t\tclass: `${prefix}-content`,\n\t\taria: {hidden: true, expanded: false}\n\t});\n\n\t$($target, $content);\n\n\t/* Menus\n\t/* ====================================================================== */\n\n\n\t/* Menus: On Update\n\t/* ====================================================================== */\n\n\t$target.addEventListener('header:update:menus', ({detail}) => {\n\t\t$replaceAll(\n\t\t\t$content,\n\t\t\t...detail.map(\n\t\t\t\t(menu, uuid) => $('div',\n\t\t\t\t\t{\n\t\t\t\t\t\tclass: `${prefix}-menu`,\n\t\t\t\t\t\trole: 'group'\n\t\t\t\t\t},\n\t\t\t\t\t$('ul',\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tclass: `${prefix}-list`,\n\t\t\t\t\t\t\trole: 'navigation', aria: {labelledby: 'esri-header-brand'}\n\t\t\t\t\t\t},\n\t\t\t\t\t\t...menu.map((item, suuid) => {\n\t\t\t\t\t\t\t/* Global Navigation: Menus: Link\n\t\t\t\t\t\t\t/* ====================================================== */\n\n\t\t\t\t\t\t\tconst $linkIcon = item.icon\n\t\t\t\t\t\t\t\t? $renderSvgOrImg({imgDef: item.icon.path, imgClass: `${prefix}-link-icon`, imgWidth: item.icon.width || '16px', imgHeight: item.icon.height || '16px'})\n\t\t\t\t\t\t\t\t: null;\n\n\t\t\t\t\t\t\tconst $subcontrol = $('a',\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tclass: `${prefix}-link ${item.hideLabelInDesktop ? '-hide-label' : ''}`, id: `${prefix}-link-${uuid}-${suuid}`,\n\t\t\t\t\t\t\t\t\thref: item.href || 'javascript:;' // eslint-disable-line no-script-url\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t$linkIcon,\n\t\t\t\t\t\t\t\t$('span', {class : `${prefix}-link-label`}, item.label)\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\tif (item.data) {\n\t\t\t\t\t\t\t\t$subcontrol({\n\t\t\t\t\t\t\t\t\tdata: item.data\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tconst $li = $('li', {class: `${prefix}-item`}, $subcontrol);\n\n\t\t\t\t\t\t\tconst hasMenuItems = item.menus && item.menus.length;\n\t\t\t\t\t\t\tconst hasFeaturedItems = item.tiles && item.tiles.length;\n\n\t\t\t\t\t\t\tif (hasMenuItems || hasFeaturedItems) {\n\t\t\t\t\t\t\t\t/* Global Navigation: Submenu\n\t\t\t\t\t\t\t\t/* ====================================== */\n\n\t\t\t\t\t\t\t\tconst $subtoggle = $('button', {class: `${prefix}-submenu-toggle`},\n\t\t\t\t\t\t\t\t\titem.label\n\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\tconst $subcontent = $('div',\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tclass: `${prefix}-submenu`, id: `${prefix}-${variant}-submenu-${uuid}-${suuid}`,\n\t\t\t\t\t\t\t\t\t\trole: 'group', aria: {hidden: true, expanded: false},\n\t\t\t\t\t\t\t\t\t\tdata: {filled: (item.menus && item.menus.length > 10) ? item.menus.slice(0, 18).length : ''}\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t$subtoggle\n\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\tif (hasMenuItems) {\n\t\t\t\t\t\t\t\t\t$($subcontent,\n\t\t\t\t\t\t\t\t\t\t$('ul',\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\tclass: `${prefix}-sublist`,\n\t\t\t\t\t\t\t\t\t\t\t\trole: 'navigation', aria: {labelledby: `${prefix}-${variant}-link-${uuid}-${suuid}`}\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t/* Global Navigation: Menus: Sublink\n\t\t\t\t\t\t\t\t\t\t\t/* ============================== */\n\t\t\t\t\t\t\t\t\t\t\t...item.menus.slice(0, 18).map(\n\t\t\t\t\t\t\t\t\t\t\t\t(childitem) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tconst $sublink = $('a',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass: `${prefix}-sublink`,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thref: childitem.href\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tchilditem.label\n\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (childitem.data) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t$($sublink, {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata: childitem.data\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (childitem.newContext) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t$($sublink, {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttarget: '_blank',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trel: 'noopener'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn $('li', {class: `${prefix}-subitem`},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t$sublink\n\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif (hasFeaturedItems) {\n\t\t\t\t\t\t\t\t\t// ...\n\t\t\t\t\t\t\t\t\t$($subcontent,\n\t\t\t\t\t\t\t\t\t\t$('ul',\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\tclass: `${prefix}-sublist--featured`,\n\t\t\t\t\t\t\t\t\t\t\t\trole: 'navigation', aria: {labelledby: `${prefix}-link-${uuid}-${suuid}`},\n\t\t\t\t\t\t\t\t\t\t\t\tdata: {filled: `${item.tiles.slice(0, 4).length}`}\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t/* Global Navigation: Menus: Sublink\n\t\t\t\t\t\t\t\t\t\t\t/* ============================== */\n\n\t\t\t\t\t\t\t\t\t\t\t...item.tiles.slice(0, 4).map(\n\t\t\t\t\t\t\t\t\t\t\t\t(childitem) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tconst $sublink = $('a',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass: `${prefix}-sublink--featured`,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thref: childitem.href\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t$renderSvgOrImg({imgDef: childitem.icon, imgClass: `${prefix}-sublink-image`, imgWidth: childitem.width, imgHeight: childitem.height}),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t$('span', {class: `${prefix}-sublink-text`},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tchilditem.label\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (childitem.data) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t$($sublink, {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata: childitem.data\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (childitem.newContext) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t$($sublink, {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttarget: '_blank',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trel: 'noopener'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn $('li', {class: `${prefix}-subitem--featured`},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t$sublink\n\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t$($li,\n\t\t\t\t\t\t\t\t\t$subcontent\n\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\t$subcontrol.addEventListener('click', () => {\n\t\t\t\t\t\t\t\t\t$dispatch($subcontrol, 'header:menu:toggle', {\n\t\t\t\t\t\t\t\t\t\tcontrol: $subcontrol,\n\t\t\t\t\t\t\t\t\t\tcontent: $subcontent,\n\t\t\t\t\t\t\t\t\t\tsubmenu: true,\n\t\t\t\t\t\t\t\t\t\tstate: 'menu',\n\t\t\t\t\t\t\t\t\t\ttype: 'menu-toggle'\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\t$subtoggle.addEventListener('click', () => {\n\t\t\t\t\t\t\t\t\t$dispatch($subtoggle, 'header:menu:close', {\n\t\t\t\t\t\t\t\t\t\tcontrol: $subcontrol,\n\t\t\t\t\t\t\t\t\t\tsubmenu: true,\n\t\t\t\t\t\t\t\t\t\tcontent: $subcontent,\n\t\t\t\t\t\t\t\t\t\ttype: 'menu-close'\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\treturn $li;\n\t\t\t\t\t\t})\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t)\n\t\t);\n\t});\n\n\t$target.addEventListener('header:update:collapseMenus', ({detail}) => {\n\t\tif (detail && detail.indexOf(true) > -1) {\n\t\t\tdocument.querySelector('.esri-header-menus-toggle').classList.add('-visible');\n\t\t\tdocument.getElementById('esri-header-brand').classList.add('-fit-burger');\n\t\t\tdocument.getElementById('esri-header-menus-mobile').classList.add('-always-visible');\n\n\t\t\tconst menus = [].slice.call($target.querySelectorAll('.esri-header-menus-menu'));\n\t\t\tdetail.forEach((collapse, i) => {\n\t\t\t\tif (collapse) {\n\t\t\t\t\tmenus[i].classList.add('-collapsed');\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t});\n\n\treturn $target;\n};\n","import {$assign as $, $dispatch, $replaceAll, $renderSvgOrImg} from '../../shared/js/shared';\nimport esriSearch from '../../search/js/search';\n\nconst prefix = 'esri-header-search';\n\nexport default () => {\n\t/* Search: Control\n\t/* ====================================================================== */\n\n\tconst $control = $('button',\n\t\t{\n\t\t\tclass: `${prefix}-control`, id: `${prefix}-control`,\n\t\t\taria: {expanded: false, controls: `${prefix}-content`}\n\t\t}\n\t);\n\n\t$control.addEventListener('click', (event) => {\n\t\t$dispatch($control, 'header:click:search', {event});\n\n\t\t$dispatch($control, 'header:menu:toggle', {\n\t\t\tcontrol: $control,\n\t\t\tcontent: $content,\n\t\t\tstate: 'search',\n\t\t\ttarget: $target,\n\t\t\ttype: 'search-toggle',\n\t\t\tevent\n\t\t});\n\t});\n\n\t/* Search: Content\n\t/* ====================================================================== */\n\n\tconst $content = $('div', {\n\t\tclass: `${prefix}-content`, id: `${prefix}-content`,\n\t\taria: {expanded: false, labelledby: `${prefix}-control`}\n\t});\n\n\t/* Search: Target\n\t/* ====================================================================== */\n\n\tconst $target = $('div', {class: prefix},\n\t\t$control, $content\n\t);\n\n\t/* Search: On Update\n\t/* ====================================================================== */\n\n\t$target.addEventListener('header:update:search', ({detail}) => {\n\t\tif (!detail.hide) {\n\t\t\t$($control, {aria: {label: detail.label}});\n\t\t\t$renderSvgOrImg({imgDef: detail.image, imgClass: `${prefix}-image`, id: `${prefix}-image`, $targetElm: $control});\n\n\t\t\tif (detail.dialog) {\n\t\t\t\tdetail.dialog.prefix = 'esri-header-search-dialog';\n\n\t\t\t\tconst $dialog = esriSearch(detail.dialog);\n\n\t\t\t\tconst $dialogCancelButton = $('button', {\n\t\t\t\t\t\tclass: 'esri-header-search-dialog-cancel',\n\t\t\t\t\t\ttype: 'reset'\n\t\t\t\t\t},\n\t\t\t\t\t$('span',\n\t\t\t\t\t\tdetail.dialog.cancelLabel\n\t\t\t\t\t)\n\t\t\t\t);\n\n\t\t\t\t$dialogCancelButton.addEventListener('click', (event) => {\n\t\t\t\t\t$dispatch($control, 'header:menu:close', {\n\t\t\t\t\t\tcontrol: $control,\n\t\t\t\t\t\tcontent: $content,\n\t\t\t\t\t\tstate: 'search',\n\t\t\t\t\t\ttype: 'search-close',\n\t\t\t\t\t\tevent\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\t\t$($dialog,\n\t\t\t\t\t$dialogCancelButton\n\t\t\t\t);\n\n\t\t\t\t$replaceAll($content,\n\t\t\t\t\t$dialog\n\t\t\t\t);\n\n\t\t\t\t$control.addEventListener('click', (event) => {\n\t\t\t\t\tif ('true' === $control.getAttribute('aria-expanded')) {\n\t\t\t\t\t\t$dispatch($dialog, `${detail.dialog.prefix}:focus`, {event});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t});\n\n\treturn $target;\n};\n","import {$assign as $, $dispatch} from '../../shared/js/shared';\n\n/* Search\n/* ========================================================================== */\n\nexport default (data) => {\n\t/* Elements\n\t/* ====================================================================== */\n\n\tconst $label = $('label', {\n\t\tclass: `${data.prefix}-label`,\n\t\tfor: `${data.prefix}-query-control`\n\t}, data.queryLabel);\n\n\tconst $control = $('input', {\n\t\tclass: `${data.prefix}-control`, id: `${data.prefix}-control`,\n\t\ttype: 'search', name: 'q',\n\t\tautocapitalize: 'off', autocomplete: 'off', autocorrect: 'off', spellcheck: 'false'\n\t});\n\n\tconst $measureTextNode = document.createTextNode('');\n\n\tconst $measureText = $('div', {\n\t\tclass: `${data.prefix}-measure-text`,\n\t\taria: {hidden: true}\n\t}, $measureTextNode);\n\n\tconst $measure = $('div', {class: `${data.prefix}-measure`}, $measureText);\n\n\tconst $submit = $('button', {\n\t\tclass: `${data.prefix}-submit`, type: 'submit',\n\t\taria: {label: data.submitLabel}\n\t});\n\n\tconst $search = $('form', {\n\t\tclass: `${data.prefix}-form`, action: data.action,\n\t\trole: 'search', aria: {label: data.label}\n\t}, $label, $control, $measure, $submit);\n\n\t/* Focus Event\n\t/* ====================================================================== */\n\n\t$search.addEventListener(`${data.prefix}:focus`, () => {\n\t\t$control.focus();\n\t});\n\n\t/* On Input\n\t/* ====================================================================== */\n\n\tlet controlIsFilled = false;\n\tlet controlValue = '';\n\n\tfunction oninput(event) {\n\t\t/* Conditionally Reset Control Value\n\t\t/* ================================================================== */\n\n\t\tif (event && 'reset' === event.type) {\n\t\t\t$control.value = '';\n\t\t}\n\n\t\t/* Update New Control Value\n\t\t/* ================================================================== */\n\n\t\tconst newControlValue = $control.value;\n\n\t\tif (newControlValue !== controlValue) {\n\t\t\tcontrolValue = newControlValue;\n\n\t\t\t$dispatch($search, `${data.prefix}:input`, {\n\t\t\t\tvalue: controlValue,\n\t\t\t\tevent\n\t\t\t});\n\t\t}\n\n\t\t/* Update Label and Submit UI\n\t\t/* ================================================================== */\n\n\t\tif (controlIsFilled && !newControlValue) {\n\t\t\tcontrolIsFilled = false;\n\n\t\t\t$label.removeAttribute('data-filled');\n\t\t\t$submit.removeAttribute('data-filled');\n\t\t} else if (!controlIsFilled && newControlValue) {\n\t\t\tcontrolIsFilled = true;\n\n\t\t\t$($label, {data: {filled: ''}});\n\t\t\t$($submit, {data: {filled: ''}});\n\t\t}\n\n\t\t/* Update Measure UI\n\t\t/* ================================================================== */\n\n\t\t$measureTextNode.nodeValue = newControlValue;\n\n\t\tconst currentWidth = `${$measureText.scrollWidth}px`;\n\n\t\t$measure.style.width = currentWidth;\n\t}\n\n\t/* On Submit\n\t/* ====================================================================== */\n\n\tfunction onsubmit(event) {\n\t\t$dispatch($search, `${data.prefix}:submit`, {\n\t\t\tvalue: $control.value,\n\t\t\tevent\n\t\t});\n\t}\n\n\t/* On DOMNodeInserted\n\t/* ====================================================================== */\n\n\t$search.addEventListener('DOMNodeInserted', function onDOMNodeInserted() {\n\t\t// If Search now has a parent node\n\t\tif ($search.parentNode) {\n\t\t\t// Unbind the DOMNodeInserted method\n\t\t\t$search.removeEventListener('DOMNodeInserted', onDOMNodeInserted);\n\n\t\t\t// Update Search\n\t\t\t$dispatch($search, `${data.prefix}:update`, data);\n\t\t}\n\t});\n\n\t/* On Update\n\t/* ====================================================================== */\n\n\t$search.addEventListener(`${data.prefix}:update`, () => {\n\t\t/* Bind Media Event\n\t\t/* ====================================================================== */\n\n\t\tconst media = $search.ownerDocument.defaultView.matchMedia(data.matchMedia || '(max-width: 720px)');\n\n\t\tmedia.addListener(oninput);\n\n\t\t/* Bind Other Events\n\t\t/* ================================================================== */\n\n\t\t$control.addEventListener('input', oninput);\n\n\t\t$search.addEventListener('reset', oninput);\n\t\t$search.addEventListener('submit', onsubmit);\n\t\t$search.addEventListener(`${data.prefix}:unload`, onunload);\n\t});\n\n\treturn $search;\n};\n","import {$assign as $, $dispatch, $replaceAll, $renderSvgOrImg} from '../../shared/js/shared';\n\n/* Apps\n/* ========================================================================== */\n\nconst prefix = 'esri-header-apps';\n\nexport default () => {\n\t/* Apps: Content\n\t/* ====================================================================== */\n\n\tconst $content = $('div', {\n\t\tclass: `${prefix}-content`,\n\t\tid: `${prefix}-content`,\n\t\taria: {expanded: false, labelledby: `${prefix}-control`}\n\t});\n\n\tconst $appSwitcherIcon = $('span', {\n\t\ttitle: \"App Launcher\",\n\t\t\"aria-label\": \"App Launcher Icon\"\n\t});\n\n\t/* Apps: Control\n\t/* ====================================================================== */\n\n\tconst $controlContainer = $('button', {\n\t\tclass: `${prefix}-control empty-padding`, id: `${prefix}-control`\n\t});\n\n\tconst $dropdown = $('div', {\n\t\tclass: 'dropdown'\n\t});\n\n\t$controlContainer.appendChild($dropdown);\n\n\tconst $control = $controlContainer;\n\n\t$controlContainer.addEventListener('click', (event) => {\n\t\t$dispatch($control, 'header:click:apps', {event});\n\n\t\t// Elements with following class won't trigger/dispatch the dropdown\n\t\tif (event.target.classList.contains(`${prefix}-prevent-dropdown`)) return;\n\n\t\t$dispatch($control, 'header:menu:toggle', {\n\t\t\tstate: 'menu',\n\t\t\ttarget: $target,\n\t\t\ttype: 'root-toggle',\n\t\t\tcontrol: $control,\n\t\t\tcontent: $content,\n\t\t\tevent\n\t\t});\n\t});\n\n\t/* Apps: Target\n\t/* ====================================================================== */\n\n\tconst $target = $('div', {class: prefix},\n\t\t$control\n\t);\n\n\t/* Apps: Helper Functions for Update\n\t/* ====================================================================== */\n\n\tconst createDefaultAppLayout = ($topAppContainer, currentApp) => {\n\t\tconst abbreviationSizes = [\"0px\", \"32px\", \"24px\", \"20px\", \"18px\", \"16px\", \"14px\"];\n\n\t\tconst listItem = $(\"li\", {\n\t\t\talt: \"\",\n\t\t\tclass: `${prefix}-prevent-dropdown link-off-black appLinkContainer`,\n\t\t\trole: \"menuitem\"\n\t\t});\n\n\t\tconst appLink = $(\"a\", {\n\t\t\thref: currentApp.url, // + \"#username=\" + this._currentUser.username,\n\t\t\ttarget: \"_blank\",\n\t\t\tclass: \"appLink\"\n\t\t});\n\t\t// Check if App has Icon\n\t\tif (currentApp.image) {\n\t\t\tconst appImageContainer = $(\"div\", {\"class\": \"appIconImage\"});\n\t\t\t$renderSvgOrImg({imgDef: currentApp.image, imgWidth: 48, imgHeight: 48, $targetElm: appImageContainer});\n\t\t\tappLink.appendChild(appImageContainer);\n\t\t} else {\n\t\t\tconst stringWidth = Math.round(getTextWidth(currentApp.abbr || \"\", \"avenir\") / 5);\n\t\t\tlet abbreviationSize = abbreviationSizes[stringWidth];\n\t\t\tif (stringWidth > 6) { // Prevent user from exceeding icon width\n\t\t\t\tcurrentApp.abbr = currentApp.abbr.substr(0, 4);\n\t\t\t\tabbreviationSize = abbreviationSizes[4];\n\t\t\t}\n\t\t\tconst surfaceDiv = $(\"div\", {\"class\": \"appIconImage\"});\n\t\t\tconst surfaceSpan = $(\"span\", {\n\t\t\t\tstyle: `font-size: ${abbreviationSize}`,\n\t\t\t\tclass: \"avenir appIconSvgText\"\n\t\t\t}, currentApp.abbr);\n\t\t\tsurfaceDiv.appendChild(surfaceSpan);\n\t\t\tsurfaceDiv.appendChild($renderSvgOrImg({imgDef: currentApp.placeHolderIcon, imgWidth: 48, imgHeight: 48}));\n\t\t\tappLink.appendChild(surfaceDiv);\n\t\t}\n\t\tconst p = $(\"p\", {style: \"margin:0 auto; text-align:center\"}, currentApp.label);\n\t\tappLink.appendChild(p);\n\t\tlistItem.appendChild(appLink);\n\t\t$topAppContainer.appendChild(listItem);\n\t};\n\n\tconst getTextWidth = (text, font) => { // Adds support for app abbreviations in all languages\n\t\tconst canvas = getTextWidth.canvas || (getTextWidth.canvas = document.createElement(\"canvas\"));\n\t\tconst context = canvas.getContext(\"2d\");\n\t\tcontext.font = font;\n\t\tconst metrics = context.measureText(text);\n\t\treturn metrics.width;\n\t};\n\n\t/* Apps: On Update\n\t/* ====================================================================== */\n\n\t$target.addEventListener('header:update:apps', ({detail}) => {\n\t\t$renderSvgOrImg({imgDef: detail.image.path, imgWidth: detail.image.width, imgHeight: detail.image.height, imgClass: `${prefix}-image`, $targetElm: $appSwitcherIcon});\n\n\t\tif (detail.icons) {\n\t\t\t$target.appendChild($content);\n\t\t\t$control.className = `${prefix}-control`;\n\n\t\t\t$($control, {aria: {label: detail.label}});\n\n\t\t\tconst numberOfApps = detail.icons.length;\n\t\t\tconst dropdownWidth = ` dropdown-width-${(numberOfApps < 4 ? numberOfApps : 4)}`;\n\n\t\t\t// App Icons\n\n\t\t\tconst $topAppContainer = $(\"ul\", {\n\t\t\t\tclass: `${prefix}-prevent-dropdown appContainer`,\n\t\t\t\trole: \"menu\"\n\t\t\t});\n\n\t\t\tconst maxAppsPerDialog = numberOfApps >= 100 ? 100 : numberOfApps;\n\t\t\tfor (let i = 0; i < maxAppsPerDialog; i += 1) {\n\t\t\t\tcreateDefaultAppLayout($topAppContainer, detail.icons[i]);\n\t\t\t}\n\n\t\t\t// Container\n\t\t\tconst $dropdownWrapper = $('div', {class: `${prefix}-prevent-dropdown`}, $topAppContainer);\n\n\t\t\tconst $dropdownNav = $('nav', {\n\t\t\t\tclass: `${prefix}-prevent-dropdown dropdown-menu dropdown-right app-switcher-dropdown-menu ${dropdownWidth}`,\n\t\t\t\trole: \"menu\"\n\t\t\t}, $dropdownWrapper);\n\n\t\t\t$replaceAll($dropdown, $appSwitcherIcon, $dropdownNav);\n\t\t}\n\t});\n\n\treturn $target;\n};\n","import {$assign as $, $dispatch, $enableFocusRing, $replaceAll} from '../../shared/js/shared';\n\nimport createAccount from './header-account';\nimport createBrand from './header-brand';\nimport createBrandStripe from './header-branding-stripe';\nimport createMenus from './header-menus';\nimport createSearch from './header-search';\nimport createApps from './header-apps';\n\n/* Header\n/* ====================================================================== */\n\nexport default (data) => {\n\tlet viewportIsSmall;\n\tlet viewportIsSmallMedium;\n\n\t/* Canvas\n\t/* ====================================================================== */\n\n\tconst $headerCanvas = $('button', {\n\t\tclass: 'esri-header-canvas',\n\t\ttabindex: '-1',\n\t\tdata: {open: false}\n\t});\n\n\t$headerCanvas.addEventListener('click', () => {\n\t\t$dispatch($headerCanvas, 'header:menu:close');\n\t});\n\n\t/* Elements\n\t/* ====================================================================== */\n\n\tconst $brandStripe = createBrandStripe();\n\tconst $brand = createBrand();\n\tconst $account = createAccount();\n\tconst $mobileMenus = createMenus({variant: 'mobile'});\n\tconst $desktopMenus = createMenus({variant: 'desktop'});\n\tconst $search = createSearch();\n\tconst $apps = createApps();\n\n\tconst $client = $('div', {class: 'esri-header-client'},\n\t\t$account\n\t);\n\n\tconst $lineBreak = $('div', {class: 'esri-header-lineBreak'});\n\n\tconst $header = $('div', {class: `esri-header -${data.theme || 'web'}`},\n\t\t$headerCanvas,\n\t\t$brandStripe,\n\t\t$brand,\n\t\t$mobileMenus,\n\t\t$desktopMenus,\n\t\t$search,\n\t\t$lineBreak,\n\t\t$apps,\n\t\t$client\n\t);\n\n\t$enableFocusRing($header);\n\n\t/* On Header Update\n\t/* ====================================================================== */\n\n\t$header.addEventListener('header:update', ({detail}) => {\n\t\tif (detail.brand) {\n\t\t\tif (detail.brand.topStripe) {\n\t\t\t\t$dispatch($brandStripe, 'header:update:brand', detail.brand);\n\t\t\t\t$header.style.marginTop = '3px';\n\t\t\t}\n\t\t\t$dispatch($brand, 'header:update:brand', detail.brand);\n\t\t}\n\n\t\tif (detail.menus) {\n\t\t\t$dispatch($desktopMenus, 'header:update:menus', detail.menus);\n\t\t\t$dispatch($mobileMenus, 'header:update:menus', detail.menus);\n\t\t}\n\n\t\tif (detail.collapseMenus) {\n\t\t\t$dispatch($desktopMenus, 'header:update:collapseMenus', detail.collapseMenus);\n\t\t\t$dispatch($mobileMenus, 'header:update:collapseMenus', detail.collapseMenus);\n\t\t}\n\n\t\tif (detail.search) {\n\t\t\t$dispatch($search, 'header:update:search', detail.search);\n\t\t}\n\n\t\tif (detail.account) {\n\t\t\t$dispatch($client.lastChild, 'header:update:account', detail.account);\n\t\t}\n\n\t\tif (detail.account) {\n\t\t\t$dispatch($client.lastChild, 'header:update:account', detail.account);\n\t\t}\n\n\t\tif (detail.apps) {\n\t\t\t$dispatch($apps, 'header:update:apps', detail.apps);\n\t\t}\n\n\t\t$header.ownerDocument.defaultView.addEventListener('keydown', ({keyCode}) => {\n\t\t\tif (27 === keyCode) {\n\t\t\t\t$dispatch($header, 'header:menu:close');\n\t\t\t}\n\t\t});\n\t});\n\n\t/* On Header Menu Toggle\n\t/* ====================================================================== */\n\n\t$header.addEventListener('header:menu:toggle', ({detail}) => {\n\t\tconst submenuShouldOpen = 'true' !== detail.control.getAttribute('aria-expanded');\n\t\tconst eventType = submenuShouldOpen ? 'header:menu:open' : 'header:menu:close';\n\n\t\t$dispatch(detail.control, eventType, detail);\n\t});\n\n\t/* On Header Menu Open\n\t/* ====================================================================== */\n\n\tlet accountDetail = null;\n\tlet searchDetail = null;\n\tlet menusDetail = null;\n\tlet menuDetail = null;\n\tlet appsDetail = null;\n\n\t$header.addEventListener('header:menu:open', ({detail}) => {\n\t\tconst isMenuToggle = 'menu-toggle' === detail.type;\n\n\t\t// Update Control, Content\n\t\t$(detail.control, {aria: {expanded: true}});\n\t\t$(detail.content, {aria: {expanded: true, hidden: false}});\n\n\t\tif (menuDetail && menuDetail.control !== detail.control) {\n\t\t\t$dispatch(menuDetail.control, 'header:menu:close', menuDetail);\n\t\t}\n\n\t\tif ('menu-toggle' === detail.type) {\n\t\t\tmenuDetail = detail;\n\t\t}\n\n\t\tif ($search === detail.target) {\n\t\t\tsearchDetail = detail;\n\t\t} else if (searchDetail) {\n\t\t\t$dispatch($search, 'header:menu:close', searchDetail);\n\t\t\tsearchDetail = null;\n\t\t}\n\n\t\tif ($desktopMenus === detail.target || $mobileMenus === detail.target) {\n\t\t\tmenusDetail = detail;\n\t\t} else if (menusDetail && !isMenuToggle && !viewportIsSmall.matches) {\n\t\t\t$dispatch($desktopMenus, 'header:menu:close', menusDetail);\n\t\t\t$dispatch($mobileMenus, 'header:menu:close', menusDetail);\n\t\t\tmenusDetail = null;\n\t\t}\n\n\t\tif ($account === detail.target) {\n\t\t\taccountDetail = detail;\n\t\t} else if (accountDetail) {\n\t\t\t$dispatch($account, 'header:menu:close', accountDetail);\n\n\t\t\taccountDetail = null;\n\t\t}\n\n\t\tif ($apps === detail.target) {\n\t\t\tappsDetail = detail;\n\t\t} else if (appsDetail) {\n\t\t\t$dispatch($apps, 'header:menu:close', appsDetail);\n\n\t\t\tappsDetail = null;\n\t\t}\n\n\t\t// Update Canvas\n\t\t$($headerCanvas, {data: {open: true, state: detail.state}});\n\n\t\t// Update Document Root\n\t\t$($header.ownerDocument.documentElement, {data: {'header-is-open': true}});\n\t});\n\n\t/* On Header Menu Close\n\t/* ====================================================================== */\n\n\t$header.addEventListener('header:menu:close', ({detail}) => {\n\t\tconst currentDetail = detail || menusDetail || searchDetail || accountDetail || appsDetail || menuDetail;\n\n\t\tif (currentDetail) {\n\t\t\t// Close the Detail\n\t\t\t$(currentDetail.control, {aria: {expanded: false}});\n\t\t\t$(currentDetail.content, {aria: {expanded: false, hidden: true}});\n\n\t\t\tconst canvasShouldClose = !viewportIsSmallMedium.matches || 'menu-close' !== currentDetail.type && 'account-close' !== currentDetail.type;\n\n\t\t\tif (searchDetail && searchDetail.control === currentDetail.control) {\n\t\t\t\t$dispatch(searchDetail.content.lastChild, 'reset');\n\t\t\t}\n\n\t\t\tif (canvasShouldClose) {\n\t\t\t\t// Close the Canvas\n\t\t\t\t$($headerCanvas, {data: {open: false}});\n\n\t\t\t\t// Update Document Root\n\t\t\t\t$header.ownerDocument.documentElement.removeAttribute('data-header-is-open');\n\t\t\t}\n\t\t}\n\t});\n\n\t/* On DOMNodeInserted\n\t/* ====================================================================== */\n\n\t$header.addEventListener('DOMNodeInserted', function onload() {\n\t\t// Get Document and Window\n\t\tconst $headerDocument = $header.ownerDocument;\n\t\tconst $headerWindow = $headerDocument.defaultView;\n\n\t\tconst $style = $('style');\n\n\t\tlet overflowY;\n\n\t\tif ($header.parentNode) {\n\t\t\t// Unbind Node Inserted\n\t\t\t$header.removeEventListener('DOMNodeInserted', onload);\n\n\t\t\t// Update Header\n\t\t\t$dispatch($header, 'header:update', data);\n\n\t\t\t/* On Resize\n\t\t\t/* ============================================================== */\n\n\t\t\t$($headerDocument.head,\n\t\t\t\t$style\n\t\t\t);\n\n\t\t\t$headerWindow.addEventListener('orientationchange', onresize);\n\t\t\t$headerWindow.addEventListener('resize', onresize);\n\n\t\t\t/* On Match Media Change\n\t\t\t/* ============================================================== */\n\n\t\t\tviewportIsSmall = $headerWindow.matchMedia('(max-width: 767px)');\n\t\t\tviewportIsSmallMedium = $headerWindow.matchMedia('(max-width: 1023px)');\n\n\t\t\tviewportIsSmall.addListener(onViewportIsSmallChange);\n\t\t\tviewportIsSmallMedium.addListener(onViewportIsSmallMediumChange);\n\n\t\t\tonViewportIsSmallChange();\n\t\t\tonViewportIsSmallMediumChange();\n\n\t\t\tonresize();\n\t\t}\n\n\t\tfunction onresize() {\n\t\t\tconst width = $headerDocument.documentElement.clientWidth;\n\t\t\tconst height = $headerDocument.documentElement.clientHeight;\n\t\t\tconst scrollHeight = $headerDocument.documentElement.scrollHeight;\n\n\t\t\toverflowY = getComputedStyle($headerDocument.documentElement).overflowY.replace('visible', scrollHeight > height ? 'scroll' : 'visible');\n\n\t\t\t$replaceAll($style,\n\t\t\t\t`:root{--esri-vw:${width}px;--esri-vh:${height}px}[data-header-is-open]{width:${width}px;height:${height}px;overflow-y:${overflowY}}`\n\t\t\t);\n\n\t\t\tviewportIsSmallMedium = $headerWindow.matchMedia('(max-width: 1023px)');\n\t\t\tif (viewportIsSmallMedium.matches) {\n\t\t\t\t$desktopMenus.querySelector('.esri-header-menus-content').classList.add('hidden');\n\t\t\t\t$mobileMenus.querySelector('.esri-header-menus-content').classList.remove('hidden');\n\t\t\t} else {\n\t\t\t\t$desktopMenus.querySelector('.esri-header-menus-content').classList.remove('hidden');\n\t\t\t\t$mobileMenus.querySelector('.esri-header-menus-content').classList.add('hidden');\n\t\t\t}\n\t\t}\n\n\t\tfunction onViewportIsSmallChange() {\n\t\t\tif (viewportIsSmall.matches) {\n\t\t\t\t$dispatch($header, 'header:breakpoint:s');\n\n\t\t\t\t$mobileMenus.lastChild.appendChild($account);\n\t\t\t\t$desktopMenus.lastChild.appendChild($account);\n\t\t\t} else {\n\t\t\t\t$dispatch($header, 'header:breakpoint:not:s');\n\n\t\t\t\t$client.appendChild($account);\n\t\t\t}\n\t\t}\n\n\t\tfunction onViewportIsSmallMediumChange() {\n\t\t\tif (viewportIsSmallMedium.matches) {\n\t\t\t\t$dispatch($header, 'header:breakpoint:sm');\n\t\t\t\t$($desktopMenus.lastChild, {aria: {hidden: 'false' === $desktopMenus.lastChild.getAttribute('aria-expanded')}});\n\t\t\t} else {\n\t\t\t\t$dispatch($header, 'header:breakpoint:not:sm');\n\t\t\t\t$($desktopMenus.lastChild, {aria: {hidden: false}});\n\t\t\t}\n\t\t}\n\t});\n\n\treturn $header;\n};\n","/* Global Footer: Tooling\n/* ========================================================================== */\n\nimport {$assign as $, $dispatch} from '../../shared/js/shared';\n\nimport languageDialog from './language';\n\n/* Global Footer\n/* ========================================================================== */\n\nexport default (data, prefix) => {\n\t// Language Selection Button\n\tconst $labelText = document.createTextNode(data.buttonLabel);\n\tconst $control = document.createElement('button');\n\t$control.classList.add(`${prefix}-language-control`);\n\t$control.setAttribute('ariaDescribedby',`${prefix}-language`);\n\t$control.innerHTML = data.buttonLabel;\n\n\tconst $barrier = $('div', {class: `${prefix}-language`}, $control);\n\n\t$control.addEventListener('click', openDialog);\n\n\t// Language Dialog\n\tdata.prefix = `${prefix}-language-dialog`;\n\n\tconst $languageDialog = languageDialog(data);\n\n\t// Language Dialog Close Button\n\tconst $languageDialogClose = $('button', {\n\t\tclass: `${prefix}-language-dialog-close`, id: 'dialog-description',\n\t\tariaLabel: data.closeLabel\n\t});\n\n\t$languageDialogClose.addEventListener('click', closeDialog);\n\n\t$($languageDialog, $languageDialogClose);\n\n\t// Language Dialog Canvas\n\tconst $cancelCanvas = $('button', {\n\t\tclass: `${prefix}-language-dialog-cancel-canvas`,\n\t\ttype: 'button',\n\t\ttabindex: -1\n\t});\n\n\t$cancelCanvas.addEventListener('click', closeDialog);\n\n\tfunction openDialog(event) {\n\t\tevent.preventDefault();\n\n\t\t$($canvas, {\n\t\t\taria: {expanded: true}\n\t\t});\n\t}\n\n\tfunction closeDialog(event) {\n\t\tevent.preventDefault();\n\n\t\t$($canvas, {\n\t\t\taria: {expanded: false}\n\t\t});\n\t}\n\n\t// ...\n\tconst $canvas = $('div', {\n\t\tclass: `${prefix}-language-dialog-barrier`,\n\t\taria: {expanded: false}\n\t}, $languageDialog, $cancelCanvas);\n\n\t// ...\n\t$control.addEventListener('click', () => {\n\t\t$dispatch($control, 'footer:click:language', data);\n\t});\n\n\t// ...\n\t$barrier.addEventListener('footer:update:language', ({detail}) => {\n\t\t$control.innerHTML = detail.buttonLabel;\n\n\t\t$barrier.ownerDocument.body.appendChild(\n\t\t\t$canvas\n\t\t);\n\n\t\t$barrier.ownerDocument.defaultView.addEventListener('keydown', ({keyCode} = event) => {\n\t\t\tif (27 === keyCode) {\n\t\t\t\tcloseDialog(event);\n\t\t\t}\n\t\t});\n\t});\n\n\treturn $barrier;\n};\n","import {$assign as $} from '../../shared/js/shared';\n\n/* Language\n/* ========================================================================== */\n\nexport default (data) => {\n\tconst $choice = $('select',\n\t\t{\n\t\t\tclass: `${data.prefix}-choice`,\n\t\t\tautofocus: '',\n\t\t\taria: {label: data.optionsLabel}\n\t\t},\n\t\t...data.options.map(\n\t\t\t(option) => {\n\t\t\t\tconst opt = document.createElement('option');\n\t\t\t\topt.value = option.value;\n\t\t\t\topt.innerHTML = option.label;\n\t\t\t\treturn opt;\n\t\t\t}\n\t\t)\n\t);\n\n\tconst $language = $('form', {\n\t\t\tclass: data.prefix,\n\t\t\taria: {labelledby: `${data.prefix}-message`, describedby: 'dialog-description'}\n\t\t},\n\t\t$('p', {class: `${data.prefix}-message`, id: `${data.prefix}-message`},\n\t\t\t$('strong', data.greetingLabel),\n\t\t\t' ',\n\t\t\tdata.messageLabel\n\t\t),\n\t\t$choice,\n\t\t$('button', {\n\t\t\tclass: `${data.prefix}-submit`,\n\t\t\ttype: 'submit',\n\t\t\taria: {label: `${data.submitLabel} ${data.optionsLabel}`}\n\t\t}, data.submitLabel)\n\t);\n\n\t$language.addEventListener('submit', (event) => {\n\t\tevent.preventDefault();\n\n\t\twindow.location.href = $choice.value;\n\t});\n\n\treturn $language;\n};\n","/* Global Footer\n/* ========================================================================== */\n\nimport {$assign as $, $dispatch} from '../../shared/js/shared';\n\n// Create navigation\nexport default (data, prefix) => {\n\t// ...\n\tconst media = matchMedia('(max-width: 719px)');\n\n\tlet mediaMatches = false;\n\n\tmedia.addListener(onchange);\n\n\t// Menu Items\n\tconst links = data.menu.map(\n\t\t(item, index) => $('li', {class: `${prefix}-menu-item`, id: `${prefix}-menu-link--${index}`},\n\t\t\t$('span',\n\t\t\t\t{\n\t\t\t\t\tclass: `${prefix}-menu-link`,\n\t\t\t\t\trole: 'heading'\n\t\t\t\t},\n\t\t\t\titem.label\n\t\t\t),\n\t\t\t// Submenu\n\t\t\t$('div',\n\t\t\t\t{\n\t\t\t\t\tclass: `${prefix}-menu--sub`, id: `${prefix}-menu--sub--${index}`,\n\t\t\t\t\taria: {labelledby: `${prefix}-menu-link--${index}`}\n\t\t\t\t},\n\t\t\t\t$('ul',\n\t\t\t\t\t{\n\t\t\t\t\t\tclass: `${prefix}-menu-list--sub`,\n\t\t\t\t\t\trole: 'presentation'\n\t\t\t\t\t},\n\t\t\t\t\t// Submenu Items\n\t\t\t\t\t...item.menu.map(\n\t\t\t\t\t\t(subitem) => $('li', {class: `${prefix}-menu-item--sub`},\n\t\t\t\t\t\t\t$('a', {class: `${prefix}-menu-link--sub`, href: subitem.href},\n\t\t\t\t\t\t\t\tsubitem.label\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t)\n\t\t)\n\t);\n\n\t// Menu\n\tconst $target = $('div',\n\t\t{\n\t\t\tclass: `${prefix}-menu`,\n\t\t\taria: {label: data.label}\n\t\t},\n\t\t$('ul',\n\t\t\t{\n\t\t\t\tclass: `${prefix}-menu-list`,\n\t\t\t\trole: 'presentation'\n\t\t\t},\n\t\t\t...links\n\t\t)\n\t);\n\n\tonchange();\n\n\treturn $target;\n\n\t// ...\n\tfunction onchange() {\n\t\tif (mediaMatches !== media.matches) {\n\t\t\tmediaMatches = media.matches;\n\n\t\t\tlinks.forEach((link) => {\n\t\t\t\tif (mediaMatches) {\n\t\t\t\t\ttransformAsTouch(link.firstChild);\n\t\t\t\t} else {\n\t\t\t\t\tdetransformAsTouch(link.firstChild);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\t// ...\n\tfunction transformAsTouch(link) {\n\t\tconst isVisible = 'true' !== link.nextElementSibling.getAttribute('aria-hidden');\n\n\t\t$(link, {\n\t\t\ttabindex: 0,\n\t\t\trole: 'button', aria: {expanded: !isVisible, haspopup: !isVisible}\n\t\t});\n\n\t\tlink.addEventListener('click', onclick);\n\t\tlink.addEventListener('keypress', onkeypress);\n\n\t\t$(link.nextElementSibling, {aria: {hidden: true}});\n\t}\n\n\t// ...\n\tfunction detransformAsTouch(link) {\n\t\tlink.removeAttribute('aria-controls');\n\t\tlink.removeAttribute('aria-expanded');\n\t\tlink.removeAttribute('aria-haspopup');\n\t\tlink.removeAttribute('role');\n\t\tlink.removeAttribute('tabindex');\n\n\t\tlink.addEventListener('click', onclick);\n\t\tlink.addEventListener('keypress', onkeypress);\n\n\t\tlink.nextElementSibling.removeAttribute('aria-hidden');\n\t}\n\n\t// ...\n\tfunction onclick(event) {\n\t\tconst currentTarget = event.currentTarget;\n\t\tconst nextTarget = currentTarget.nextElementSibling;\n\t\tconst isVisible = 'true' !== nextTarget.getAttribute('aria-hidden');\n\n\t\t$(currentTarget, {aria: {expanded: !isVisible, haspopup: !isVisible}});\n\n\t\t$(nextTarget, {aria: {hidden: isVisible}});\n\n\t\tif (isVisible) {\n\t\t\t$(currentTarget, {aria: {controls: 0}});\n\t\t} else {\n\t\t\t$(currentTarget, {aria: {controls: nextTarget.id}});\n\t\t}\n\t}\n\n\t// ...\n\tfunction onkeypress(event) {\n\t\tif (event.keyCode === 13 || event.keyCode === 32) {\n\t\t\tevent.preventDefault();\n\n\t\t\t$dispatch(event.currentTarget, 'click');\n\t\t}\n\t}\n};\n","import {$assign as $, $dispatch, $enableFocusRing} from '../../shared/js/shared';\n\nimport brand from './footer-brand';\nimport language from './footer-language';\nimport menu from './footer-menu';\nimport info from './footer-info';\nimport social from './footer-social';\n\n/* Global Footer\n/* ========================================================================== */\n\nexport default (data) => {\n\tconst prefix = data.prefix || 'esri-footer';\n\n\t/* Footer Components\n\t/* ====================================================================== */\n\n\tconst $footerBrand = brand(data.brand, prefix);\n\tconst $footerInfo = info(data.info, prefix);\n\tconst $footerLanguage = data.language ? language(data.language, prefix) : $('div', {class: `esri-footer-language`});\n\tconst $footerMenu = menu(data.menu, prefix);\n\tconst $footerSocial = social(data.social, prefix);\n\n\tconst $footer = $('footer',\n\t\t{\n\t\t\tclass: `${prefix} ${data.hideMenus ? 'skinny-footer' : ''}`,\n\t\t\trole: 'navigation',\n\t\t\taria: {label: data.label}\n\t\t},\n\n\t\t/* Append Footer Components\n\t\t/* ================================================================== */\n\t\t$('div', {class: `${prefix}-section--1 ${data.hideMenus ? 'hidden' : ''}`},\n\t\t\t$footerBrand,\n\t\t\t$footerSocial\n\t\t),\n\t\t$('div', {class: `${prefix}-section--2 ${data.hideMenus ? 'hidden' : ''}`},\n\t\t\t$footerMenu\n\t\t),\n\t\t$('div', {class: `${prefix}-section--3`},\n\t\t\t$footerLanguage,\n\t\t\t$footerInfo\n\t\t)\n\t);\n\n\t/* On DOMNodeInserted\n\t/* ====================================================================== */\n\n\t$footer.addEventListener('DOMNodeInserted', function onDOMNodeInserted() {\n\t\t// Unbind Node Inserted\n\t\t$footer.removeEventListener('DOMNodeInserted', onDOMNodeInserted);\n\n\t\t// Scroll to Footer on focus\n\t\t$footer.addEventListener('focusin', () => {\n\t\t\tconst scrollY = $footer.ownerDocument.documentElement.scrollHeight - $footer.scrollHeight;\n\n\t\t\tif (scrollY > $footer.ownerDocument.defaultView.pageYOffset) {\n\t\t\t\t$footer.ownerDocument.defaultView.scrollTo(0, scrollY);\n\t\t\t}\n\t\t});\n\n\t\tif (data.hideMenus) {\n\t\t\tdocument.querySelector('.esri-footer-barrier').classList.add('skinny-footer');\n\t\t}\n\n\t\t// Update Header\n\t\t$dispatch($footer, 'footer:update', data);\n\t});\n\n\t$enableFocusRing($footer);\n\n\t/* On Footer Update\n\t/* ====================================================================== */\n\n\t$footer.addEventListener('footer:update', ({detail}) => {\n\t\tif (detail.brand) {\n\t\t\t$dispatch($footerBrand, 'footer:update:brand', detail.brand);\n\t\t}\n\n\t\tif (detail.info) {\n\t\t\t$dispatch($footerInfo, 'footer:update:info', detail.info);\n\t\t}\n\n\t\tif (detail.language) {\n\t\t\t$dispatch($footerLanguage, 'footer:update:language', detail.language);\n\t\t}\n\n\t\tif (detail.menu) {\n\t\t\t$dispatch($footerMenu, 'footer:update:menu', detail.menu);\n\t\t}\n\n\t\tif (detail.social) {\n\t\t\t$dispatch($footerSocial, 'footer:update:social', detail.social);\n\t\t}\n\n\t\t$footer.ownerDocument.defaultView.addEventListener('scroll', onscroll);\n\n\t\tonscroll();\n\n\t\tfunction onscroll() {\n\t\t\tconst hidden = 0 > window.pageYOffset;\n\n\t\t\t$($footer, {data: {hidden}});\n\t\t}\n\t});\n\n\treturn $footer;\n};\n","import {$assign as $, $renderSvgOrImg} from '../../shared/js/shared';\n\n// Create branding and social sections\nexport default (data, prefix) => $('div', {class: `${prefix}-brand`},\n\t$('a',\n\t\t{\n\t\t\tclass: `${prefix}-brand-link`,\n\t\t\thref: data.href,\n\t\t\taria: {label: data.label}\n\t\t},\n\t\t$renderSvgOrImg({imgDef: data.path, imgClass: `${prefix}-brand-image`})\n\t)\n);\n","/* Global Footer: Tooling\n/* ========================================================================== */\n\nimport {$assign as $} from '../../shared/js/shared';\n\n/* Global Footer\n/* ========================================================================== */\n\nexport default (data, prefix) =>\n\t$('div', {class: `${prefix}-info`, aria: {label: data.label}},\n\t\t$('ul', {class: `${prefix}-info-list`, role: 'presentation'},\n\t\t\t...data.menu.map(\n\t\t\t\t(item, index) => $('li', {class: `${prefix}-info-item`, id: `${prefix}-info-link--${index}`},\n\t\t\t\t\t$('a', {class: `${prefix}-info-link`, href: item.href},\n\t\t\t\t\t\titem.label\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t)\n\t\t)\n\t);\n","import {$assign as $, $renderSvgOrImg} from '../../shared/js/shared';\n\nexport default (data, prefix) => {\n\tconst $socialIcons = document.createDocumentFragment();\n\n\n\tdata.menu.forEach((item) => $($socialIcons,\n\t\t$('li', {class: `${prefix}-social-item`},\n\t\t\t$('a',\n\t\t\t\t{\n\t\t\t\t\tclass: `${prefix}-social-link -${item.label.toLowerCase()}`,\n\t\t\t\t\thref: item.href,\n\t\t\t\t\taria: {label: item.label}\n\t\t\t\t},\n\t\t\t\t$renderSvgOrImg({imgDef: item.image.path, imgClass: `${prefix}-social-image`, imgWidth: 30, imgHeight:30, viewBox : item.image.viewBox})\n\t\t\t)\n\t\t)));\n\n\treturn $('div',\n\t\t{class: `${prefix}-social`, aria: {label: data.label}},\n\t\t$('ul', {class: `${prefix}-social-list`, role: 'presentation'},\n\t\t\t$socialIcons));\n};\n","import createHeader from './header/js/header';\nimport createFooter from './footer/js/footer';\n\nwindow.esriHeader = {create: createHeader};\nwindow.esriFooter = {create: createFooter};\n\nfunction buildHeader({targetElm, menuData}) {\n\tdocument.querySelector(targetElm).classList.add('esri-header-barrier');\n\tconst $esriHeader = createHeader(menuData.header);\n\tconst $headerBarrier = document.querySelector(targetElm);\n\t$headerBarrier.appendChild($esriHeader);\n}\n\nfunction buildFooter({targetElm, menuData}) {\n\tdocument.querySelector(targetElm).classList.add('esri-footer-barrier');\n\tconst $esriFooter = createFooter(menuData.footer);\n\tconst $footerBarrier = document.querySelector(targetElm);\n\t$footerBarrier.appendChild($esriFooter);\n}\n\nexport default {\n\tcreateHeader: buildHeader,\n\tcreateFooter: buildFooter,\n\tcreate: ({headerElm, footerElm, menuData}) => {\n\t\tbuildHeader({menuData, targetElm : headerElm});\n\t\tbuildFooter({menuData, targetElm : footerElm});\n\t}\n};\n"],"names":["$assign","id","element","Node","document","createElement","slice","call","arguments","forEach","source","appendChild","innerHTML","assignSource","prefix","key","addEventListener","Object","setAttribute","$replaceAll","parentNode","lastChild","removeChild","nodes","fragment","createDocumentFragment","node","createTextNode","$dispatch","target","type","detail","event","createEvent","initCustomEvent","dispatchEvent","$enableFocusRing","keyboardThrottleTimeoutID","activeElements","activeElement","removeAttribute","Element","push","clearTimeout","setTimeout","$renderSvgOrImg","imgDef","imgClass","imgWidth","imgHeight","viewBox","$targetElm","$imgWrapper","svgProps","class","role","width","height","indexOf","length","url","callback","onError","xhr","XMLHttpRequest","readyState","status","responseText","open","send","svgContents","firstElementChild","$img","createElementNS","map","d","renderImgTag","variant","$target","$","classList","add","$toggle","controls","expanded","haspopup","labelledby","$content","hidden","menu","uuid","aria","item","suuid","$linkIcon","icon","path","$subcontrol","hideLabelInDesktop","href","label","data","$li","hasMenuItems","menus","hasFeaturedItems","tiles","$subtoggle","$subcontent","filled","childitem","$sublink","newContext","querySelector","getElementById","querySelectorAll","collapse","i","$control","hide","image","dialog","$dialog","$label","queryLabel","name","autocomplete","autocorrect","spellcheck","$measureTextNode","$measureText","$measure","$submit","submitLabel","$search","action","focus","controlIsFilled","controlValue","oninput","value","newControlValue","nodeValue","currentWidth","scrollWidth","style","onsubmit","onDOMNodeInserted","removeEventListener","ownerDocument","defaultView","matchMedia","addListener","onunload","esriSearch","$dialogCancelButton","cancelLabel","getAttribute","viewportIsSmall","viewportIsSmallMedium","$headerCanvas","$brandStripe","backgroundColor","topStripe","$brand","brandText","$brandText","$account","$controlSigninText","$controlSignin","$controlImage","$controlNameText","$controlName","$controlIdText","$controlId","$contentToggleText","$contentToggle","$contentImage","$contentInfoNameText","$contentInfoIdText","$contentInfoGroupText","$contentInfo","$contentMenu","$contentSigninSwitchText","$contentSigninSwitch","$contentSigninSignoutText","$contentSigninSignout","$contentSigninMenu","signin","switch","signout","user","group","createAccount","$mobileMenus","createMenus","$desktopMenus","createSearch","$apps","$appSwitcherIcon","$controlContainer","$dropdown","contains","createDefaultAppLayout","$topAppContainer","currentApp","abbreviationSizes","listItem","appLink","appImageContainer","stringWidth","Math","round","getTextWidth","abbr","abbreviationSize","substr","surfaceDiv","surfaceSpan","placeHolderIcon","p","text","font","context","canvas","getContext","measureText","icons","className","numberOfApps","dropdownWidth","maxAppsPerDialog","$dropdownWrapper","$dropdownNav","createApps","$client","$lineBreak","$header","theme","brand","marginTop","collapseMenus","search","account","apps","keyCode","eventType","control","accountDetail","searchDetail","menusDetail","menuDetail","appsDetail","isMenuToggle","content","matches","state","documentElement","header-is-open","currentDetail","canvasShouldClose","onload","$headerDocument","$headerWindow","$style","overflowY","onresize","clientWidth","clientHeight","scrollHeight","getComputedStyle","replace","remove","onViewportIsSmallChange","onViewportIsSmallMediumChange","head","buttonLabel","$barrier","preventDefault","$canvas","$choice","$language","$languageDialog","optionsLabel","options","option","opt","describedby","greetingLabel","messageLabel","location","$languageDialogClose","closeLabel","closeDialog","$cancelCanvas","body","media","mediaMatches","onchange","links","index","subitem","link","isVisible","firstChild","nextElementSibling","onclick","onkeypress","currentTarget","nextTarget","$socialIcons","$footerBrand","$footerInfo","info","$footerLanguage","language","$footerMenu","$footerSocial","social","toLowerCase","$footer","hideMenus","scrollY","pageYOffset","scrollTo","onscroll","window","buildHeader","targetElm","menuData","$esriHeader","createHeader","header","buildFooter","$esriFooter","createFooter","footer","esriHeader","create","esriFooter","headerElm","footerElm"],"mappings":"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","preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjpudWxsLCJzb3VyY2VzIjpbIi9Vc2Vycy9wYXVsY3BlZGVyc29uL0RvY3VtZW50cy9Qcm9qZWN0cy9nbG9iYWwtbmF2L3NyYy9zaGFyZWQvanMvZG9tb3NlLmpzIiwiL1VzZXJzL3BhdWxjcGVkZXJzb24vRG9jdW1lbnRzL1Byb2plY3RzL2dsb2JhbC1uYXYvc3JjL3NoYXJlZC9qcy9zaGFyZWQuanMiLCIvVXNlcnMvcGF1bGNwZWRlcnNvbi9Eb2N1bWVudHMvUHJvamVjdHMvZ2xvYmFsLW5hdi9zcmMvaGVhZGVyL2pzL2hlYWRlci1hY2NvdW50LmpzIiwiL1VzZXJzL3BhdWxjcGVkZXJzb24vRG9jdW1lbnRzL1Byb2plY3RzL2dsb2JhbC1uYXYvc3JjL2hlYWRlci9qcy9oZWFkZXItYnJhbmQuanMiLCIvVXNlcnMvcGF1bGNwZWRlcnNvbi9Eb2N1bWVudHMvUHJvamVjdHMvZ2xvYmFsLW5hdi9zcmMvaGVhZGVyL2pzL2hlYWRlci1icmFuZGluZy1zdHJpcGUuanMiLCIvVXNlcnMvcGF1bGNwZWRlcnNvbi9Eb2N1bWVudHMvUHJvamVjdHMvZ2xvYmFsLW5hdi9zcmMvaGVhZGVyL2pzL2hlYWRlci1tZW51cy5qcyIsIi9Vc2Vycy9wYXVsY3BlZGVyc29uL0RvY3VtZW50cy9Qcm9qZWN0cy9nbG9iYWwtbmF2L3NyYy9oZWFkZXIvanMvaGVhZGVyLXNlYXJjaC5qcyIsIi9Vc2Vycy9wYXVsY3BlZGVyc29uL0RvY3VtZW50cy9Qcm9qZWN0cy9nbG9iYWwtbmF2L3NyYy9zZWFyY2gvanMvc2VhcmNoLmpzIiwiL1VzZXJzL3BhdWxjcGVkZXJzb24vRG9jdW1lbnRzL1Byb2plY3RzL2dsb2JhbC1uYXYvc3JjL2hlYWRlci9qcy9oZWFkZXItYXBwcy5qcyIsIi9Vc2Vycy9wYXVsY3BlZGVyc29uL0RvY3VtZW50cy9Qcm9qZWN0cy9nbG9iYWwtbmF2L3NyYy9oZWFkZXIvanMvaGVhZGVyLmpzIiwiL1VzZXJzL3BhdWxjcGVkZXJzb24vRG9jdW1lbnRzL1Byb2plY3RzL2dsb2JhbC1uYXYvc3JjL2Zvb3Rlci9qcy9mb290ZXItbGFuZ3VhZ2UuanMiLCIvVXNlcnMvcGF1bGNwZWRlcnNvbi9Eb2N1bWVudHMvUHJvamVjdHMvZ2xvYmFsLW5hdi9zcmMvZm9vdGVyL2pzL2xhbmd1YWdlLmpzIiwiL1VzZXJzL3BhdWxjcGVkZXJzb24vRG9jdW1lbnRzL1Byb2plY3RzL2dsb2JhbC1uYXYvc3JjL2Zvb3Rlci9qcy9mb290ZXItbWVudS5qcyIsIi9Vc2Vycy9wYXVsY3BlZGVyc29uL0RvY3VtZW50cy9Qcm9qZWN0cy9nbG9iYWwtbmF2L3NyYy9mb290ZXIvanMvZm9vdGVyLmpzIiwiL1VzZXJzL3BhdWxjcGVkZXJzb24vRG9jdW1lbnRzL1Byb2plY3RzL2dsb2JhbC1uYXYvc3JjL2Zvb3Rlci9qcy9mb290ZXItYnJhbmQuanMiLCIvVXNlcnMvcGF1bGNwZWRlcnNvbi9Eb2N1bWVudHMvUHJvamVjdHMvZ2xvYmFsLW5hdi9zcmMvZm9vdGVyL2pzL2Zvb3Rlci1pbmZvLmpzIiwiL1VzZXJzL3BhdWxjcGVkZXJzb24vRG9jdW1lbnRzL1Byb2plY3RzL2dsb2JhbC1uYXYvc3JjL2Zvb3Rlci9qcy9mb290ZXItc29jaWFsLmpzIiwiL1VzZXJzL3BhdWxjcGVkZXJzb24vRG9jdW1lbnRzL1Byb2plY3RzL2dsb2JhbC1uYXYvc3JjL2VzcmktZ2xvYmFsLW5hdi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyAgVGFrZW4gZnJvbTogaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2pvbmF0aGFudG5lYWwvZG9tb3NlL21hc3Rlci9kb21vc2UuanNcblxuLyogU3BlY3VsYXRpdmUgRE9NIEZ1bmN0aW9uYWxpdHlcbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbmZ1bmN0aW9uIGFzc2lnblNvdXJjZShlbGVtZW50LCBzb3VyY2UsIHByZWZpeCkge1xuICAgIGZvciAoY29uc3Qga2V5IGluIHNvdXJjZSkge1xuICAgICAgICBpZiAoJ2Z1bmN0aW9uJyA9PT0gdHlwZW9mIHNvdXJjZVtrZXldKSB7XG4gICAgICAgICAgICAvLyBhZGQgZnVuY3Rpb25zIGFzIGV2ZW50IGxpc3RlbmVyc1xuICAgICAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKHByZWZpeCArIGtleSwgc291cmNlW2tleV0pO1xuICAgICAgICB9IGVsc2UgaWYgKE9iamVjdChzb3VyY2Vba2V5XSkgPT09IHNvdXJjZVtrZXldKSB7XG4gICAgICAgICAgICAvLyBhc3NpZ24gb2JqZWN0cyBhcyBzb3VyY2VcbiAgICAgICAgICAgIGFzc2lnblNvdXJjZShlbGVtZW50LCBzb3VyY2Vba2V5XSwgYCR7cHJlZml4ICsga2V5fS1gKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIG90aGVyd2lzZSwgc2V0IGF0dHJpYnV0ZXNcbiAgICAgICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKHByZWZpeCArIGtleSwgc291cmNlW2tleV0pO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vKiBBc3NpZ24gYW4gZWxlbWVudCB3aXRoIGF0dHJpYnV0ZXMsIGV2ZW50cywgYW5kIGNoaWxkcmVuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5mdW5jdGlvbiAkYXNzaWduKGlkKSB7XG4gICAgLy8gJGFzc2lnbihlbGVtZW50LCB7IGNsYXNzOiAnYnRuJywgY2xpY2s6ICgpID0+IHsgLyogbGlzdGVuZXIgKi8gfSB9KTtcbiAgICAvLyAkYXNzaWduKCdidXR0b24nLCB7IGFyaWE6IHsgbGFiZWw6ICd0aXRsZScgfSB9LCBjaGlsZCk7XG4gICAgLy8gJGFzc2lnbignZGl2JywgY2hpbGQxLCBjaGlsZDIsICdhIG5ldyB0ZXh0IG5vZGUnKTtcbiAgICAvLyAkYXNzaWduKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCAnc3ZnJykpO1xuXG4gICAgY29uc3QgZWxlbWVudCA9IGlkIGluc3RhbmNlb2YgTm9kZSA/IGlkIDogZG9jdW1lbnQuY3JlYXRlRWxlbWVudChpZCk7XG5cbiAgICBbXS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSkuZm9yRWFjaCgoc291cmNlKSA9PiB7XG4gICAgICAgIGlmIChzb3VyY2UgaW5zdGFuY2VvZiBOb2RlKSB7XG4gICAgICAgICAgICAvLyBhcHBlbmQgc291cmNlcyB0aGF0IGFyZSBub2Rlc1xuICAgICAgICAgICAgZWxlbWVudC5hcHBlbmRDaGlsZChzb3VyY2UpO1xuICAgICAgICB9IGVsc2UgaWYgKCdzdHJpbmcnID09PSB0eXBlb2Ygc291cmNlKSB7XG4gICAgICAgICAgICAvLyBhcHBlbmQgc3RyaW5ncyBhcyB0ZXh0IG5vZGVzXG4gICAgICAgICAgICBlbGVtZW50LmlubmVySFRNTCA9IHNvdXJjZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFzc2lnblNvdXJjZShlbGVtZW50LCBzb3VyY2UsICcnKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIGVsZW1lbnQ7XG59XG5cbi8qIERpc3BhdGNoIGFuIGV2ZW50IGZyb20gYW4gRWxlbWVudFxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuZnVuY3Rpb24gJGRpc3BhdGNoRXZlbnQoZWxlbWVudCwgZXZlbnQpIHtcbiAgICAvLyAkZGlzcGF0Y2hFdmVudChlbGVtZW50LCBuZXcgQ3VzdG9tRXZlbnQoJ2ZvbycsIHsgYnViYmxlczogdHJ1ZSB9KSk7XG4gICAgLy8gJGRpc3BhdGNoRXZlbnQoZWxlbWVudCwgJ2ZvbycsIHsgYnViYmxlczogdHJ1ZSB9KTtcblxuICAgIHJldHVybiBlbGVtZW50LmRpc3BhdGNoRXZlbnQoXG4gICAgICAgIGV2ZW50IGluc3RhbmNlb2YgRXZlbnQgPyBldmVudCA6ICRDdXN0b21FdmVudChldmVudCwgYXJndW1lbnRzWzFdKVxuICAgICk7XG59XG5cbi8qIFJlcGxhY2UgYWxsIHRoZSBjaGlsZHJlbiBvZiBhIHBhcmVudCBub2RlIHdpdGggbmV3IGNoaWxkcmVuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5mdW5jdGlvbiAkcmVwbGFjZUFsbChwYXJlbnROb2RlKSB7XG4gICAgLy8gJHJlcGxhY2VBbGwoZWxlbWVudCk7XG4gICAgLy8gJHJlcGxhY2VBbGwoZWxlbWVudCwgY2hpbGQxLCBjaGlsZDIpO1xuXG4gICAgd2hpbGUgKHBhcmVudE5vZGUubGFzdENoaWxkKSB7XG4gICAgICAgIHBhcmVudE5vZGUucmVtb3ZlQ2hpbGQocGFyZW50Tm9kZS5sYXN0Q2hpbGQpO1xuICAgIH1cblxuICAgIHBhcmVudE5vZGUuYXBwZW5kQ2hpbGQoXG4gICAgICAgIGFzRnJhZ21lbnQoYXJndW1lbnRzKVxuICAgICk7XG5cbiAgICByZXR1cm4gcGFyZW50Tm9kZTtcbn1cblxuLyogV3JhcCBhIGNoaWxkIG5vZGUgd2l0aGluIGFuIGVsZW1lbnRcbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbmZ1bmN0aW9uICR3cmFwV2l0aChjaGlsZE5vZGUsIGVsZW1lbnQpIHtcbiAgICAvLyAkd3JhcFdpdGgoZWxlbWVudCwgd3JhcHBpbmdFbGVtZW50KTtcblxuICAgIGlmIChjaGlsZE5vZGUucGFyZW50Tm9kZSkge1xuICAgICAgICBjaGlsZE5vZGUucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZWxlbWVudCwgY2hpbGROb2RlKS5hcHBlbmRDaGlsZChjaGlsZE5vZGUpO1xuICAgIH1cblxuICAgIHJldHVybiBjaGlsZE5vZGU7XG59XG5cbi8qIEVtZXJnaW5nIERPTSBGdW5jdGlvbmFsaXR5XG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5mdW5jdGlvbiBhc0ZyYWdtZW50KG5vZGVzKSB7XG4gICAgY29uc3QgZnJhZ21lbnQgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XG5cbiAgICBbXS5zbGljZS5jYWxsKG5vZGVzLCAxKS5mb3JFYWNoKChub2RlKSA9PiB7XG4gICAgICAgIGlmIChub2RlIGluc3RhbmNlb2YgTm9kZSkge1xuICAgICAgICAgICAgZnJhZ21lbnQuYXBwZW5kQ2hpbGQobm9kZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmcmFnbWVudC5hcHBlbmRDaGlsZChcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShub2RlKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIGZyYWdtZW50O1xufVxuXG4vKiBJbnNlcnQgbm9kZXMgYWZ0ZXIgYSBjaGlsZCBub2RlXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5mdW5jdGlvbiAkYWZ0ZXIoY2hpbGROb2RlKSB7XG4gICAgLy8gJGFmdGVyKGVsZW1lbnQsIHNpYmxpbmcxLCBzaWJsaW5nMiwgJ2EgbmV3IHRleHQgbm9kZScpO1xuXG4gICAgaWYgKGNoaWxkTm9kZS5wYXJlbnROb2RlKSB7XG4gICAgICAgIGNoaWxkTm9kZS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShcbiAgICAgICAgICAgIGFzRnJhZ21lbnQoYXJndW1lbnRzKSxcbiAgICAgICAgICAgIGNoaWxkTm9kZS5uZXh0U2libGluZ1xuICAgICAgICApO1xuICAgIH1cblxuICAgIHJldHVybiBjaGlsZE5vZGU7XG59XG5cbi8qIEFwcGVuZHMgbm9kZXMgdG8gYSBwYXJlbnQgbm9kZVxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuZnVuY3Rpb24gJGFwcGVuZChwYXJlbnROb2RlKSB7XG4gICAgLy8gJGFwcGVuZChwYXJlbnROb2RlLCBjaGlsZDEsIGNoaWxkMiwgJ2EgbmV3IHRleHQgbm9kZScpO1xuXG4gICAgcGFyZW50Tm9kZS5hcHBlbmQoXG4gICAgICAgIGFzRnJhZ21lbnQoYXJndW1lbnRzKVxuICAgICk7XG5cbiAgICByZXR1cm4gcGFyZW50Tm9kZTtcbn1cblxuLyogSW5zZXJ0IG5vZGVzIGJlZm9yZSBhbiBlbGVtZW50XG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5mdW5jdGlvbiAkYmVmb3JlKGVsZW1lbnQpIHtcbiAgICAvLyAkYmVmb3JlKGVsZW1lbnQsIHNpYmxpbmcxLCBzaWJsaW5nMiwgJ2EgbmV3IHRleHQgbm9kZScpO1xuXG4gICAgaWYgKGVsZW1lbnQucGFyZW50Tm9kZSkge1xuICAgICAgICBlbGVtZW50LnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKFxuICAgICAgICAgICAgYXNGcmFnbWVudChhcmd1bWVudHMpLFxuICAgICAgICAgICAgZWxlbWVudFxuICAgICAgICApO1xuICAgIH1cblxuICAgIHJldHVybiBlbGVtZW50O1xufVxuXG4vKiBSZXR1cm4gdGhlIGNsb3Nlc3QgYW5jZXN0b3IgZWxlbWVudCBtYXRjaGluZyBhIGdpdmVuIHNlbGVjdG9yXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5mdW5jdGlvbiAkY2xvc2VzdChlbGVtZW50LCBzZWxlY3RvcnMpIHtcbiAgICAvLyAkY2xvc2VzdChlbGVtZW50LCBzZWxlY3RvcnMpO1xuXG4gICAgbGV0IHRhcmdldCA9IGVsZW1lbnQ7XG5cbiAgICB3aGlsZSAodGFyZ2V0ICYmIDEgPT09IHRhcmdldC5ub2RlVHlwZSkge1xuICAgICAgICBpZiAoJG1hdGNoZXModGFyZ2V0LCBzZWxlY3RvcnMpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGFyZ2V0O1xuICAgICAgICB9XG5cbiAgICAgICAgdGFyZ2V0ID0gdGFyZ2V0LnBhcmVudE5vZGU7XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG59XG5cbi8qIFJldHVybiB3aGV0aGVyIG9yIG5vdCBhIERPTSBlbGVtZW50IG1hdGNoZXMgYSBnaXZlbiBzZWxlY3RvclxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuZnVuY3Rpb24gJG1hdGNoZXMoZWxlbWVudCwgc2VsZWN0b3JzKSB7XG4gICAgLy8gJG1hdGNoZXMoZWxlbWVudCwgc2VsZWN0b3JzKTtcblxuICAgIGNvbnN0IGVsZW1lbnRzID0gZWxlbWVudC5wYXJlbnROb2RlLnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3JzKTtcblxuICAgIGxldCBpbmRleCA9IDA7XG5cbiAgICB3aGlsZSAoZWxlbWVudHNbaW5kZXhdICYmIGVsZW1lbnRzW2luZGV4XSAhPT0gZWxlbWVudCkge1xuICAgICAgICArK2luZGV4O1xuICAgIH1cblxuICAgIHJldHVybiBCb29sZWFuKGVsZW1lbnRzW2luZGV4XSk7XG59XG5cbi8qIFByZXBlbmRzIGEgY2hpbGQgdG8gYSBwYXJlbnQgbm9kZVxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuZnVuY3Rpb24gJHByZXBlbmQocGFyZW50Tm9kZSkge1xuICAgIC8vICRwcmVwZW5kKGVsZW1lbnQsIGNoaWxkMSwgY2hpbGQyLCAnYSBuZXcgdGV4dCBub2RlJyk7XG5cbiAgICBwYXJlbnROb2RlLmluc2VydEJlZm9yZShcbiAgICAgICAgYXNGcmFnbWVudChhcmd1bWVudHMpLFxuICAgICAgICBwYXJlbnROb2RlLmZpcnN0Q2hpbGRcbiAgICApO1xuXG4gICAgcmV0dXJuIHBhcmVudE5vZGU7XG59XG5cbi8qIFJlbW92ZSBhIGNoaWxkIG5vZGUgZnJvbSBpdHMgcGFyZW50XG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5mdW5jdGlvbiAkcmVtb3ZlKGNoaWxkTm9kZSkge1xuICAgIC8vICRyZW1vdmUoZWxlbWVudCk7XG5cbiAgICBpZiAoY2hpbGROb2RlLnBhcmVudE5vZGUpIHtcbiAgICAgICAgY2hpbGROb2RlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoY2hpbGROb2RlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gY2hpbGROb2RlO1xufVxuXG4vKiBSZXBsYWNlIGEgY2hpbGQgbm9kZSB3aXRoIG5vZGVzXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5mdW5jdGlvbiAkcmVwbGFjZVdpdGgoY2hpbGROb2RlKSB7XG4gICAgLy8gJHJlcGxhY2VXaXRoKGVsZW1lbnQsIHNpYmxpbmcxLCBzaWJsaW5nMiwgJ2EgbmV3IHRleHQgbm9kZScpO1xuXG4gICAgaWYgKGNoaWxkTm9kZS5wYXJlbnROb2RlKSB7XG4gICAgICAgIGNoaWxkTm9kZS5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZChcbiAgICAgICAgICAgIGFzRnJhZ21lbnQoYXJndW1lbnRzKSxcbiAgICAgICAgICAgIGNoaWxkTm9kZVxuICAgICAgICApO1xuICAgIH1cblxuICAgIHJldHVybiBjaGlsZE5vZGU7XG59XG5cbi8qIEVtZXJnaW5nIEV2ZW50IEZ1bmN0aW9uYWxpdHlcbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbi8qIENyZWF0ZSBhIG5ldyBDdXN0b21FdmVudFxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuZnVuY3Rpb24gJEN1c3RvbUV2ZW50KHR5cGUpIHtcbiAgICAvLyBlbGVtZW50LmRpc3BhdGNoRXZlbnQobmV3ICRDdXN0b21FdmVudCgnY2xpY2snLCB7IGJ1YmJsZXM6IHRydWUgfSkpO1xuXG4gICAgY29uc3QgZXZlbnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnQ3VzdG9tRXZlbnQnKTtcbiAgICBjb25zdCBwYXJhbSA9IE9iamVjdChhcmd1bWVudHNbMV0pIHx8IHtidWJibGVzOiBmYWxzZSwgY2FuY2VsYWJsZTogZmFsc2UsIGRldGFpbDogdW5kZWZpbmVkfTtcblxuICAgIGV2ZW50LmluaXRDdXN0b21FdmVudCh0eXBlLCBwYXJhbS5idWJibGVzLCBwYXJhbS5jYW5jZWxhYmxlLCBwYXJhbS5kZXRhaWwpO1xuXG4gICAgcmV0dXJuIGV2ZW50O1xufVxuXG4vKiBGZXRjaCByZXNwb25zZSB0ZXh0IGZyb20gYSBVUkwgYW5kIHBhc3MgaXQgdG8gYSBjYWxsYmFja1xuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuZnVuY3Rpb24gJGZldGNoKHVybCwgY2FsbGJhY2spIHtcbiAgICAvLyAkZmV0Y2goJ2FwaT9mb289YmFyJywgKHJlc3BvbnNlVGV4dCkgPT4ge30pO1xuXG4gICAgY29uc3QgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG5cbiAgICB4aHIuYWRkRXZlbnRMaXN0ZW5lcigncmVhZHlzdGF0ZWNoYW5nZScsICgpID0+IHtcbiAgICAgICAgaWYgKDQgPT09IHhoci5yZWFkeVN0YXRlICYmIDIwMCA9PT0geGhyLnN0YXR1cykge1xuICAgICAgICAgICAgY2FsbGJhY2soeGhyLnJlc3BvbnNlVGV4dCk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgY2FsbGJhY2stcmV0dXJuXG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIHhoci5vcGVuKCdHRVQnLCB1cmwpO1xuICAgIHhoci5zZW5kKCk7XG5cbiAgICByZXR1cm4geGhyO1xufVxuXG4vKiBFeHBvcnRcbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbmV4cG9ydCB7XG4gICAgJGFzc2lnbixcbiAgICAkYWZ0ZXIsXG4gICAgJGFwcGVuZCxcbiAgICAkYmVmb3JlLFxuICAgICRjbG9zZXN0LFxuICAgICRDdXN0b21FdmVudCxcbiAgICAkZGlzcGF0Y2hFdmVudCxcbiAgICAkZmV0Y2gsXG4gICAgJG1hdGNoZXMsXG4gICAgJHByZXBlbmQsXG4gICAgJHJlbW92ZSxcbiAgICAkcmVwbGFjZUFsbCxcbiAgICAkcmVwbGFjZVdpdGgsXG4gICAgJHdyYXBXaXRoXG59O1xuIiwiaW1wb3J0IHskYXNzaWduLCAkcmVwbGFjZUFsbH0gZnJvbSAnLi9kb21vc2UnO1xuXG4vKiBEaXNwYXRjaCBhbiBDdXN0b20gRXZlbnQgd2l0aCBhIGRldGFpbFxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuZnVuY3Rpb24gJGRpc3BhdGNoKHRhcmdldCwgdHlwZSwgZGV0YWlsKSB7XG5cdC8vIGFuIGV2ZW50XG5cdGNvbnN0IGV2ZW50ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ0N1c3RvbUV2ZW50Jyk7XG5cblx0ZXZlbnQuaW5pdEN1c3RvbUV2ZW50KHR5cGUsIHRydWUsIHRydWUsIGRldGFpbCk7XG5cblx0dGFyZ2V0LmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xufVxuXG5mdW5jdGlvbiAkZW5hYmxlRm9jdXNSaW5nKHRhcmdldCkge1xuXHQvLyByZXRvb2xlZCBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9qb25hdGhhbnRuZWFsL2pzLWZvY3VzLXJpbmdcblxuXHRsZXQga2V5Ym9hcmRUaHJvdHRsZVRpbWVvdXRJRDtcblxuXHRjb25zdCBhY3RpdmVFbGVtZW50cyA9IFtdO1xuXG5cdHRhcmdldC5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgKCkgPT4ge1xuXHRcdGFjdGl2ZUVsZW1lbnRzLmZvckVhY2goKGFjdGl2ZUVsZW1lbnQpID0+IHtcblx0XHRcdGFjdGl2ZUVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdqcy1mb2N1cycpO1xuXHRcdFx0YWN0aXZlRWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ2pzLWZvY3VzLXJpbmcnKTtcblx0XHR9KTtcblx0fSwgdHJ1ZSk7XG5cblx0dGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgKCkgPT4ge1xuXHRcdGNvbnN0IGFjdGl2ZUVsZW1lbnQgPSBkb2N1bWVudC5hY3RpdmVFbGVtZW50O1xuXG5cdFx0aWYgKGFjdGl2ZUVsZW1lbnQgaW5zdGFuY2VvZiBFbGVtZW50KSB7XG5cdFx0XHRhY3RpdmVFbGVtZW50LnNldEF0dHJpYnV0ZSgnanMtZm9jdXMnLCAnJyk7XG5cblx0XHRcdGlmIChrZXlib2FyZFRocm90dGxlVGltZW91dElEKSB7XG5cdFx0XHRcdGFjdGl2ZUVsZW1lbnQuc2V0QXR0cmlidXRlKCdqcy1mb2N1cy1yaW5nJywgJycpO1xuXHRcdFx0fVxuXG5cdFx0XHRhY3RpdmVFbGVtZW50cy5wdXNoKGFjdGl2ZUVsZW1lbnQpO1xuXHRcdH1cblx0fSwgdHJ1ZSk7XG5cblx0dGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoKSA9PiB7XG5cdFx0a2V5Ym9hcmRUaHJvdHRsZVRpbWVvdXRJRCA9IGNsZWFyVGltZW91dChrZXlib2FyZFRocm90dGxlVGltZW91dElEKSB8fCBzZXRUaW1lb3V0KCgpID0+IHtcblx0XHRcdGtleWJvYXJkVGhyb3R0bGVUaW1lb3V0SUQgPSAwO1xuXHRcdH0sIDEwMCk7XG5cdH0sIHRydWUpO1xufVxuXG5mdW5jdGlvbiAkZmV0Y2godXJsLCBjYWxsYmFjaywgb25FcnJvciA9ICgpID0+IHtcbn0pIHtcblx0Y29uc3QgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG5cblx0eGhyLmFkZEV2ZW50TGlzdGVuZXIoJ3JlYWR5c3RhdGVjaGFuZ2UnLCAoKSA9PiB7XG5cdFx0aWYgKDQgPT09IHhoci5yZWFkeVN0YXRlKSB7XG5cdFx0XHRpZiAoMjAwID09PSB4aHIuc3RhdHVzKSB7XG5cdFx0XHRcdGNhbGxiYWNrKHhoci5yZXNwb25zZVRleHQpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGNhbGxiYWNrLXJldHVyblxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0b25FcnJvcigpO1xuXHRcdFx0fVxuXHRcdH1cblx0fSk7XG5cblx0eGhyLm9wZW4oJ0dFVCcsIHVybCk7XG5cdHhoci5zZW5kKCk7XG5cblx0cmV0dXJuIHhocjtcbn1cblxuZnVuY3Rpb24gJHJlbmRlclN2Z09ySW1nKHtpbWdEZWYgPSBcIlwiLCBpbWdDbGFzcyA9IFwiXCIsIGltZ1dpZHRoLCBpbWdIZWlnaHQsIHZpZXdCb3gsIGlkLCAkdGFyZ2V0RWxtfSkge1xuXHRjb25zdCAkaW1nV3JhcHBlciA9ICRhc3NpZ24oJ3NwYW4nKTtcblxuXHRjb25zdCBzdmdQcm9wcyA9IHtjbGFzczogaW1nQ2xhc3MsIHJvbGU6ICdwcmVzZW50YXRpb24nfTtcblx0aWYgKGltZ1dpZHRoICYmIGltZ0hlaWdodCkge1xuXHRcdHN2Z1Byb3BzLndpZHRoID0gaW1nV2lkdGg7XG5cdFx0c3ZnUHJvcHMuaGVpZ2h0ID0gaW1nSGVpZ2h0O1xuXHR9XG5cdGlmICh2aWV3Qm94KSB7XG5cdFx0c3ZnUHJvcHMudmlld0JveCA9IHZpZXdCb3g7XG5cdH1cblx0aWYgKGlkKSB7XG5cdFx0c3ZnUHJvcHMuaWQgPSBpZDtcblx0fVxuXG5cdGlmICh0eXBlb2YgaW1nRGVmID09PSAnc3RyaW5nJykge1xuXHRcdGlmIChpbWdEZWYuaW5kZXhPZignLnN2ZycpID09PSBpbWdEZWYubGVuZ3RoIC0gNCkge1xuXHRcdFx0JGZldGNoKGltZ0RlZiwgKHN2Z0NvbnRlbnRzKSA9PiB7XG5cdFx0XHRcdCRpbWdXcmFwcGVyLmlubmVySFRNTCA9IHN2Z0NvbnRlbnRzO1xuXHRcdFx0XHRjb25zdCAkaW1nID0gJGltZ1dyYXBwZXIuZmlyc3RFbGVtZW50Q2hpbGQ7XG5cdFx0XHRcdCRhc3NpZ24oJGltZywgc3ZnUHJvcHMpO1xuXHRcdFx0fSwgKCkgPT4ge1xuXHRcdFx0XHRyZW5kZXJJbWdUYWcoeyRpbWdXcmFwcGVyLCBpZCwgaW1nRGVmLCBpbWdDbGFzcywgaW1nV2lkdGgsIGltZ0hlaWdodH0pO1xuXHRcdFx0fSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJlbmRlckltZ1RhZyh7JGltZ1dyYXBwZXIsIGlkLCBpbWdEZWYsIGltZ0NsYXNzLCBpbWdXaWR0aCwgaW1nSGVpZ2h0fSk7XG5cdFx0fVxuXHR9IGVsc2Uge1xuXHRcdGNvbnN0ICRpbWcgPSAkYXNzaWduKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCAnc3ZnJyksXG5cdFx0XHRzdmdQcm9wcyxcblx0XHRcdCRhc3NpZ24oZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLFxuXHRcdFx0XHQuLi5pbWdEZWYubWFwKFxuXHRcdFx0XHRcdChkKSA9PiAkYXNzaWduKFxuXHRcdFx0XHRcdFx0ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICdwYXRoJyksXG5cdFx0XHRcdFx0XHR7ZH1cblx0XHRcdFx0XHQpXG5cdFx0XHRcdClcblx0XHRcdCkpO1xuXHRcdCRpbWdXcmFwcGVyLmFwcGVuZENoaWxkKCRpbWcpO1xuXHR9XG5cblx0aWYgKCR0YXJnZXRFbG0pIHtcblx0XHQkdGFyZ2V0RWxtLmlubmVySFRNTCA9ICcnO1xuXHRcdCR0YXJnZXRFbG0uYXBwZW5kQ2hpbGQoJGltZ1dyYXBwZXIpO1xuXHR9XG5cblx0cmV0dXJuICRpbWdXcmFwcGVyO1xuXG5cdGZ1bmN0aW9uIHJlbmRlckltZ1RhZyh7JGltZ1dyYXBwZXIsIGlkLCBpbWdEZWYsIGltZ0NsYXNzLCBpbWdXaWR0aCwgaW1nSGVpZ2h0fSkge1xuXHRcdCRpbWdXcmFwcGVyLmFwcGVuZENoaWxkKCRhc3NpZ24oJ2ltZycsIHtcblx0XHRcdGlkLFxuXHRcdFx0c3JjOiBpbWdEZWYsXG5cdFx0XHRjbGFzczogaW1nQ2xhc3MsXG5cdFx0XHRzdHlsZTogIGAke2ltZ1dpZHRoID8gYHdpZHRoOiR7aW1nV2lkdGh9cHhgIDogJyd9OyAke2ltZ0hlaWdodCA/IGBoZWlnaHQ6JHtpbWdIZWlnaHR9cHhgIDogJyd9YFxuXHRcdH0pKTtcblx0fVxufVxuXG5leHBvcnQge1xuXHQkYXNzaWduLFxuXHQkZGlzcGF0Y2gsXG5cdCRlbmFibGVGb2N1c1JpbmcsXG5cdCRmZXRjaCxcblx0JHJlcGxhY2VBbGwsXG5cdCRyZW5kZXJTdmdPckltZ1xufTtcbiIsImltcG9ydCB7JGFzc2lnbiBhcyAkLCAkZGlzcGF0Y2gsICRyZXBsYWNlQWxsLCAkcmVuZGVyU3ZnT3JJbWd9IGZyb20gJy4uLy4uL3NoYXJlZC9qcy9zaGFyZWQnO1xuXG5jb25zdCBwcmVmaXggPSAnZXNyaS1oZWFkZXItYWNjb3VudCc7XG5cbmV4cG9ydCBkZWZhdWx0ICgpID0+IHtcblx0Y29uc3QgJHRhcmdldCA9ICQoJ2RpdicsIHtjbGFzczogcHJlZml4fSk7XG5cblx0LyogQWNjb3VudDogQ29udHJvbDogU2lnbmluXG5cdC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXHRjb25zdCAkY29udHJvbFNpZ25pblRleHQgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnJyk7XG5cdGNvbnN0ICRjb250cm9sU2lnbmluID0gJCgnYnV0dG9uJywge2NsYXNzOiBgJHtwcmVmaXh9LWNvbnRyb2wgJHtwcmVmaXh9LWNvbnRyb2wtLXNpZ25pbmB9LFxuXHRcdCRjb250cm9sU2lnbmluVGV4dFxuXHQpO1xuXG5cdC8vIE9uIENsaWNrXG5cdCRjb250cm9sU2lnbmluLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG5cdFx0JGRpc3BhdGNoKCRjb250cm9sU2lnbmluLCAnaGVhZGVyOmNsaWNrOnNpZ25pbicsIHtldmVudH0pO1xuXHR9KTtcblxuXHQvKiBBY2NvdW50OiBDb250cm9sXG5cdC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXHRjb25zdCAkY29udHJvbEltYWdlID0gJCgnc3BhbicpO1xuXG5cdGNvbnN0ICRjb250cm9sTmFtZVRleHQgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnJyk7XG5cdGNvbnN0ICRjb250cm9sTmFtZSA9ICQoJ3NwYW4nLCB7Y2xhc3M6IGAke3ByZWZpeH0tbmFtZWB9LFxuXHRcdCRjb250cm9sTmFtZVRleHRcblx0KTtcblxuXHRjb25zdCAkY29udHJvbElkVGV4dCA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCcnKTtcblx0Y29uc3QgJGNvbnRyb2xJZCA9ICQoJ3NwYW4nLCB7Y2xhc3M6IGAke3ByZWZpeH0taWRgfSxcblx0XHQkY29udHJvbElkVGV4dFxuXHQpO1xuXG5cdGNvbnN0ICRjb250cm9sID0gJCgnYnV0dG9uJyxcblx0XHR7XG5cdFx0XHRjbGFzczogYCR7cHJlZml4fS1jb250cm9sICR7cHJlZml4fS1jb250cm9sLS1zaWduZWRpbmAsIGlkOiBgJHtwcmVmaXh9LWNvbnRyb2xgLFxuXHRcdFx0YXJpYToge2NvbnRyb2xzOiBgJHtwcmVmaXh9LW1lbnVgLCBleHBhbmRlZDogZmFsc2UsIGhhc3BvcHVwOiB0cnVlfVxuXHRcdH0sXG5cdFx0JGNvbnRyb2xJbWFnZSxcblx0XHQkY29udHJvbE5hbWUsXG5cdFx0JGNvbnRyb2xJZFxuXHQpO1xuXG5cdC8vIE9uIENsaWNrXG5cdCRjb250cm9sLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG5cdFx0JGRpc3BhdGNoKCRjb250cm9sLCAnaGVhZGVyOmNsaWNrOmFjY291bnQnLCB7ZXZlbnR9KTtcblxuXHRcdCRkaXNwYXRjaCgkY29udHJvbCwgJ2hlYWRlcjptZW51OnRvZ2dsZScsIHtcblx0XHRcdGFjY291bnQ6IHRydWUsXG5cdFx0XHRjb250cm9sOiAkY29udHJvbCxcblx0XHRcdGNvbnRlbnQ6ICRjb250ZW50LFxuXHRcdFx0c3RhdGU6ICdtZW51Jyxcblx0XHRcdHRhcmdldDogJHRhcmdldCxcblx0XHRcdHR5cGU6ICdhY2NvdW50LXRvZ2dsZSdcblx0XHR9KTtcblx0fSk7XG5cblx0LyogQWNjb3VudDogQ29udGVudFxuXHQvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblx0Ly8gVG9nZ2xlXG5cdGNvbnN0ICRjb250ZW50VG9nZ2xlVGV4dCA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCcnKTtcblx0Y29uc3QgJGNvbnRlbnRUb2dnbGUgPSAkKCdidXR0b24nLCB7Y2xhc3M6IGAke3ByZWZpeH0tY29udGVudC10b2dnbGVgfSxcblx0XHQkY29udGVudFRvZ2dsZVRleHRcblx0KTtcblxuXHQkY29udGVudFRvZ2dsZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcblx0XHQkZGlzcGF0Y2goJGNvbnRlbnRUb2dnbGUsICdoZWFkZXI6bWVudTpjbG9zZScsIHtcblx0XHRcdGNvbnRyb2w6ICRjb250cm9sLFxuXHRcdFx0Y29udGVudDogJGNvbnRlbnQsXG5cdFx0XHR0eXBlOiAnYWNjb3VudC1jbG9zZSdcblx0XHR9KTtcblx0fSk7XG5cblx0Ly8gSW1hZ2Vcblx0Y29uc3QgJGNvbnRlbnRJbWFnZSA9ICQoJ3NwYW4nKTtcblxuXHQvLyBJbmZvXG5cdGNvbnN0ICRjb250ZW50SW5mb05hbWVUZXh0ID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJycpO1xuXHRjb25zdCAkY29udGVudEluZm9JZFRleHQgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnJyk7XG5cdGNvbnN0ICRjb250ZW50SW5mb0dyb3VwVGV4dCA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCcnKTtcblx0Y29uc3QgJGNvbnRlbnRJbmZvID0gJCgnZGl2Jywge2NsYXNzOiBgJHtwcmVmaXh9LWNvbnRlbnQtaW5mb2B9LFxuXHRcdCRjb250ZW50SW1hZ2UsXG5cdFx0JCgnc3BhbicsIHtjbGFzczogYCR7cHJlZml4fS1jb250ZW50LW5hbWVgfSxcblx0XHRcdCRjb250ZW50SW5mb05hbWVUZXh0XG5cdFx0KSxcblx0XHQkKCdzcGFuJywge2NsYXNzOiBgJHtwcmVmaXh9LWNvbnRlbnQtaWRgfSxcblx0XHRcdCRjb250ZW50SW5mb0lkVGV4dFxuXHRcdCksXG5cdFx0JCgnc3BhbicsIHtjbGFzczogYCR7cHJlZml4fS1jb250ZW50LWdyb3VwYH0sXG5cdFx0XHQkY29udGVudEluZm9Hcm91cFRleHRcblx0XHQpXG5cdCk7XG5cblx0Ly8gTWVudVxuXHRjb25zdCAkY29udGVudE1lbnUgPSAkKCd1bCcsIHtcblx0XHRjbGFzczogYCR7cHJlZml4fS1jb250ZW50LW1lbnVgLFxuXHRcdHJvbGU6ICduYXZpZ2F0aW9uJywgYXJpYToge2xhYmVsbGVkYnk6IGAke3ByZWZpeH0tY29udHJvbGB9XG5cdH0pO1xuXG5cdC8vIFN3aXRjaCBDb250cm9sXG5cdGNvbnN0ICRjb250ZW50U2lnbmluU3dpdGNoVGV4dCA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCcnKTtcblx0Y29uc3QgJGNvbnRlbnRTaWduaW5Td2l0Y2ggPSAkKCdidXR0b24nLCB7Y2xhc3M6IGAke3ByZWZpeH0tc2lnbmluLWNvbnRyb2wgLXN3aXRjaGB9LFxuXHRcdCRjb250ZW50U2lnbmluU3dpdGNoVGV4dFxuXHQpO1xuXG5cdC8vIFN3aXRjaCBDb250cm9sOiBPbiBDbGlja1xuXHQkY29udGVudFNpZ25pblN3aXRjaC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuXHRcdCRkaXNwYXRjaCgkY29udGVudFNpZ25pblN3aXRjaCwgJ2hlYWRlcjpjbGljazpzd2l0Y2gnLCB7ZXZlbnR9KTtcblx0fSk7XG5cblx0Ly8gU2lnbm91dCBDb250cm9sXG5cdGNvbnN0ICRjb250ZW50U2lnbmluU2lnbm91dFRleHQgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnJyk7XG5cdGNvbnN0ICRjb250ZW50U2lnbmluU2lnbm91dCA9ICQoJ2J1dHRvbicsIHtjbGFzczogYCR7cHJlZml4fS1zaWduaW4tY29udHJvbCAtbG9nb3V0YH0sXG5cdFx0JGNvbnRlbnRTaWduaW5TaWdub3V0VGV4dFxuXHQpO1xuXG5cdC8vIFNpZ25vdXQgQ29udHJvbDogT24gQ2xpY2tcblx0JGNvbnRlbnRTaWduaW5TaWdub3V0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG5cdFx0JGRpc3BhdGNoKCRjb250ZW50U2lnbmluU2lnbm91dCwgJ2hlYWRlcjpjbGljazpzaWdub3V0Jywge2V2ZW50fSk7XG5cdH0pO1xuXG5cdC8vIFNpZ25pbiBNZW51XG5cdGNvbnN0ICRjb250ZW50U2lnbmluTWVudSA9ICQoJ3VsJyxcblx0XHR7XG5cdFx0XHRjbGFzczogYCR7cHJlZml4fS1zaWduaW4tbWVudWAsXG5cdFx0XHRyb2xlOiAnZ3JvdXAnXG5cdFx0fSxcblx0XHQkKCdsaScsIHtjbGFzczogYCR7cHJlZml4fS1zaWduaW4taXRlbWB9LFxuXHRcdFx0JGNvbnRlbnRTaWduaW5Td2l0Y2hcblx0XHQpLFxuXHRcdCQoJ2xpJywge2NsYXNzOiBgJHtwcmVmaXh9LXNpZ25pbi1pdGVtYH0sXG5cdFx0XHQkY29udGVudFNpZ25pblNpZ25vdXRcblx0XHQpXG5cdCk7XG5cblx0Ly8gQ29udGVudFxuXHRjb25zdCAkY29udGVudCA9ICQoJ2RpdicsXG5cdFx0e1xuXHRcdFx0Y2xhc3M6IGAke3ByZWZpeH0tbWVudWAsIGlkOiBgJHtwcmVmaXh9LW1lbnVgLFxuXHRcdFx0cm9sZTogJ2dyb3VwJywgYXJpYToge2V4cGFuZGVkOiBmYWxzZSwgaGlkZGVuOiB0cnVlfVxuXHRcdH0sXG5cdFx0JGNvbnRlbnRUb2dnbGUsXG5cdFx0JGNvbnRlbnRJbmZvLFxuXHRcdCRjb250ZW50TWVudSxcblx0XHQkY29udGVudFNpZ25pbk1lbnVcblx0KTtcblxuXHQvKiBBY2NvdW50OiBPbiBVcGRhdGVcblx0LyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cdCR0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcignaGVhZGVyOnVwZGF0ZTphY2NvdW50JywgKHtkZXRhaWx9KSA9PiB7XG5cdFx0JCgkY29udHJvbCwge2FyaWE6IHtsYWJlbDogZGV0YWlsLmxhYmVsfX0pO1xuXG5cdFx0Ly8gVXBkYXRlIHRoZSBjb250cm9sIHRleHRcblx0XHQkY29udGVudFRvZ2dsZVRleHQubm9kZVZhbHVlID0gZGV0YWlsLmxhYmVsO1xuXHRcdCRjb250cm9sU2lnbmluVGV4dC5ub2RlVmFsdWUgPSBkZXRhaWwuY29udHJvbHMuc2lnbmluO1xuXHRcdCRjb250ZW50U2lnbmluU3dpdGNoVGV4dC5ub2RlVmFsdWUgPSBkZXRhaWwuY29udHJvbHMuc3dpdGNoO1xuXHRcdCRjb250ZW50U2lnbmluU2lnbm91dFRleHQubm9kZVZhbHVlID0gZGV0YWlsLmNvbnRyb2xzLnNpZ25vdXQ7XG5cblx0XHQvLyBJZiB0aGVyZSBpcyBhIHVzZXIgb2JqZWN0XG5cdFx0aWYgKGRldGFpbC51c2VyKSB7XG5cdFx0XHQvLyBVcGRhdGUgdGhlIGFjY291bnQgdGV4dCArIGltYWdlXG5cdFx0XHQkY29udHJvbE5hbWVUZXh0Lm5vZGVWYWx1ZSA9ICRjb250ZW50SW5mb05hbWVUZXh0Lm5vZGVWYWx1ZSA9IGRldGFpbC51c2VyLm5hbWU7XG5cdFx0XHQkY29udHJvbElkVGV4dC5ub2RlVmFsdWUgPSAkY29udGVudEluZm9JZFRleHQubm9kZVZhbHVlID0gZGV0YWlsLnVzZXIuaWQ7XG5cdFx0XHQkY29udGVudEluZm9Hcm91cFRleHQubm9kZVZhbHVlID0gZGV0YWlsLnVzZXIuZ3JvdXA7XG5cblx0XHRcdCRyZW5kZXJTdmdPckltZyh7aW1nRGVmOiBkZXRhaWwudXNlci5pbWFnZSwgaW1nQ2xhc3M6IGAke3ByZWZpeH0taW1hZ2VgLCAkdGFyZ2V0RWxtOiAkY29udHJvbEltYWdlfSk7XG5cdFx0XHQkcmVuZGVyU3ZnT3JJbWcoe2ltZ0RlZjogZGV0YWlsLnVzZXIuaW1hZ2UsIGltZ0NsYXNzOiBgJHtwcmVmaXh9LWNvbnRlbnQtaW1hZ2VgLCAkdGFyZ2V0RWxtOiAkY29udGVudEltYWdlfSk7XG5cblx0XHRcdC8vIFVwZGF0ZSB0aGUgY29udGVudCBtZW51XG5cdFx0XHQkcmVwbGFjZUFsbCgkY29udGVudE1lbnUsXG5cdFx0XHRcdC4uLmRldGFpbC5tZW51cy5tYXAoXG5cdFx0XHRcdFx0KGl0ZW0pID0+ICQoJ2xpJywge2NsYXNzOiBgJHtwcmVmaXh9LWNvbnRlbnQtaXRlbWB9LFxuXHRcdFx0XHRcdFx0JCgnYScsIHtjbGFzczogYCR7cHJlZml4fS1jb250ZW50LWxpbmtgLCBocmVmOiBpdGVtLmhyZWZ9LFxuXHRcdFx0XHRcdFx0XHRpdGVtLmxhYmVsXG5cdFx0XHRcdFx0XHQpXG5cdFx0XHRcdFx0KVxuXHRcdFx0XHQpXG5cdFx0XHQpO1xuXG5cdFx0XHQvLyBVc2UgdGhlIGNvbnRyb2wgYW5kIGNvbnRlbnRcblx0XHRcdCRyZXBsYWNlQWxsKCR0YXJnZXQsICRjb250cm9sLCAkY29udGVudCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIE90aGVyd2lzZSwgdXNlIHRoZSBzaWduaW4gY29udHJvbFxuXHRcdFx0JHJlcGxhY2VBbGwoJHRhcmdldCwgJGNvbnRyb2xTaWduaW4pO1xuXHRcdH1cblx0fSk7XG5cblx0cmV0dXJuICR0YXJnZXQ7XG59O1xuIiwiaW1wb3J0IHskYXNzaWduIGFzICQsICRkaXNwYXRjaCwgJHJlcGxhY2VBbGwsICRyZW5kZXJTdmdPckltZ30gZnJvbSAnLi4vLi4vc2hhcmVkL2pzL3NoYXJlZCc7XG5cbmNvbnN0IHByZWZpeCA9ICdlc3JpLWhlYWRlci1icmFuZCc7XG5cbmV4cG9ydCBkZWZhdWx0ICgpID0+IHtcblx0Y29uc3QgJHRhcmdldCA9ICQoJ2EnLCB7Y2xhc3M6IHByZWZpeCwgaWQ6IHByZWZpeH0pO1xuXG5cdC8vIE9uIENsaWNrXG5cdCR0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcblx0XHQkZGlzcGF0Y2goJHRhcmdldCwgJ2hlYWRlcjpjbGljazpicmFuZCcsIHtldmVudH0pO1xuXHR9KTtcblxuXHQvKiBCcmFuZDogT24gVXBkYXRlXG5cdC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblx0JHRhcmdldC5hZGRFdmVudExpc3RlbmVyKCdoZWFkZXI6dXBkYXRlOmJyYW5kJywgKHtkZXRhaWx9KSA9PiB7XG5cdFx0JCgkdGFyZ2V0LCB7aHJlZjogZGV0YWlsLmhyZWZ9KTtcblx0XHRpZiAoZGV0YWlsLmltYWdlKSB7XG5cdFx0XHQkKCR0YXJnZXQsIHthcmlhOiB7bGFiZWw6IGRldGFpbC5sYWJlbH19KTtcblx0XHRcdCRyZW5kZXJTdmdPckltZyh7aW1nRGVmOiBkZXRhaWwuaW1hZ2UsIGltZ0NsYXNzOiBgJHtwcmVmaXh9LWltYWdlYCwgaW1nV2lkdGg6IGRldGFpbC53aWR0aCwgaW1nSGVpZ2h0OmRldGFpbC5oZWlnaHQsICR0YXJnZXRFbG06JHRhcmdldH0pO1xuXHRcdH1cblx0XHRpZiAoZGV0YWlsLmJyYW5kVGV4dCkge1xuXHRcdFx0Y29uc3QgdGV4dENsYXNzID0gZGV0YWlsLmltYWdlID8gYCR7cHJlZml4fS10ZXh0IC1oYXMtaW1hZ2VgIDogYCR7cHJlZml4fS10ZXh0YDtcblx0XHRcdGNvbnN0ICRicmFuZFRleHQgPSAkKCdzcGFuJywge2NsYXNzOiB0ZXh0Q2xhc3N9LCBkZXRhaWwuYnJhbmRUZXh0KTtcblx0XHRcdCQoJHRhcmdldCwgJGJyYW5kVGV4dCk7XG5cdFx0fVxuXHR9KTtcblxuXHRyZXR1cm4gJHRhcmdldDtcbn07XG4iLCJpbXBvcnQgeyRhc3NpZ24gYXMgJH0gZnJvbSAnLi4vLi4vc2hhcmVkL2pzL3NoYXJlZCc7XG5cbmNvbnN0IHByZWZpeCA9ICdlc3JpLWhlYWRlci1icmFuZGluZy1zdHJpcGUnO1xuXG5leHBvcnQgZGVmYXVsdCAoKSA9PiB7XG5cdGNvbnN0ICR0YXJnZXQgPSAkKCdkaXYnLCB7Y2xhc3M6IHByZWZpeCwgaWQ6IHByZWZpeH0pO1xuXG5cdC8qIEJyYW5kOiBPbiBVcGRhdGVcblx0LyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXHQkdGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoJ2hlYWRlcjp1cGRhdGU6YnJhbmQnLCAoe2RldGFpbH0pID0+IHtcblx0XHQkdGFyZ2V0LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGRldGFpbC50b3BTdHJpcGU7XG5cdFx0JHRhcmdldC5jbGFzc0xpc3QuYWRkKCctdmlzaWJsZScpO1xuXHR9KTtcblxuXHRyZXR1cm4gJHRhcmdldDtcbn07XG5cbiIsImltcG9ydCB7JGFzc2lnbiBhcyAkLCAkZGlzcGF0Y2gsICRyZXBsYWNlQWxsLCAkcmVuZGVyU3ZnT3JJbWd9IGZyb20gJy4uLy4uL3NoYXJlZC9qcy9zaGFyZWQnO1xuXG5jb25zdCBwcmVmaXggPSAnZXNyaS1oZWFkZXItbWVudXMnO1xuXG5leHBvcnQgZGVmYXVsdCAoe3ZhcmlhbnQgPSAnZGVza3RvcCd9KSA9PiB7XG5cdGNvbnN0ICR0YXJnZXQgPSAkKCdkaXYnLCB7Y2xhc3M6IHByZWZpeCwgaWQ6IGAke3ByZWZpeH0tJHt2YXJpYW50fWB9KTtcblx0JHRhcmdldC5jbGFzc0xpc3QuYWRkKGAtJHt2YXJpYW50fWApO1xuXG5cdGlmICh2YXJpYW50ID09PSAnbW9iaWxlJykge1xuXHRcdGNvbnN0ICR0b2dnbGUgPSAkKCdidXR0b24nLCB7XG5cdFx0XHRjbGFzczogYCR7cHJlZml4fS10b2dnbGVgLCBpZDogYCR7cHJlZml4fS0ke3ZhcmlhbnR9LXRvZ2dsZWAsXG5cdFx0XHRhcmlhOiB7Y29udHJvbHM6IGAke3ByZWZpeH0tY29udGVudGAsIGV4cGFuZGVkOiBmYWxzZSwgaGFzcG9wdXA6IHRydWUsIGxhYmVsbGVkYnk6ICdlc3JpLWhlYWRlci1icmFuZCd9XG5cdFx0fSk7XG5cblx0XHQkdG9nZ2xlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG5cdFx0XHQkZGlzcGF0Y2goJHRvZ2dsZSwgJ2hlYWRlcjptZW51OnRvZ2dsZScsIHtcblx0XHRcdFx0Y29udHJvbDogJHRvZ2dsZSxcblx0XHRcdFx0Y29udGVudDogJGNvbnRlbnQsXG5cdFx0XHRcdHJvb3Q6IHRydWUsXG5cdFx0XHRcdHN0YXRlOiAnbWVudScsXG5cdFx0XHRcdHRhcmdldDogJHRhcmdldCxcblx0XHRcdFx0dHlwZTogJ3Jvb3QtdG9nZ2xlJyxcblx0XHRcdFx0ZXZlbnRcblx0XHRcdH0pO1xuXHRcdH0pO1xuXG5cdFx0JCgkdGFyZ2V0LCAkdG9nZ2xlKTtcblx0fVxuXG5cdC8qIE1lbnVzOiBDb250ZW50XG5cdC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXHRjb25zdCAkY29udGVudCA9ICQoJ2RpdicsIHtcblx0XHRjbGFzczogYCR7cHJlZml4fS1jb250ZW50YCxcblx0XHRhcmlhOiB7aGlkZGVuOiB0cnVlLCBleHBhbmRlZDogZmFsc2V9XG5cdH0pO1xuXG5cdCQoJHRhcmdldCwgJGNvbnRlbnQpO1xuXG5cdC8qIE1lbnVzXG5cdC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXG5cdC8qIE1lbnVzOiBPbiBVcGRhdGVcblx0LyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cdCR0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcignaGVhZGVyOnVwZGF0ZTptZW51cycsICh7ZGV0YWlsfSkgPT4ge1xuXHRcdCRyZXBsYWNlQWxsKFxuXHRcdFx0JGNvbnRlbnQsXG5cdFx0XHQuLi5kZXRhaWwubWFwKFxuXHRcdFx0XHQobWVudSwgdXVpZCkgPT4gJCgnZGl2Jyxcblx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRjbGFzczogYCR7cHJlZml4fS1tZW51YCxcblx0XHRcdFx0XHRcdHJvbGU6ICdncm91cCdcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdCQoJ3VsJyxcblx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0Y2xhc3M6IGAke3ByZWZpeH0tbGlzdGAsXG5cdFx0XHRcdFx0XHRcdHJvbGU6ICduYXZpZ2F0aW9uJywgYXJpYToge2xhYmVsbGVkYnk6ICdlc3JpLWhlYWRlci1icmFuZCd9XG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0Li4ubWVudS5tYXAoKGl0ZW0sIHN1dWlkKSA9PiB7XG5cdFx0XHRcdFx0XHRcdC8qIEdsb2JhbCBOYXZpZ2F0aW9uOiBNZW51czogTGlua1xuXHRcdFx0XHRcdFx0XHQvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXHRcdFx0XHRcdFx0XHRjb25zdCAkbGlua0ljb24gPSBpdGVtLmljb25cblx0XHRcdFx0XHRcdFx0XHQ/ICRyZW5kZXJTdmdPckltZyh7aW1nRGVmOiBpdGVtLmljb24ucGF0aCwgaW1nQ2xhc3M6IGAke3ByZWZpeH0tbGluay1pY29uYCwgaW1nV2lkdGg6IGl0ZW0uaWNvbi53aWR0aCB8fCAnMTZweCcsIGltZ0hlaWdodDogaXRlbS5pY29uLmhlaWdodCB8fCAnMTZweCd9KVxuXHRcdFx0XHRcdFx0XHRcdDogbnVsbDtcblxuXHRcdFx0XHRcdFx0XHRjb25zdCAkc3ViY29udHJvbCA9ICQoJ2EnLFxuXHRcdFx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0XHRcdGNsYXNzOiBgJHtwcmVmaXh9LWxpbmsgJHtpdGVtLmhpZGVMYWJlbEluRGVza3RvcCA/ICctaGlkZS1sYWJlbCcgOiAnJ31gLCBpZDogYCR7cHJlZml4fS1saW5rLSR7dXVpZH0tJHtzdXVpZH1gLFxuXHRcdFx0XHRcdFx0XHRcdFx0aHJlZjogaXRlbS5ocmVmIHx8ICdqYXZhc2NyaXB0OjsnIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tc2NyaXB0LXVybFxuXHRcdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdFx0JGxpbmtJY29uLFxuXHRcdFx0XHRcdFx0XHRcdCQoJ3NwYW4nLCB7Y2xhc3MgOiBgJHtwcmVmaXh9LWxpbmstbGFiZWxgfSwgaXRlbS5sYWJlbClcblx0XHRcdFx0XHRcdFx0KTtcblxuXHRcdFx0XHRcdFx0XHRpZiAoaXRlbS5kYXRhKSB7XG5cdFx0XHRcdFx0XHRcdFx0JHN1YmNvbnRyb2woe1xuXHRcdFx0XHRcdFx0XHRcdFx0ZGF0YTogaXRlbS5kYXRhXG5cdFx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRjb25zdCAkbGkgPSAkKCdsaScsIHtjbGFzczogYCR7cHJlZml4fS1pdGVtYH0sICRzdWJjb250cm9sKTtcblxuXHRcdFx0XHRcdFx0XHRjb25zdCBoYXNNZW51SXRlbXMgPSBpdGVtLm1lbnVzICYmIGl0ZW0ubWVudXMubGVuZ3RoO1xuXHRcdFx0XHRcdFx0XHRjb25zdCBoYXNGZWF0dXJlZEl0ZW1zID0gaXRlbS50aWxlcyAmJiBpdGVtLnRpbGVzLmxlbmd0aDtcblxuXHRcdFx0XHRcdFx0XHRpZiAoaGFzTWVudUl0ZW1zIHx8IGhhc0ZlYXR1cmVkSXRlbXMpIHtcblx0XHRcdFx0XHRcdFx0XHQvKiBHbG9iYWwgTmF2aWdhdGlvbjogU3VibWVudVxuXHRcdFx0XHRcdFx0XHRcdC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblx0XHRcdFx0XHRcdFx0XHRjb25zdCAkc3VidG9nZ2xlID0gJCgnYnV0dG9uJywge2NsYXNzOiBgJHtwcmVmaXh9LXN1Ym1lbnUtdG9nZ2xlYH0sXG5cdFx0XHRcdFx0XHRcdFx0XHRpdGVtLmxhYmVsXG5cdFx0XHRcdFx0XHRcdFx0KTtcblxuXHRcdFx0XHRcdFx0XHRcdGNvbnN0ICRzdWJjb250ZW50ID0gJCgnZGl2Jyxcblx0XHRcdFx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y2xhc3M6IGAke3ByZWZpeH0tc3VibWVudWAsIGlkOiBgJHtwcmVmaXh9LSR7dmFyaWFudH0tc3VibWVudS0ke3V1aWR9LSR7c3V1aWR9YCxcblx0XHRcdFx0XHRcdFx0XHRcdFx0cm9sZTogJ2dyb3VwJywgYXJpYToge2hpZGRlbjogdHJ1ZSwgZXhwYW5kZWQ6IGZhbHNlfSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0ZGF0YToge2ZpbGxlZDogKGl0ZW0ubWVudXMgJiYgaXRlbS5tZW51cy5sZW5ndGggPiAxMCkgPyBpdGVtLm1lbnVzLnNsaWNlKDAsIDE4KS5sZW5ndGggOiAnJ31cblx0XHRcdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdFx0XHQkc3VidG9nZ2xlXG5cdFx0XHRcdFx0XHRcdFx0KTtcblxuXHRcdFx0XHRcdFx0XHRcdGlmIChoYXNNZW51SXRlbXMpIHtcblx0XHRcdFx0XHRcdFx0XHRcdCQoJHN1YmNvbnRlbnQsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCQoJ3VsJyxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjbGFzczogYCR7cHJlZml4fS1zdWJsaXN0YCxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJvbGU6ICduYXZpZ2F0aW9uJywgYXJpYToge2xhYmVsbGVkYnk6IGAke3ByZWZpeH0tJHt2YXJpYW50fS1saW5rLSR7dXVpZH0tJHtzdXVpZH1gfVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0LyogR2xvYmFsIE5hdmlnYXRpb246IE1lbnVzOiBTdWJsaW5rXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0LyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Li4uaXRlbS5tZW51cy5zbGljZSgwLCAxOCkubWFwKFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0KGNoaWxkaXRlbSkgPT4ge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjb25zdCAkc3VibGluayA9ICQoJ2EnLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNsYXNzOiBgJHtwcmVmaXh9LXN1YmxpbmtgLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0aHJlZjogY2hpbGRpdGVtLmhyZWZcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNoaWxkaXRlbS5sYWJlbFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQpO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmIChjaGlsZGl0ZW0uZGF0YSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCQoJHN1YmxpbmssIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGRhdGE6IGNoaWxkaXRlbS5kYXRhXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoY2hpbGRpdGVtLm5ld0NvbnRleHQpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQkKCRzdWJsaW5rLCB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0YXJnZXQ6ICdfYmxhbmsnLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmVsOiAnbm9vcGVuZXInXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gJCgnbGknLCB7Y2xhc3M6IGAke3ByZWZpeH0tc3ViaXRlbWB9LFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCRzdWJsaW5rXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0KVxuXHRcdFx0XHRcdFx0XHRcdFx0XHQpXG5cdFx0XHRcdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdGlmIChoYXNGZWF0dXJlZEl0ZW1zKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHQvLyAuLi5cblx0XHRcdFx0XHRcdFx0XHRcdCQoJHN1YmNvbnRlbnQsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCQoJ3VsJyxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjbGFzczogYCR7cHJlZml4fS1zdWJsaXN0LS1mZWF0dXJlZGAsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyb2xlOiAnbmF2aWdhdGlvbicsIGFyaWE6IHtsYWJlbGxlZGJ5OiBgJHtwcmVmaXh9LWxpbmstJHt1dWlkfS0ke3N1dWlkfWB9LFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0ZGF0YToge2ZpbGxlZDogYCR7aXRlbS50aWxlcy5zbGljZSgwLCA0KS5sZW5ndGh9YH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8qIEdsb2JhbCBOYXZpZ2F0aW9uOiBNZW51czogU3VibGlua1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Li4uaXRlbS50aWxlcy5zbGljZSgwLCA0KS5tYXAoXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQoY2hpbGRpdGVtKSA9PiB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNvbnN0ICRzdWJsaW5rID0gJCgnYScsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2xhc3M6IGAke3ByZWZpeH0tc3VibGluay0tZmVhdHVyZWRgLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0aHJlZjogY2hpbGRpdGVtLmhyZWZcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCRyZW5kZXJTdmdPckltZyh7aW1nRGVmOiBjaGlsZGl0ZW0uaWNvbiwgaW1nQ2xhc3M6IGAke3ByZWZpeH0tc3VibGluay1pbWFnZWAsIGltZ1dpZHRoOiBjaGlsZGl0ZW0ud2lkdGgsIGltZ0hlaWdodDogY2hpbGRpdGVtLmhlaWdodH0pLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCQoJ3NwYW4nLCB7Y2xhc3M6IGAke3ByZWZpeH0tc3VibGluay10ZXh0YH0sXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjaGlsZGl0ZW0ubGFiZWxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQpXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCk7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKGNoaWxkaXRlbS5kYXRhKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0JCgkc3VibGluaywge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0ZGF0YTogY2hpbGRpdGVtLmRhdGFcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmIChjaGlsZGl0ZW0ubmV3Q29udGV4dCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCQoJHN1YmxpbmssIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHRhcmdldDogJ19ibGFuaycsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZWw6ICdub29wZW5lcidcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiAkKCdsaScsIHtjbGFzczogYCR7cHJlZml4fS1zdWJpdGVtLS1mZWF0dXJlZGB9LFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCRzdWJsaW5rXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0KVxuXHRcdFx0XHRcdFx0XHRcdFx0XHQpXG5cdFx0XHRcdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdCQoJGxpLFxuXHRcdFx0XHRcdFx0XHRcdFx0JHN1YmNvbnRlbnRcblx0XHRcdFx0XHRcdFx0XHQpO1xuXG5cdFx0XHRcdFx0XHRcdFx0JHN1YmNvbnRyb2wuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG5cdFx0XHRcdFx0XHRcdFx0XHQkZGlzcGF0Y2goJHN1YmNvbnRyb2wsICdoZWFkZXI6bWVudTp0b2dnbGUnLCB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNvbnRyb2w6ICRzdWJjb250cm9sLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRjb250ZW50OiAkc3ViY29udGVudCxcblx0XHRcdFx0XHRcdFx0XHRcdFx0c3VibWVudTogdHJ1ZSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0c3RhdGU6ICdtZW51Jyxcblx0XHRcdFx0XHRcdFx0XHRcdFx0dHlwZTogJ21lbnUtdG9nZ2xlJ1xuXHRcdFx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRcdFx0fSk7XG5cblx0XHRcdFx0XHRcdFx0XHQkc3VidG9nZ2xlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuXHRcdFx0XHRcdFx0XHRcdFx0JGRpc3BhdGNoKCRzdWJ0b2dnbGUsICdoZWFkZXI6bWVudTpjbG9zZScsIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y29udHJvbDogJHN1YmNvbnRyb2wsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHN1Ym1lbnU6IHRydWUsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNvbnRlbnQ6ICRzdWJjb250ZW50LFxuXHRcdFx0XHRcdFx0XHRcdFx0XHR0eXBlOiAnbWVudS1jbG9zZSdcblx0XHRcdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0cmV0dXJuICRsaTtcblx0XHRcdFx0XHRcdH0pXG5cdFx0XHRcdFx0KVxuXHRcdFx0XHQpXG5cdFx0XHQpXG5cdFx0KTtcblx0fSk7XG5cblx0JHRhcmdldC5hZGRFdmVudExpc3RlbmVyKCdoZWFkZXI6dXBkYXRlOmNvbGxhcHNlTWVudXMnLCAoe2RldGFpbH0pID0+IHtcblx0XHRpZiAoZGV0YWlsICYmIGRldGFpbC5pbmRleE9mKHRydWUpID4gLTEpIHtcblx0XHRcdGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lc3JpLWhlYWRlci1tZW51cy10b2dnbGUnKS5jbGFzc0xpc3QuYWRkKCctdmlzaWJsZScpO1xuXHRcdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VzcmktaGVhZGVyLWJyYW5kJykuY2xhc3NMaXN0LmFkZCgnLWZpdC1idXJnZXInKTtcblx0XHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlc3JpLWhlYWRlci1tZW51cy1tb2JpbGUnKS5jbGFzc0xpc3QuYWRkKCctYWx3YXlzLXZpc2libGUnKTtcblxuXHRcdFx0Y29uc3QgbWVudXMgPSBbXS5zbGljZS5jYWxsKCR0YXJnZXQucXVlcnlTZWxlY3RvckFsbCgnLmVzcmktaGVhZGVyLW1lbnVzLW1lbnUnKSk7XG5cdFx0XHRkZXRhaWwuZm9yRWFjaCgoY29sbGFwc2UsIGkpID0+IHtcblx0XHRcdFx0aWYgKGNvbGxhcHNlKSB7XG5cdFx0XHRcdFx0bWVudXNbaV0uY2xhc3NMaXN0LmFkZCgnLWNvbGxhcHNlZCcpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9XG5cdH0pO1xuXG5cdHJldHVybiAkdGFyZ2V0O1xufTtcbiIsImltcG9ydCB7JGFzc2lnbiBhcyAkLCAkZGlzcGF0Y2gsICRyZXBsYWNlQWxsLCAkcmVuZGVyU3ZnT3JJbWd9IGZyb20gJy4uLy4uL3NoYXJlZC9qcy9zaGFyZWQnO1xuaW1wb3J0IGVzcmlTZWFyY2ggZnJvbSAnLi4vLi4vc2VhcmNoL2pzL3NlYXJjaCc7XG5cbmNvbnN0IHByZWZpeCA9ICdlc3JpLWhlYWRlci1zZWFyY2gnO1xuXG5leHBvcnQgZGVmYXVsdCAoKSA9PiB7XG5cdC8qIFNlYXJjaDogQ29udHJvbFxuXHQvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblx0Y29uc3QgJGNvbnRyb2wgPSAkKCdidXR0b24nLFxuXHRcdHtcblx0XHRcdGNsYXNzOiBgJHtwcmVmaXh9LWNvbnRyb2xgLCBpZDogYCR7cHJlZml4fS1jb250cm9sYCxcblx0XHRcdGFyaWE6IHtleHBhbmRlZDogZmFsc2UsIGNvbnRyb2xzOiBgJHtwcmVmaXh9LWNvbnRlbnRgfVxuXHRcdH1cblx0KTtcblxuXHQkY29udHJvbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuXHRcdCRkaXNwYXRjaCgkY29udHJvbCwgJ2hlYWRlcjpjbGljazpzZWFyY2gnLCB7ZXZlbnR9KTtcblxuXHRcdCRkaXNwYXRjaCgkY29udHJvbCwgJ2hlYWRlcjptZW51OnRvZ2dsZScsIHtcblx0XHRcdGNvbnRyb2w6ICRjb250cm9sLFxuXHRcdFx0Y29udGVudDogJGNvbnRlbnQsXG5cdFx0XHRzdGF0ZTogJ3NlYXJjaCcsXG5cdFx0XHR0YXJnZXQ6ICR0YXJnZXQsXG5cdFx0XHR0eXBlOiAnc2VhcmNoLXRvZ2dsZScsXG5cdFx0XHRldmVudFxuXHRcdH0pO1xuXHR9KTtcblxuXHQvKiBTZWFyY2g6IENvbnRlbnRcblx0LyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cdGNvbnN0ICRjb250ZW50ID0gJCgnZGl2Jywge1xuXHRcdGNsYXNzOiBgJHtwcmVmaXh9LWNvbnRlbnRgLCBpZDogYCR7cHJlZml4fS1jb250ZW50YCxcblx0XHRhcmlhOiB7ZXhwYW5kZWQ6IGZhbHNlLCBsYWJlbGxlZGJ5OiBgJHtwcmVmaXh9LWNvbnRyb2xgfVxuXHR9KTtcblxuXHQvKiBTZWFyY2g6IFRhcmdldFxuXHQvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblx0Y29uc3QgJHRhcmdldCA9ICQoJ2RpdicsIHtjbGFzczogcHJlZml4fSxcblx0XHQkY29udHJvbCwgJGNvbnRlbnRcblx0KTtcblxuXHQvKiBTZWFyY2g6IE9uIFVwZGF0ZVxuXHQvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblx0JHRhcmdldC5hZGRFdmVudExpc3RlbmVyKCdoZWFkZXI6dXBkYXRlOnNlYXJjaCcsICh7ZGV0YWlsfSkgPT4ge1xuXHRcdGlmICghZGV0YWlsLmhpZGUpIHtcblx0XHRcdCQoJGNvbnRyb2wsIHthcmlhOiB7bGFiZWw6IGRldGFpbC5sYWJlbH19KTtcblx0XHRcdCRyZW5kZXJTdmdPckltZyh7aW1nRGVmOiBkZXRhaWwuaW1hZ2UsIGltZ0NsYXNzOiBgJHtwcmVmaXh9LWltYWdlYCwgaWQ6IGAke3ByZWZpeH0taW1hZ2VgLCAkdGFyZ2V0RWxtOiAkY29udHJvbH0pO1xuXG5cdFx0XHRpZiAoZGV0YWlsLmRpYWxvZykge1xuXHRcdFx0XHRkZXRhaWwuZGlhbG9nLnByZWZpeCA9ICdlc3JpLWhlYWRlci1zZWFyY2gtZGlhbG9nJztcblxuXHRcdFx0XHRjb25zdCAkZGlhbG9nID0gZXNyaVNlYXJjaChkZXRhaWwuZGlhbG9nKTtcblxuXHRcdFx0XHRjb25zdCAkZGlhbG9nQ2FuY2VsQnV0dG9uID0gJCgnYnV0dG9uJywge1xuXHRcdFx0XHRcdFx0Y2xhc3M6ICdlc3JpLWhlYWRlci1zZWFyY2gtZGlhbG9nLWNhbmNlbCcsXG5cdFx0XHRcdFx0XHR0eXBlOiAncmVzZXQnXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHQkKCdzcGFuJyxcblx0XHRcdFx0XHRcdGRldGFpbC5kaWFsb2cuY2FuY2VsTGFiZWxcblx0XHRcdFx0XHQpXG5cdFx0XHRcdCk7XG5cblx0XHRcdFx0JGRpYWxvZ0NhbmNlbEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuXHRcdFx0XHRcdCRkaXNwYXRjaCgkY29udHJvbCwgJ2hlYWRlcjptZW51OmNsb3NlJywge1xuXHRcdFx0XHRcdFx0Y29udHJvbDogJGNvbnRyb2wsXG5cdFx0XHRcdFx0XHRjb250ZW50OiAkY29udGVudCxcblx0XHRcdFx0XHRcdHN0YXRlOiAnc2VhcmNoJyxcblx0XHRcdFx0XHRcdHR5cGU6ICdzZWFyY2gtY2xvc2UnLFxuXHRcdFx0XHRcdFx0ZXZlbnRcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fSk7XG5cblx0XHRcdFx0JCgkZGlhbG9nLFxuXHRcdFx0XHRcdCRkaWFsb2dDYW5jZWxCdXR0b25cblx0XHRcdFx0KTtcblxuXHRcdFx0XHQkcmVwbGFjZUFsbCgkY29udGVudCxcblx0XHRcdFx0XHQkZGlhbG9nXG5cdFx0XHRcdCk7XG5cblx0XHRcdFx0JGNvbnRyb2wuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcblx0XHRcdFx0XHRpZiAoJ3RydWUnID09PSAkY29udHJvbC5nZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnKSkge1xuXHRcdFx0XHRcdFx0JGRpc3BhdGNoKCRkaWFsb2csIGAke2RldGFpbC5kaWFsb2cucHJlZml4fTpmb2N1c2AsIHtldmVudH0pO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9KTtcblxuXHRyZXR1cm4gJHRhcmdldDtcbn07XG4iLCJpbXBvcnQgeyRhc3NpZ24gYXMgJCwgJGRpc3BhdGNofSBmcm9tICcuLi8uLi9zaGFyZWQvanMvc2hhcmVkJztcblxuLyogU2VhcmNoXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5leHBvcnQgZGVmYXVsdCAoZGF0YSkgPT4ge1xuXHQvKiBFbGVtZW50c1xuXHQvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblx0Y29uc3QgJGxhYmVsID0gJCgnbGFiZWwnLCB7XG5cdFx0Y2xhc3M6IGAke2RhdGEucHJlZml4fS1sYWJlbGAsXG5cdFx0Zm9yOiBgJHtkYXRhLnByZWZpeH0tcXVlcnktY29udHJvbGBcblx0fSwgZGF0YS5xdWVyeUxhYmVsKTtcblxuXHRjb25zdCAkY29udHJvbCA9ICQoJ2lucHV0Jywge1xuXHRcdGNsYXNzOiBgJHtkYXRhLnByZWZpeH0tY29udHJvbGAsIGlkOiBgJHtkYXRhLnByZWZpeH0tY29udHJvbGAsXG5cdFx0dHlwZTogJ3NlYXJjaCcsIG5hbWU6ICdxJyxcblx0XHRhdXRvY2FwaXRhbGl6ZTogJ29mZicsIGF1dG9jb21wbGV0ZTogJ29mZicsIGF1dG9jb3JyZWN0OiAnb2ZmJywgc3BlbGxjaGVjazogJ2ZhbHNlJ1xuXHR9KTtcblxuXHRjb25zdCAkbWVhc3VyZVRleHROb2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJycpO1xuXG5cdGNvbnN0ICRtZWFzdXJlVGV4dCA9ICQoJ2RpdicsIHtcblx0XHRjbGFzczogYCR7ZGF0YS5wcmVmaXh9LW1lYXN1cmUtdGV4dGAsXG5cdFx0YXJpYToge2hpZGRlbjogdHJ1ZX1cblx0fSwgJG1lYXN1cmVUZXh0Tm9kZSk7XG5cblx0Y29uc3QgJG1lYXN1cmUgPSAkKCdkaXYnLCB7Y2xhc3M6IGAke2RhdGEucHJlZml4fS1tZWFzdXJlYH0sICRtZWFzdXJlVGV4dCk7XG5cblx0Y29uc3QgJHN1Ym1pdCA9ICQoJ2J1dHRvbicsIHtcblx0XHRjbGFzczogYCR7ZGF0YS5wcmVmaXh9LXN1Ym1pdGAsIHR5cGU6ICdzdWJtaXQnLFxuXHRcdGFyaWE6IHtsYWJlbDogZGF0YS5zdWJtaXRMYWJlbH1cblx0fSk7XG5cblx0Y29uc3QgJHNlYXJjaCA9ICQoJ2Zvcm0nLCB7XG5cdFx0Y2xhc3M6IGAke2RhdGEucHJlZml4fS1mb3JtYCwgYWN0aW9uOiBkYXRhLmFjdGlvbixcblx0XHRyb2xlOiAnc2VhcmNoJywgYXJpYToge2xhYmVsOiBkYXRhLmxhYmVsfVxuXHR9LCAkbGFiZWwsICRjb250cm9sLCAkbWVhc3VyZSwgJHN1Ym1pdCk7XG5cblx0LyogRm9jdXMgRXZlbnRcblx0LyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cdCRzZWFyY2guYWRkRXZlbnRMaXN0ZW5lcihgJHtkYXRhLnByZWZpeH06Zm9jdXNgLCAoKSA9PiB7XG5cdFx0JGNvbnRyb2wuZm9jdXMoKTtcblx0fSk7XG5cblx0LyogT24gSW5wdXRcblx0LyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cdGxldCBjb250cm9sSXNGaWxsZWQgPSBmYWxzZTtcblx0bGV0IGNvbnRyb2xWYWx1ZSA9ICcnO1xuXG5cdGZ1bmN0aW9uIG9uaW5wdXQoZXZlbnQpIHtcblx0XHQvKiBDb25kaXRpb25hbGx5IFJlc2V0IENvbnRyb2wgVmFsdWVcblx0XHQvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXHRcdGlmIChldmVudCAmJiAncmVzZXQnID09PSBldmVudC50eXBlKSB7XG5cdFx0XHQkY29udHJvbC52YWx1ZSA9ICcnO1xuXHRcdH1cblxuXHRcdC8qIFVwZGF0ZSBOZXcgQ29udHJvbCBWYWx1ZVxuXHRcdC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cdFx0Y29uc3QgbmV3Q29udHJvbFZhbHVlID0gJGNvbnRyb2wudmFsdWU7XG5cblx0XHRpZiAobmV3Q29udHJvbFZhbHVlICE9PSBjb250cm9sVmFsdWUpIHtcblx0XHRcdGNvbnRyb2xWYWx1ZSA9IG5ld0NvbnRyb2xWYWx1ZTtcblxuXHRcdFx0JGRpc3BhdGNoKCRzZWFyY2gsIGAke2RhdGEucHJlZml4fTppbnB1dGAsIHtcblx0XHRcdFx0dmFsdWU6IGNvbnRyb2xWYWx1ZSxcblx0XHRcdFx0ZXZlbnRcblx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdC8qIFVwZGF0ZSBMYWJlbCBhbmQgU3VibWl0IFVJXG5cdFx0LyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblx0XHRpZiAoY29udHJvbElzRmlsbGVkICYmICFuZXdDb250cm9sVmFsdWUpIHtcblx0XHRcdGNvbnRyb2xJc0ZpbGxlZCA9IGZhbHNlO1xuXG5cdFx0XHQkbGFiZWwucmVtb3ZlQXR0cmlidXRlKCdkYXRhLWZpbGxlZCcpO1xuXHRcdFx0JHN1Ym1pdC5yZW1vdmVBdHRyaWJ1dGUoJ2RhdGEtZmlsbGVkJyk7XG5cdFx0fSBlbHNlIGlmICghY29udHJvbElzRmlsbGVkICYmIG5ld0NvbnRyb2xWYWx1ZSkge1xuXHRcdFx0Y29udHJvbElzRmlsbGVkID0gdHJ1ZTtcblxuXHRcdFx0JCgkbGFiZWwsIHtkYXRhOiB7ZmlsbGVkOiAnJ319KTtcblx0XHRcdCQoJHN1Ym1pdCwge2RhdGE6IHtmaWxsZWQ6ICcnfX0pO1xuXHRcdH1cblxuXHRcdC8qIFVwZGF0ZSBNZWFzdXJlIFVJXG5cdFx0LyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblx0XHQkbWVhc3VyZVRleHROb2RlLm5vZGVWYWx1ZSA9IG5ld0NvbnRyb2xWYWx1ZTtcblxuXHRcdGNvbnN0IGN1cnJlbnRXaWR0aCA9IGAkeyRtZWFzdXJlVGV4dC5zY3JvbGxXaWR0aH1weGA7XG5cblx0XHQkbWVhc3VyZS5zdHlsZS53aWR0aCA9IGN1cnJlbnRXaWR0aDtcblx0fVxuXG5cdC8qIE9uIFN1Ym1pdFxuXHQvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblx0ZnVuY3Rpb24gb25zdWJtaXQoZXZlbnQpIHtcblx0XHQkZGlzcGF0Y2goJHNlYXJjaCwgYCR7ZGF0YS5wcmVmaXh9OnN1Ym1pdGAsIHtcblx0XHRcdHZhbHVlOiAkY29udHJvbC52YWx1ZSxcblx0XHRcdGV2ZW50XG5cdFx0fSk7XG5cdH1cblxuXHQvKiBPbiBET01Ob2RlSW5zZXJ0ZWRcblx0LyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cdCRzZWFyY2guYWRkRXZlbnRMaXN0ZW5lcignRE9NTm9kZUluc2VydGVkJywgZnVuY3Rpb24gb25ET01Ob2RlSW5zZXJ0ZWQoKSB7XG5cdFx0Ly8gSWYgU2VhcmNoIG5vdyBoYXMgYSBwYXJlbnQgbm9kZVxuXHRcdGlmICgkc2VhcmNoLnBhcmVudE5vZGUpIHtcblx0XHRcdC8vIFVuYmluZCB0aGUgRE9NTm9kZUluc2VydGVkIG1ldGhvZFxuXHRcdFx0JHNlYXJjaC5yZW1vdmVFdmVudExpc3RlbmVyKCdET01Ob2RlSW5zZXJ0ZWQnLCBvbkRPTU5vZGVJbnNlcnRlZCk7XG5cblx0XHRcdC8vIFVwZGF0ZSBTZWFyY2hcblx0XHRcdCRkaXNwYXRjaCgkc2VhcmNoLCBgJHtkYXRhLnByZWZpeH06dXBkYXRlYCwgZGF0YSk7XG5cdFx0fVxuXHR9KTtcblxuXHQvKiBPbiBVcGRhdGVcblx0LyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cdCRzZWFyY2guYWRkRXZlbnRMaXN0ZW5lcihgJHtkYXRhLnByZWZpeH06dXBkYXRlYCwgKCkgPT4ge1xuXHRcdC8qIEJpbmQgTWVkaWEgRXZlbnRcblx0XHQvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblx0XHRjb25zdCBtZWRpYSA9ICRzZWFyY2gub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldy5tYXRjaE1lZGlhKGRhdGEubWF0Y2hNZWRpYSB8fCAnKG1heC13aWR0aDogNzIwcHgpJyk7XG5cblx0XHRtZWRpYS5hZGRMaXN0ZW5lcihvbmlucHV0KTtcblxuXHRcdC8qIEJpbmQgT3RoZXIgRXZlbnRzXG5cdFx0LyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblx0XHQkY29udHJvbC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIG9uaW5wdXQpO1xuXG5cdFx0JHNlYXJjaC5hZGRFdmVudExpc3RlbmVyKCdyZXNldCcsIG9uaW5wdXQpO1xuXHRcdCRzZWFyY2guYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0Jywgb25zdWJtaXQpO1xuXHRcdCRzZWFyY2guYWRkRXZlbnRMaXN0ZW5lcihgJHtkYXRhLnByZWZpeH06dW5sb2FkYCwgb251bmxvYWQpO1xuXHR9KTtcblxuXHRyZXR1cm4gJHNlYXJjaDtcbn07XG4iLCJpbXBvcnQgeyRhc3NpZ24gYXMgJCwgJGRpc3BhdGNoLCAkcmVwbGFjZUFsbCwgJHJlbmRlclN2Z09ySW1nfSBmcm9tICcuLi8uLi9zaGFyZWQvanMvc2hhcmVkJztcblxuLyogQXBwc1xuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuY29uc3QgcHJlZml4ID0gJ2VzcmktaGVhZGVyLWFwcHMnO1xuXG5leHBvcnQgZGVmYXVsdCAoKSA9PiB7XG5cdC8qIEFwcHM6IENvbnRlbnRcblx0LyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cdGNvbnN0ICRjb250ZW50ID0gJCgnZGl2Jywge1xuXHRcdGNsYXNzOiBgJHtwcmVmaXh9LWNvbnRlbnRgLFxuXHRcdGlkOiBgJHtwcmVmaXh9LWNvbnRlbnRgLFxuXHRcdGFyaWE6IHtleHBhbmRlZDogZmFsc2UsIGxhYmVsbGVkYnk6IGAke3ByZWZpeH0tY29udHJvbGB9XG5cdH0pO1xuXG5cdGNvbnN0ICRhcHBTd2l0Y2hlckljb24gPSAkKCdzcGFuJywge1xuXHRcdHRpdGxlOiBcIkFwcCBMYXVuY2hlclwiLFxuXHRcdFwiYXJpYS1sYWJlbFwiOiBcIkFwcCBMYXVuY2hlciBJY29uXCJcblx0fSk7XG5cblx0LyogQXBwczogQ29udHJvbFxuXHQvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblx0Y29uc3QgJGNvbnRyb2xDb250YWluZXIgPSAkKCdidXR0b24nLCB7XG5cdFx0Y2xhc3M6IGAke3ByZWZpeH0tY29udHJvbCBlbXB0eS1wYWRkaW5nYCwgaWQ6IGAke3ByZWZpeH0tY29udHJvbGBcblx0fSk7XG5cblx0Y29uc3QgJGRyb3Bkb3duID0gJCgnZGl2Jywge1xuXHRcdGNsYXNzOiAnZHJvcGRvd24nXG5cdH0pO1xuXG5cdCRjb250cm9sQ29udGFpbmVyLmFwcGVuZENoaWxkKCRkcm9wZG93bik7XG5cblx0Y29uc3QgJGNvbnRyb2wgPSAkY29udHJvbENvbnRhaW5lcjtcblxuXHQkY29udHJvbENvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuXHRcdCRkaXNwYXRjaCgkY29udHJvbCwgJ2hlYWRlcjpjbGljazphcHBzJywge2V2ZW50fSk7XG5cblx0XHQvLyBFbGVtZW50cyB3aXRoIGZvbGxvd2luZyBjbGFzcyB3b24ndCB0cmlnZ2VyL2Rpc3BhdGNoIHRoZSBkcm9wZG93blxuXHRcdGlmIChldmVudC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKGAke3ByZWZpeH0tcHJldmVudC1kcm9wZG93bmApKSByZXR1cm47XG5cblx0XHQkZGlzcGF0Y2goJGNvbnRyb2wsICdoZWFkZXI6bWVudTp0b2dnbGUnLCB7XG5cdFx0XHRzdGF0ZTogJ21lbnUnLFxuXHRcdFx0dGFyZ2V0OiAkdGFyZ2V0LFxuXHRcdFx0dHlwZTogJ3Jvb3QtdG9nZ2xlJyxcblx0XHRcdGNvbnRyb2w6ICRjb250cm9sLFxuXHRcdFx0Y29udGVudDogJGNvbnRlbnQsXG5cdFx0XHRldmVudFxuXHRcdH0pO1xuXHR9KTtcblxuXHQvKiBBcHBzOiBUYXJnZXRcblx0LyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cdGNvbnN0ICR0YXJnZXQgPSAkKCdkaXYnLCB7Y2xhc3M6IHByZWZpeH0sXG5cdFx0JGNvbnRyb2xcblx0KTtcblxuXHQvKiBBcHBzOiBIZWxwZXIgRnVuY3Rpb25zIGZvciBVcGRhdGVcblx0LyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cdGNvbnN0IGNyZWF0ZURlZmF1bHRBcHBMYXlvdXQgPSAoJHRvcEFwcENvbnRhaW5lciwgY3VycmVudEFwcCkgPT4ge1xuXHRcdGNvbnN0IGFiYnJldmlhdGlvblNpemVzID0gW1wiMHB4XCIsIFwiMzJweFwiLCBcIjI0cHhcIiwgXCIyMHB4XCIsIFwiMThweFwiLCBcIjE2cHhcIiwgXCIxNHB4XCJdO1xuXG5cdFx0Y29uc3QgbGlzdEl0ZW0gPSAkKFwibGlcIiwge1xuXHRcdFx0YWx0OiBcIlwiLFxuXHRcdFx0Y2xhc3M6IGAke3ByZWZpeH0tcHJldmVudC1kcm9wZG93biBsaW5rLW9mZi1ibGFjayBhcHBMaW5rQ29udGFpbmVyYCxcblx0XHRcdHJvbGU6IFwibWVudWl0ZW1cIlxuXHRcdH0pO1xuXG5cdFx0Y29uc3QgYXBwTGluayA9ICQoXCJhXCIsIHtcblx0XHRcdGhyZWY6IGN1cnJlbnRBcHAudXJsLCAvLyArIFwiI3VzZXJuYW1lPVwiICsgdGhpcy5fY3VycmVudFVzZXIudXNlcm5hbWUsXG5cdFx0XHR0YXJnZXQ6IFwiX2JsYW5rXCIsXG5cdFx0XHRjbGFzczogXCJhcHBMaW5rXCJcblx0XHR9KTtcblx0XHQvLyBDaGVjayBpZiBBcHAgaGFzIEljb25cblx0XHRpZiAoY3VycmVudEFwcC5pbWFnZSkge1xuXHRcdFx0Y29uc3QgYXBwSW1hZ2VDb250YWluZXIgPSAkKFwiZGl2XCIsIHtcImNsYXNzXCI6IFwiYXBwSWNvbkltYWdlXCJ9KTtcblx0XHRcdCRyZW5kZXJTdmdPckltZyh7aW1nRGVmOiBjdXJyZW50QXBwLmltYWdlLCBpbWdXaWR0aDogNDgsIGltZ0hlaWdodDogNDgsICR0YXJnZXRFbG06IGFwcEltYWdlQ29udGFpbmVyfSk7XG5cdFx0XHRhcHBMaW5rLmFwcGVuZENoaWxkKGFwcEltYWdlQ29udGFpbmVyKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Y29uc3Qgc3RyaW5nV2lkdGggPSBNYXRoLnJvdW5kKGdldFRleHRXaWR0aChjdXJyZW50QXBwLmFiYnIgfHwgXCJcIiwgXCJhdmVuaXJcIikgLyA1KTtcblx0XHRcdGxldCBhYmJyZXZpYXRpb25TaXplID0gYWJicmV2aWF0aW9uU2l6ZXNbc3RyaW5nV2lkdGhdO1xuXHRcdFx0aWYgKHN0cmluZ1dpZHRoID4gNikgeyAvLyBQcmV2ZW50IHVzZXIgZnJvbSBleGNlZWRpbmcgaWNvbiB3aWR0aFxuXHRcdFx0XHRjdXJyZW50QXBwLmFiYnIgPSBjdXJyZW50QXBwLmFiYnIuc3Vic3RyKDAsIDQpO1xuXHRcdFx0XHRhYmJyZXZpYXRpb25TaXplID0gYWJicmV2aWF0aW9uU2l6ZXNbNF07XG5cdFx0XHR9XG5cdFx0XHRjb25zdCBzdXJmYWNlRGl2ID0gJChcImRpdlwiLCB7XCJjbGFzc1wiOiBcImFwcEljb25JbWFnZVwifSk7XG5cdFx0XHRjb25zdCBzdXJmYWNlU3BhbiA9ICQoXCJzcGFuXCIsIHtcblx0XHRcdFx0c3R5bGU6IGBmb250LXNpemU6ICR7YWJicmV2aWF0aW9uU2l6ZX1gLFxuXHRcdFx0XHRjbGFzczogXCJhdmVuaXIgYXBwSWNvblN2Z1RleHRcIlxuXHRcdFx0fSwgY3VycmVudEFwcC5hYmJyKTtcblx0XHRcdHN1cmZhY2VEaXYuYXBwZW5kQ2hpbGQoc3VyZmFjZVNwYW4pO1xuXHRcdFx0c3VyZmFjZURpdi5hcHBlbmRDaGlsZCgkcmVuZGVyU3ZnT3JJbWcoe2ltZ0RlZjogY3VycmVudEFwcC5wbGFjZUhvbGRlckljb24sIGltZ1dpZHRoOiA0OCwgaW1nSGVpZ2h0OiA0OH0pKTtcblx0XHRcdGFwcExpbmsuYXBwZW5kQ2hpbGQoc3VyZmFjZURpdik7XG5cdFx0fVxuXHRcdGNvbnN0IHAgPSAkKFwicFwiLCB7c3R5bGU6IFwibWFyZ2luOjAgYXV0bzsgdGV4dC1hbGlnbjpjZW50ZXJcIn0sIGN1cnJlbnRBcHAubGFiZWwpO1xuXHRcdGFwcExpbmsuYXBwZW5kQ2hpbGQocCk7XG5cdFx0bGlzdEl0ZW0uYXBwZW5kQ2hpbGQoYXBwTGluayk7XG5cdFx0JHRvcEFwcENvbnRhaW5lci5hcHBlbmRDaGlsZChsaXN0SXRlbSk7XG5cdH07XG5cblx0Y29uc3QgZ2V0VGV4dFdpZHRoID0gKHRleHQsIGZvbnQpID0+IHsgLy8gQWRkcyBzdXBwb3J0IGZvciBhcHAgYWJicmV2aWF0aW9ucyBpbiBhbGwgbGFuZ3VhZ2VzXG5cdFx0Y29uc3QgY2FudmFzID0gZ2V0VGV4dFdpZHRoLmNhbnZhcyB8fCAoZ2V0VGV4dFdpZHRoLmNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIikpO1xuXHRcdGNvbnN0IGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xuXHRcdGNvbnRleHQuZm9udCA9IGZvbnQ7XG5cdFx0Y29uc3QgbWV0cmljcyA9IGNvbnRleHQubWVhc3VyZVRleHQodGV4dCk7XG5cdFx0cmV0dXJuIG1ldHJpY3Mud2lkdGg7XG5cdH07XG5cblx0LyogQXBwczogT24gVXBkYXRlXG5cdC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXHQkdGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoJ2hlYWRlcjp1cGRhdGU6YXBwcycsICh7ZGV0YWlsfSkgPT4ge1xuXHRcdCRyZW5kZXJTdmdPckltZyh7aW1nRGVmOiBkZXRhaWwuaW1hZ2UucGF0aCwgaW1nV2lkdGg6IGRldGFpbC5pbWFnZS53aWR0aCwgaW1nSGVpZ2h0OiBkZXRhaWwuaW1hZ2UuaGVpZ2h0LCBpbWdDbGFzczogYCR7cHJlZml4fS1pbWFnZWAsICR0YXJnZXRFbG06ICRhcHBTd2l0Y2hlckljb259KTtcblxuXHRcdGlmIChkZXRhaWwuaWNvbnMpIHtcblx0XHRcdCR0YXJnZXQuYXBwZW5kQ2hpbGQoJGNvbnRlbnQpO1xuXHRcdFx0JGNvbnRyb2wuY2xhc3NOYW1lID0gYCR7cHJlZml4fS1jb250cm9sYDtcblxuXHRcdFx0JCgkY29udHJvbCwge2FyaWE6IHtsYWJlbDogZGV0YWlsLmxhYmVsfX0pO1xuXG5cdFx0XHRjb25zdCBudW1iZXJPZkFwcHMgPSBkZXRhaWwuaWNvbnMubGVuZ3RoO1xuXHRcdFx0Y29uc3QgZHJvcGRvd25XaWR0aCA9IGAgZHJvcGRvd24td2lkdGgtJHsobnVtYmVyT2ZBcHBzIDwgNCA/IG51bWJlck9mQXBwcyA6IDQpfWA7XG5cblx0XHRcdC8vIEFwcCBJY29uc1xuXG5cdFx0XHRjb25zdCAkdG9wQXBwQ29udGFpbmVyID0gJChcInVsXCIsIHtcblx0XHRcdFx0Y2xhc3M6IGAke3ByZWZpeH0tcHJldmVudC1kcm9wZG93biBhcHBDb250YWluZXJgLFxuXHRcdFx0XHRyb2xlOiBcIm1lbnVcIlxuXHRcdFx0fSk7XG5cblx0XHRcdGNvbnN0IG1heEFwcHNQZXJEaWFsb2cgPSBudW1iZXJPZkFwcHMgPj0gMTAwID8gMTAwIDogbnVtYmVyT2ZBcHBzO1xuXHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBtYXhBcHBzUGVyRGlhbG9nOyBpICs9IDEpIHtcblx0XHRcdFx0Y3JlYXRlRGVmYXVsdEFwcExheW91dCgkdG9wQXBwQ29udGFpbmVyLCBkZXRhaWwuaWNvbnNbaV0pO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBDb250YWluZXJcblx0XHRcdGNvbnN0ICRkcm9wZG93bldyYXBwZXIgPSAkKCdkaXYnLCB7Y2xhc3M6IGAke3ByZWZpeH0tcHJldmVudC1kcm9wZG93bmB9LCAkdG9wQXBwQ29udGFpbmVyKTtcblxuXHRcdFx0Y29uc3QgJGRyb3Bkb3duTmF2ID0gJCgnbmF2Jywge1xuXHRcdFx0XHRjbGFzczogYCR7cHJlZml4fS1wcmV2ZW50LWRyb3Bkb3duIGRyb3Bkb3duLW1lbnUgZHJvcGRvd24tcmlnaHQgYXBwLXN3aXRjaGVyLWRyb3Bkb3duLW1lbnUgJHtkcm9wZG93bldpZHRofWAsXG5cdFx0XHRcdHJvbGU6IFwibWVudVwiXG5cdFx0XHR9LCAkZHJvcGRvd25XcmFwcGVyKTtcblxuXHRcdFx0JHJlcGxhY2VBbGwoJGRyb3Bkb3duLCAkYXBwU3dpdGNoZXJJY29uLCAkZHJvcGRvd25OYXYpO1xuXHRcdH1cblx0fSk7XG5cblx0cmV0dXJuICR0YXJnZXQ7XG59O1xuIiwiaW1wb3J0IHskYXNzaWduIGFzICQsICRkaXNwYXRjaCwgJGVuYWJsZUZvY3VzUmluZywgJHJlcGxhY2VBbGx9IGZyb20gJy4uLy4uL3NoYXJlZC9qcy9zaGFyZWQnO1xuXG5pbXBvcnQgY3JlYXRlQWNjb3VudCBmcm9tICcuL2hlYWRlci1hY2NvdW50JztcbmltcG9ydCBjcmVhdGVCcmFuZCBmcm9tICcuL2hlYWRlci1icmFuZCc7XG5pbXBvcnQgY3JlYXRlQnJhbmRTdHJpcGUgZnJvbSAnLi9oZWFkZXItYnJhbmRpbmctc3RyaXBlJztcbmltcG9ydCBjcmVhdGVNZW51cyBmcm9tICcuL2hlYWRlci1tZW51cyc7XG5pbXBvcnQgY3JlYXRlU2VhcmNoIGZyb20gJy4vaGVhZGVyLXNlYXJjaCc7XG5pbXBvcnQgY3JlYXRlQXBwcyBmcm9tICcuL2hlYWRlci1hcHBzJztcblxuLyogSGVhZGVyXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbmV4cG9ydCBkZWZhdWx0IChkYXRhKSA9PiB7XG5cdGxldCB2aWV3cG9ydElzU21hbGw7XG5cdGxldCB2aWV3cG9ydElzU21hbGxNZWRpdW07XG5cblx0LyogQ2FudmFzXG5cdC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXHRjb25zdCAkaGVhZGVyQ2FudmFzID0gJCgnYnV0dG9uJywge1xuXHRcdGNsYXNzOiAnZXNyaS1oZWFkZXItY2FudmFzJyxcblx0XHR0YWJpbmRleDogJy0xJyxcblx0XHRkYXRhOiB7b3BlbjogZmFsc2V9XG5cdH0pO1xuXG5cdCRoZWFkZXJDYW52YXMuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG5cdFx0JGRpc3BhdGNoKCRoZWFkZXJDYW52YXMsICdoZWFkZXI6bWVudTpjbG9zZScpO1xuXHR9KTtcblxuXHQvKiBFbGVtZW50c1xuXHQvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblx0Y29uc3QgJGJyYW5kU3RyaXBlID0gY3JlYXRlQnJhbmRTdHJpcGUoKTtcblx0Y29uc3QgJGJyYW5kID0gY3JlYXRlQnJhbmQoKTtcblx0Y29uc3QgJGFjY291bnQgPSBjcmVhdGVBY2NvdW50KCk7XG5cdGNvbnN0ICRtb2JpbGVNZW51cyA9IGNyZWF0ZU1lbnVzKHt2YXJpYW50OiAnbW9iaWxlJ30pO1xuXHRjb25zdCAkZGVza3RvcE1lbnVzID0gY3JlYXRlTWVudXMoe3ZhcmlhbnQ6ICdkZXNrdG9wJ30pO1xuXHRjb25zdCAkc2VhcmNoID0gY3JlYXRlU2VhcmNoKCk7XG5cdGNvbnN0ICRhcHBzID0gY3JlYXRlQXBwcygpO1xuXG5cdGNvbnN0ICRjbGllbnQgPSAkKCdkaXYnLCB7Y2xhc3M6ICdlc3JpLWhlYWRlci1jbGllbnQnfSxcblx0XHQkYWNjb3VudFxuXHQpO1xuXG5cdGNvbnN0ICRsaW5lQnJlYWsgPSAkKCdkaXYnLCB7Y2xhc3M6ICdlc3JpLWhlYWRlci1saW5lQnJlYWsnfSk7XG5cblx0Y29uc3QgJGhlYWRlciA9ICQoJ2RpdicsIHtjbGFzczogYGVzcmktaGVhZGVyIC0ke2RhdGEudGhlbWUgfHwgJ3dlYid9YH0sXG5cdFx0JGhlYWRlckNhbnZhcyxcblx0XHQkYnJhbmRTdHJpcGUsXG5cdFx0JGJyYW5kLFxuXHRcdCRtb2JpbGVNZW51cyxcblx0XHQkZGVza3RvcE1lbnVzLFxuXHRcdCRzZWFyY2gsXG5cdFx0JGxpbmVCcmVhayxcblx0XHQkYXBwcyxcblx0XHQkY2xpZW50XG5cdCk7XG5cblx0JGVuYWJsZUZvY3VzUmluZygkaGVhZGVyKTtcblxuXHQvKiBPbiBIZWFkZXIgVXBkYXRlXG5cdC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXHQkaGVhZGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2hlYWRlcjp1cGRhdGUnLCAoe2RldGFpbH0pID0+IHtcblx0XHRpZiAoZGV0YWlsLmJyYW5kKSB7XG5cdFx0XHRpZiAoZGV0YWlsLmJyYW5kLnRvcFN0cmlwZSkge1xuXHRcdFx0XHQkZGlzcGF0Y2goJGJyYW5kU3RyaXBlLCAnaGVhZGVyOnVwZGF0ZTpicmFuZCcsIGRldGFpbC5icmFuZCk7XG5cdFx0XHRcdCRoZWFkZXIuc3R5bGUubWFyZ2luVG9wID0gJzNweCc7XG5cdFx0XHR9XG5cdFx0XHQkZGlzcGF0Y2goJGJyYW5kLCAnaGVhZGVyOnVwZGF0ZTpicmFuZCcsIGRldGFpbC5icmFuZCk7XG5cdFx0fVxuXG5cdFx0aWYgKGRldGFpbC5tZW51cykge1xuXHRcdFx0JGRpc3BhdGNoKCRkZXNrdG9wTWVudXMsICdoZWFkZXI6dXBkYXRlOm1lbnVzJywgZGV0YWlsLm1lbnVzKTtcblx0XHRcdCRkaXNwYXRjaCgkbW9iaWxlTWVudXMsICdoZWFkZXI6dXBkYXRlOm1lbnVzJywgZGV0YWlsLm1lbnVzKTtcblx0XHR9XG5cblx0XHRpZiAoZGV0YWlsLmNvbGxhcHNlTWVudXMpIHtcblx0XHRcdCRkaXNwYXRjaCgkZGVza3RvcE1lbnVzLCAnaGVhZGVyOnVwZGF0ZTpjb2xsYXBzZU1lbnVzJywgZGV0YWlsLmNvbGxhcHNlTWVudXMpO1xuXHRcdFx0JGRpc3BhdGNoKCRtb2JpbGVNZW51cywgJ2hlYWRlcjp1cGRhdGU6Y29sbGFwc2VNZW51cycsIGRldGFpbC5jb2xsYXBzZU1lbnVzKTtcblx0XHR9XG5cblx0XHRpZiAoZGV0YWlsLnNlYXJjaCkge1xuXHRcdFx0JGRpc3BhdGNoKCRzZWFyY2gsICdoZWFkZXI6dXBkYXRlOnNlYXJjaCcsIGRldGFpbC5zZWFyY2gpO1xuXHRcdH1cblxuXHRcdGlmIChkZXRhaWwuYWNjb3VudCkge1xuXHRcdFx0JGRpc3BhdGNoKCRjbGllbnQubGFzdENoaWxkLCAnaGVhZGVyOnVwZGF0ZTphY2NvdW50JywgZGV0YWlsLmFjY291bnQpO1xuXHRcdH1cblxuXHRcdGlmIChkZXRhaWwuYWNjb3VudCkge1xuXHRcdFx0JGRpc3BhdGNoKCRjbGllbnQubGFzdENoaWxkLCAnaGVhZGVyOnVwZGF0ZTphY2NvdW50JywgZGV0YWlsLmFjY291bnQpO1xuXHRcdH1cblxuXHRcdGlmIChkZXRhaWwuYXBwcykge1xuXHRcdFx0JGRpc3BhdGNoKCRhcHBzLCAnaGVhZGVyOnVwZGF0ZTphcHBzJywgZGV0YWlsLmFwcHMpO1xuXHRcdH1cblxuXHRcdCRoZWFkZXIub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldy5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKHtrZXlDb2RlfSkgPT4ge1xuXHRcdFx0aWYgKDI3ID09PSBrZXlDb2RlKSB7XG5cdFx0XHRcdCRkaXNwYXRjaCgkaGVhZGVyLCAnaGVhZGVyOm1lbnU6Y2xvc2UnKTtcblx0XHRcdH1cblx0XHR9KTtcblx0fSk7XG5cblx0LyogT24gSGVhZGVyIE1lbnUgVG9nZ2xlXG5cdC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXHQkaGVhZGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2hlYWRlcjptZW51OnRvZ2dsZScsICh7ZGV0YWlsfSkgPT4ge1xuXHRcdGNvbnN0IHN1Ym1lbnVTaG91bGRPcGVuID0gJ3RydWUnICE9PSBkZXRhaWwuY29udHJvbC5nZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnKTtcblx0XHRjb25zdCBldmVudFR5cGUgPSBzdWJtZW51U2hvdWxkT3BlbiA/ICdoZWFkZXI6bWVudTpvcGVuJyA6ICdoZWFkZXI6bWVudTpjbG9zZSc7XG5cblx0XHQkZGlzcGF0Y2goZGV0YWlsLmNvbnRyb2wsIGV2ZW50VHlwZSwgZGV0YWlsKTtcblx0fSk7XG5cblx0LyogT24gSGVhZGVyIE1lbnUgT3BlblxuXHQvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblx0bGV0IGFjY291bnREZXRhaWwgPSBudWxsO1xuXHRsZXQgc2VhcmNoRGV0YWlsID0gbnVsbDtcblx0bGV0IG1lbnVzRGV0YWlsID0gbnVsbDtcblx0bGV0IG1lbnVEZXRhaWwgPSBudWxsO1xuXHRsZXQgYXBwc0RldGFpbCA9IG51bGw7XG5cblx0JGhlYWRlci5hZGRFdmVudExpc3RlbmVyKCdoZWFkZXI6bWVudTpvcGVuJywgKHtkZXRhaWx9KSA9PiB7XG5cdFx0Y29uc3QgaXNNZW51VG9nZ2xlID0gJ21lbnUtdG9nZ2xlJyA9PT0gZGV0YWlsLnR5cGU7XG5cblx0XHQvLyBVcGRhdGUgQ29udHJvbCwgQ29udGVudFxuXHRcdCQoZGV0YWlsLmNvbnRyb2wsIHthcmlhOiB7ZXhwYW5kZWQ6IHRydWV9fSk7XG5cdFx0JChkZXRhaWwuY29udGVudCwge2FyaWE6IHtleHBhbmRlZDogdHJ1ZSwgaGlkZGVuOiBmYWxzZX19KTtcblxuXHRcdGlmIChtZW51RGV0YWlsICYmIG1lbnVEZXRhaWwuY29udHJvbCAhPT0gZGV0YWlsLmNvbnRyb2wpIHtcblx0XHRcdCRkaXNwYXRjaChtZW51RGV0YWlsLmNvbnRyb2wsICdoZWFkZXI6bWVudTpjbG9zZScsIG1lbnVEZXRhaWwpO1xuXHRcdH1cblxuXHRcdGlmICgnbWVudS10b2dnbGUnID09PSBkZXRhaWwudHlwZSkge1xuXHRcdFx0bWVudURldGFpbCA9IGRldGFpbDtcblx0XHR9XG5cblx0XHRpZiAoJHNlYXJjaCA9PT0gZGV0YWlsLnRhcmdldCkge1xuXHRcdFx0c2VhcmNoRGV0YWlsID0gZGV0YWlsO1xuXHRcdH0gZWxzZSBpZiAoc2VhcmNoRGV0YWlsKSB7XG5cdFx0XHQkZGlzcGF0Y2goJHNlYXJjaCwgJ2hlYWRlcjptZW51OmNsb3NlJywgc2VhcmNoRGV0YWlsKTtcblx0XHRcdHNlYXJjaERldGFpbCA9IG51bGw7XG5cdFx0fVxuXG5cdFx0aWYgKCRkZXNrdG9wTWVudXMgPT09IGRldGFpbC50YXJnZXQgfHwgJG1vYmlsZU1lbnVzID09PSBkZXRhaWwudGFyZ2V0KSB7XG5cdFx0XHRtZW51c0RldGFpbCA9IGRldGFpbDtcblx0XHR9IGVsc2UgaWYgKG1lbnVzRGV0YWlsICYmICFpc01lbnVUb2dnbGUgJiYgIXZpZXdwb3J0SXNTbWFsbC5tYXRjaGVzKSB7XG5cdFx0XHQkZGlzcGF0Y2goJGRlc2t0b3BNZW51cywgJ2hlYWRlcjptZW51OmNsb3NlJywgbWVudXNEZXRhaWwpO1xuXHRcdFx0JGRpc3BhdGNoKCRtb2JpbGVNZW51cywgJ2hlYWRlcjptZW51OmNsb3NlJywgbWVudXNEZXRhaWwpO1xuXHRcdFx0bWVudXNEZXRhaWwgPSBudWxsO1xuXHRcdH1cblxuXHRcdGlmICgkYWNjb3VudCA9PT0gZGV0YWlsLnRhcmdldCkge1xuXHRcdFx0YWNjb3VudERldGFpbCA9IGRldGFpbDtcblx0XHR9IGVsc2UgaWYgKGFjY291bnREZXRhaWwpIHtcblx0XHRcdCRkaXNwYXRjaCgkYWNjb3VudCwgJ2hlYWRlcjptZW51OmNsb3NlJywgYWNjb3VudERldGFpbCk7XG5cblx0XHRcdGFjY291bnREZXRhaWwgPSBudWxsO1xuXHRcdH1cblxuXHRcdGlmICgkYXBwcyA9PT0gZGV0YWlsLnRhcmdldCkge1xuXHRcdFx0YXBwc0RldGFpbCA9IGRldGFpbDtcblx0XHR9IGVsc2UgaWYgKGFwcHNEZXRhaWwpIHtcblx0XHRcdCRkaXNwYXRjaCgkYXBwcywgJ2hlYWRlcjptZW51OmNsb3NlJywgYXBwc0RldGFpbCk7XG5cblx0XHRcdGFwcHNEZXRhaWwgPSBudWxsO1xuXHRcdH1cblxuXHRcdC8vIFVwZGF0ZSBDYW52YXNcblx0XHQkKCRoZWFkZXJDYW52YXMsIHtkYXRhOiB7b3BlbjogdHJ1ZSwgc3RhdGU6IGRldGFpbC5zdGF0ZX19KTtcblxuXHRcdC8vIFVwZGF0ZSBEb2N1bWVudCBSb290XG5cdFx0JCgkaGVhZGVyLm93bmVyRG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LCB7ZGF0YTogeydoZWFkZXItaXMtb3Blbic6IHRydWV9fSk7XG5cdH0pO1xuXG5cdC8qIE9uIEhlYWRlciBNZW51IENsb3NlXG5cdC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXHQkaGVhZGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2hlYWRlcjptZW51OmNsb3NlJywgKHtkZXRhaWx9KSA9PiB7XG5cdFx0Y29uc3QgY3VycmVudERldGFpbCA9IGRldGFpbCB8fCBtZW51c0RldGFpbCB8fCBzZWFyY2hEZXRhaWwgfHwgYWNjb3VudERldGFpbCB8fCBhcHBzRGV0YWlsIHx8IG1lbnVEZXRhaWw7XG5cblx0XHRpZiAoY3VycmVudERldGFpbCkge1xuXHRcdFx0Ly8gQ2xvc2UgdGhlIERldGFpbFxuXHRcdFx0JChjdXJyZW50RGV0YWlsLmNvbnRyb2wsIHthcmlhOiB7ZXhwYW5kZWQ6IGZhbHNlfX0pO1xuXHRcdFx0JChjdXJyZW50RGV0YWlsLmNvbnRlbnQsIHthcmlhOiB7ZXhwYW5kZWQ6IGZhbHNlLCBoaWRkZW46IHRydWV9fSk7XG5cblx0XHRcdGNvbnN0IGNhbnZhc1Nob3VsZENsb3NlID0gIXZpZXdwb3J0SXNTbWFsbE1lZGl1bS5tYXRjaGVzIHx8ICdtZW51LWNsb3NlJyAhPT0gY3VycmVudERldGFpbC50eXBlICYmICdhY2NvdW50LWNsb3NlJyAhPT0gY3VycmVudERldGFpbC50eXBlO1xuXG5cdFx0XHRpZiAoc2VhcmNoRGV0YWlsICYmIHNlYXJjaERldGFpbC5jb250cm9sID09PSBjdXJyZW50RGV0YWlsLmNvbnRyb2wpIHtcblx0XHRcdFx0JGRpc3BhdGNoKHNlYXJjaERldGFpbC5jb250ZW50Lmxhc3RDaGlsZCwgJ3Jlc2V0Jyk7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChjYW52YXNTaG91bGRDbG9zZSkge1xuXHRcdFx0XHQvLyBDbG9zZSB0aGUgQ2FudmFzXG5cdFx0XHRcdCQoJGhlYWRlckNhbnZhcywge2RhdGE6IHtvcGVuOiBmYWxzZX19KTtcblxuXHRcdFx0XHQvLyBVcGRhdGUgRG9jdW1lbnQgUm9vdFxuXHRcdFx0XHQkaGVhZGVyLm93bmVyRG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgnZGF0YS1oZWFkZXItaXMtb3BlbicpO1xuXHRcdFx0fVxuXHRcdH1cblx0fSk7XG5cblx0LyogT24gRE9NTm9kZUluc2VydGVkXG5cdC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXHQkaGVhZGVyLmFkZEV2ZW50TGlzdGVuZXIoJ0RPTU5vZGVJbnNlcnRlZCcsIGZ1bmN0aW9uIG9ubG9hZCgpIHtcblx0XHQvLyBHZXQgRG9jdW1lbnQgYW5kIFdpbmRvd1xuXHRcdGNvbnN0ICRoZWFkZXJEb2N1bWVudCA9ICRoZWFkZXIub3duZXJEb2N1bWVudDtcblx0XHRjb25zdCAkaGVhZGVyV2luZG93ID0gJGhlYWRlckRvY3VtZW50LmRlZmF1bHRWaWV3O1xuXG5cdFx0Y29uc3QgJHN0eWxlID0gJCgnc3R5bGUnKTtcblxuXHRcdGxldCBvdmVyZmxvd1k7XG5cblx0XHRpZiAoJGhlYWRlci5wYXJlbnROb2RlKSB7XG5cdFx0XHQvLyBVbmJpbmQgTm9kZSBJbnNlcnRlZFxuXHRcdFx0JGhlYWRlci5yZW1vdmVFdmVudExpc3RlbmVyKCdET01Ob2RlSW5zZXJ0ZWQnLCBvbmxvYWQpO1xuXG5cdFx0XHQvLyBVcGRhdGUgSGVhZGVyXG5cdFx0XHQkZGlzcGF0Y2goJGhlYWRlciwgJ2hlYWRlcjp1cGRhdGUnLCBkYXRhKTtcblxuXHRcdFx0LyogT24gUmVzaXplXG5cdFx0XHQvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cdFx0XHQkKCRoZWFkZXJEb2N1bWVudC5oZWFkLFxuXHRcdFx0XHQkc3R5bGVcblx0XHRcdCk7XG5cblx0XHRcdCRoZWFkZXJXaW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignb3JpZW50YXRpb25jaGFuZ2UnLCBvbnJlc2l6ZSk7XG5cdFx0XHQkaGVhZGVyV2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIG9ucmVzaXplKTtcblxuXHRcdFx0LyogT24gTWF0Y2ggTWVkaWEgQ2hhbmdlXG5cdFx0XHQvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cdFx0XHR2aWV3cG9ydElzU21hbGwgPSAkaGVhZGVyV2luZG93Lm1hdGNoTWVkaWEoJyhtYXgtd2lkdGg6IDc2N3B4KScpO1xuXHRcdFx0dmlld3BvcnRJc1NtYWxsTWVkaXVtID0gJGhlYWRlcldpbmRvdy5tYXRjaE1lZGlhKCcobWF4LXdpZHRoOiAxMDIzcHgpJyk7XG5cblx0XHRcdHZpZXdwb3J0SXNTbWFsbC5hZGRMaXN0ZW5lcihvblZpZXdwb3J0SXNTbWFsbENoYW5nZSk7XG5cdFx0XHR2aWV3cG9ydElzU21hbGxNZWRpdW0uYWRkTGlzdGVuZXIob25WaWV3cG9ydElzU21hbGxNZWRpdW1DaGFuZ2UpO1xuXG5cdFx0XHRvblZpZXdwb3J0SXNTbWFsbENoYW5nZSgpO1xuXHRcdFx0b25WaWV3cG9ydElzU21hbGxNZWRpdW1DaGFuZ2UoKTtcblxuXHRcdFx0b25yZXNpemUoKTtcblx0XHR9XG5cblx0XHRmdW5jdGlvbiBvbnJlc2l6ZSgpIHtcblx0XHRcdGNvbnN0IHdpZHRoID0gJGhlYWRlckRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aDtcblx0XHRcdGNvbnN0IGhlaWdodCA9ICRoZWFkZXJEb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0O1xuXHRcdFx0Y29uc3Qgc2Nyb2xsSGVpZ2h0ID0gJGhlYWRlckRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxIZWlnaHQ7XG5cblx0XHRcdG92ZXJmbG93WSA9IGdldENvbXB1dGVkU3R5bGUoJGhlYWRlckRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkub3ZlcmZsb3dZLnJlcGxhY2UoJ3Zpc2libGUnLCBzY3JvbGxIZWlnaHQgPiBoZWlnaHQgPyAnc2Nyb2xsJyA6ICd2aXNpYmxlJyk7XG5cblx0XHRcdCRyZXBsYWNlQWxsKCRzdHlsZSxcblx0XHRcdFx0YDpyb290ey0tZXNyaS12dzoke3dpZHRofXB4Oy0tZXNyaS12aDoke2hlaWdodH1weH1bZGF0YS1oZWFkZXItaXMtb3Blbl17d2lkdGg6JHt3aWR0aH1weDtoZWlnaHQ6JHtoZWlnaHR9cHg7b3ZlcmZsb3cteToke292ZXJmbG93WX19YFxuXHRcdFx0KTtcblxuXHRcdFx0dmlld3BvcnRJc1NtYWxsTWVkaXVtID0gJGhlYWRlcldpbmRvdy5tYXRjaE1lZGlhKCcobWF4LXdpZHRoOiAxMDIzcHgpJyk7XG5cdFx0XHRpZiAodmlld3BvcnRJc1NtYWxsTWVkaXVtLm1hdGNoZXMpIHtcblx0XHRcdFx0JGRlc2t0b3BNZW51cy5xdWVyeVNlbGVjdG9yKCcuZXNyaS1oZWFkZXItbWVudXMtY29udGVudCcpLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuXHRcdFx0XHQkbW9iaWxlTWVudXMucXVlcnlTZWxlY3RvcignLmVzcmktaGVhZGVyLW1lbnVzLWNvbnRlbnQnKS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdCRkZXNrdG9wTWVudXMucXVlcnlTZWxlY3RvcignLmVzcmktaGVhZGVyLW1lbnVzLWNvbnRlbnQnKS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcblx0XHRcdFx0JG1vYmlsZU1lbnVzLnF1ZXJ5U2VsZWN0b3IoJy5lc3JpLWhlYWRlci1tZW51cy1jb250ZW50JykuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gb25WaWV3cG9ydElzU21hbGxDaGFuZ2UoKSB7XG5cdFx0XHRpZiAodmlld3BvcnRJc1NtYWxsLm1hdGNoZXMpIHtcblx0XHRcdFx0JGRpc3BhdGNoKCRoZWFkZXIsICdoZWFkZXI6YnJlYWtwb2ludDpzJyk7XG5cblx0XHRcdFx0JG1vYmlsZU1lbnVzLmxhc3RDaGlsZC5hcHBlbmRDaGlsZCgkYWNjb3VudCk7XG5cdFx0XHRcdCRkZXNrdG9wTWVudXMubGFzdENoaWxkLmFwcGVuZENoaWxkKCRhY2NvdW50KTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdCRkaXNwYXRjaCgkaGVhZGVyLCAnaGVhZGVyOmJyZWFrcG9pbnQ6bm90OnMnKTtcblxuXHRcdFx0XHQkY2xpZW50LmFwcGVuZENoaWxkKCRhY2NvdW50KTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRmdW5jdGlvbiBvblZpZXdwb3J0SXNTbWFsbE1lZGl1bUNoYW5nZSgpIHtcblx0XHRcdGlmICh2aWV3cG9ydElzU21hbGxNZWRpdW0ubWF0Y2hlcykge1xuXHRcdFx0XHQkZGlzcGF0Y2goJGhlYWRlciwgJ2hlYWRlcjpicmVha3BvaW50OnNtJyk7XG5cdFx0XHRcdCQoJGRlc2t0b3BNZW51cy5sYXN0Q2hpbGQsIHthcmlhOiB7aGlkZGVuOiAnZmFsc2UnID09PSAkZGVza3RvcE1lbnVzLmxhc3RDaGlsZC5nZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnKX19KTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdCRkaXNwYXRjaCgkaGVhZGVyLCAnaGVhZGVyOmJyZWFrcG9pbnQ6bm90OnNtJyk7XG5cdFx0XHRcdCQoJGRlc2t0b3BNZW51cy5sYXN0Q2hpbGQsIHthcmlhOiB7aGlkZGVuOiBmYWxzZX19KTtcblx0XHRcdH1cblx0XHR9XG5cdH0pO1xuXG5cdHJldHVybiAkaGVhZGVyO1xufTtcbiIsIi8qIEdsb2JhbCBGb290ZXI6IFRvb2xpbmdcbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbmltcG9ydCB7JGFzc2lnbiBhcyAkLCAkZGlzcGF0Y2h9IGZyb20gJy4uLy4uL3NoYXJlZC9qcy9zaGFyZWQnO1xuXG5pbXBvcnQgbGFuZ3VhZ2VEaWFsb2cgZnJvbSAnLi9sYW5ndWFnZSc7XG5cbi8qIEdsb2JhbCBGb290ZXJcbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbmV4cG9ydCBkZWZhdWx0IChkYXRhLCBwcmVmaXgpID0+IHtcblx0Ly8gTGFuZ3VhZ2UgU2VsZWN0aW9uIEJ1dHRvblxuXHRjb25zdCAkbGFiZWxUZXh0ID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoZGF0YS5idXR0b25MYWJlbCk7XG5cdGNvbnN0ICRjb250cm9sID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG5cdCRjb250cm9sLmNsYXNzTGlzdC5hZGQoYCR7cHJlZml4fS1sYW5ndWFnZS1jb250cm9sYCk7XG5cdCRjb250cm9sLnNldEF0dHJpYnV0ZSgnYXJpYURlc2NyaWJlZGJ5JyxgJHtwcmVmaXh9LWxhbmd1YWdlYCk7XG5cdCRjb250cm9sLmlubmVySFRNTCA9IGRhdGEuYnV0dG9uTGFiZWw7XG5cblx0Y29uc3QgJGJhcnJpZXIgPSAkKCdkaXYnLCB7Y2xhc3M6IGAke3ByZWZpeH0tbGFuZ3VhZ2VgfSwgJGNvbnRyb2wpO1xuXG5cdCRjb250cm9sLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3BlbkRpYWxvZyk7XG5cblx0Ly8gTGFuZ3VhZ2UgRGlhbG9nXG5cdGRhdGEucHJlZml4ID0gYCR7cHJlZml4fS1sYW5ndWFnZS1kaWFsb2dgO1xuXG5cdGNvbnN0ICRsYW5ndWFnZURpYWxvZyA9IGxhbmd1YWdlRGlhbG9nKGRhdGEpO1xuXG5cdC8vIExhbmd1YWdlIERpYWxvZyBDbG9zZSBCdXR0b25cblx0Y29uc3QgJGxhbmd1YWdlRGlhbG9nQ2xvc2UgPSAkKCdidXR0b24nLCB7XG5cdFx0Y2xhc3M6IGAke3ByZWZpeH0tbGFuZ3VhZ2UtZGlhbG9nLWNsb3NlYCwgaWQ6ICdkaWFsb2ctZGVzY3JpcHRpb24nLFxuXHRcdGFyaWFMYWJlbDogZGF0YS5jbG9zZUxhYmVsXG5cdH0pO1xuXG5cdCRsYW5ndWFnZURpYWxvZ0Nsb3NlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VEaWFsb2cpO1xuXG5cdCQoJGxhbmd1YWdlRGlhbG9nLCAkbGFuZ3VhZ2VEaWFsb2dDbG9zZSk7XG5cblx0Ly8gTGFuZ3VhZ2UgRGlhbG9nIENhbnZhc1xuXHRjb25zdCAkY2FuY2VsQ2FudmFzID0gJCgnYnV0dG9uJywge1xuXHRcdGNsYXNzOiBgJHtwcmVmaXh9LWxhbmd1YWdlLWRpYWxvZy1jYW5jZWwtY2FudmFzYCxcblx0XHR0eXBlOiAnYnV0dG9uJyxcblx0XHR0YWJpbmRleDogLTFcblx0fSk7XG5cblx0JGNhbmNlbENhbnZhcy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlRGlhbG9nKTtcblxuXHRmdW5jdGlvbiBvcGVuRGlhbG9nKGV2ZW50KSB7XG5cdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuXHRcdCQoJGNhbnZhcywge1xuXHRcdFx0YXJpYToge2V4cGFuZGVkOiB0cnVlfVxuXHRcdH0pO1xuXHR9XG5cblx0ZnVuY3Rpb24gY2xvc2VEaWFsb2coZXZlbnQpIHtcblx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG5cdFx0JCgkY2FudmFzLCB7XG5cdFx0XHRhcmlhOiB7ZXhwYW5kZWQ6IGZhbHNlfVxuXHRcdH0pO1xuXHR9XG5cblx0Ly8gLi4uXG5cdGNvbnN0ICRjYW52YXMgPSAkKCdkaXYnLCB7XG5cdFx0Y2xhc3M6IGAke3ByZWZpeH0tbGFuZ3VhZ2UtZGlhbG9nLWJhcnJpZXJgLFxuXHRcdGFyaWE6IHtleHBhbmRlZDogZmFsc2V9XG5cdH0sICRsYW5ndWFnZURpYWxvZywgJGNhbmNlbENhbnZhcyk7XG5cblx0Ly8gLi4uXG5cdCRjb250cm9sLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuXHRcdCRkaXNwYXRjaCgkY29udHJvbCwgJ2Zvb3RlcjpjbGljazpsYW5ndWFnZScsIGRhdGEpO1xuXHR9KTtcblxuXHQvLyAuLi5cblx0JGJhcnJpZXIuYWRkRXZlbnRMaXN0ZW5lcignZm9vdGVyOnVwZGF0ZTpsYW5ndWFnZScsICh7ZGV0YWlsfSkgPT4ge1xuXHRcdCRjb250cm9sLmlubmVySFRNTCA9IGRldGFpbC5idXR0b25MYWJlbDtcblxuXHRcdCRiYXJyaWVyLm93bmVyRG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChcblx0XHRcdCRjYW52YXNcblx0XHQpO1xuXG5cdFx0JGJhcnJpZXIub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldy5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKHtrZXlDb2RlfSA9IGV2ZW50KSA9PiB7XG5cdFx0XHRpZiAoMjcgPT09IGtleUNvZGUpIHtcblx0XHRcdFx0Y2xvc2VEaWFsb2coZXZlbnQpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9KTtcblxuXHRyZXR1cm4gJGJhcnJpZXI7XG59O1xuIiwiaW1wb3J0IHskYXNzaWduIGFzICR9IGZyb20gJy4uLy4uL3NoYXJlZC9qcy9zaGFyZWQnO1xuXG4vKiBMYW5ndWFnZVxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuZXhwb3J0IGRlZmF1bHQgKGRhdGEpID0+IHtcblx0Y29uc3QgJGNob2ljZSA9ICQoJ3NlbGVjdCcsXG5cdFx0e1xuXHRcdFx0Y2xhc3M6IGAke2RhdGEucHJlZml4fS1jaG9pY2VgLFxuXHRcdFx0YXV0b2ZvY3VzOiAnJyxcblx0XHRcdGFyaWE6IHtsYWJlbDogZGF0YS5vcHRpb25zTGFiZWx9XG5cdFx0fSxcblx0XHQuLi5kYXRhLm9wdGlvbnMubWFwKFxuXHRcdFx0KG9wdGlvbikgPT4ge1xuXHRcdFx0XHRjb25zdCBvcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcblx0XHRcdFx0b3B0LnZhbHVlID0gb3B0aW9uLnZhbHVlO1xuXHRcdFx0XHRvcHQuaW5uZXJIVE1MID0gb3B0aW9uLmxhYmVsO1xuXHRcdFx0XHRyZXR1cm4gb3B0O1xuXHRcdFx0fVxuXHRcdClcblx0KTtcblxuXHRjb25zdCAkbGFuZ3VhZ2UgPSAkKCdmb3JtJywge1xuXHRcdFx0Y2xhc3M6IGRhdGEucHJlZml4LFxuXHRcdFx0YXJpYToge2xhYmVsbGVkYnk6IGAke2RhdGEucHJlZml4fS1tZXNzYWdlYCwgZGVzY3JpYmVkYnk6ICdkaWFsb2ctZGVzY3JpcHRpb24nfVxuXHRcdH0sXG5cdFx0JCgncCcsIHtjbGFzczogYCR7ZGF0YS5wcmVmaXh9LW1lc3NhZ2VgLCBpZDogYCR7ZGF0YS5wcmVmaXh9LW1lc3NhZ2VgfSxcblx0XHRcdCQoJ3N0cm9uZycsIGRhdGEuZ3JlZXRpbmdMYWJlbCksXG5cdFx0XHQnICcsXG5cdFx0XHRkYXRhLm1lc3NhZ2VMYWJlbFxuXHRcdCksXG5cdFx0JGNob2ljZSxcblx0XHQkKCdidXR0b24nLCB7XG5cdFx0XHRjbGFzczogYCR7ZGF0YS5wcmVmaXh9LXN1Ym1pdGAsXG5cdFx0XHR0eXBlOiAnc3VibWl0Jyxcblx0XHRcdGFyaWE6IHtsYWJlbDogYCR7ZGF0YS5zdWJtaXRMYWJlbH0gJHtkYXRhLm9wdGlvbnNMYWJlbH1gfVxuXHRcdH0sIGRhdGEuc3VibWl0TGFiZWwpXG5cdCk7XG5cblx0JGxhbmd1YWdlLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChldmVudCkgPT4ge1xuXHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cblx0XHR3aW5kb3cubG9jYXRpb24uaHJlZiA9ICRjaG9pY2UudmFsdWU7XG5cdH0pO1xuXG5cdHJldHVybiAkbGFuZ3VhZ2U7XG59O1xuIiwiLyogR2xvYmFsIEZvb3RlclxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuaW1wb3J0IHskYXNzaWduIGFzICQsICRkaXNwYXRjaH0gZnJvbSAnLi4vLi4vc2hhcmVkL2pzL3NoYXJlZCc7XG5cbi8vIENyZWF0ZSBuYXZpZ2F0aW9uXG5leHBvcnQgZGVmYXVsdCAoZGF0YSwgcHJlZml4KSA9PiB7XG5cdC8vIC4uLlxuXHRjb25zdCBtZWRpYSA9IG1hdGNoTWVkaWEoJyhtYXgtd2lkdGg6IDcxOXB4KScpO1xuXG5cdGxldCBtZWRpYU1hdGNoZXMgPSBmYWxzZTtcblxuXHRtZWRpYS5hZGRMaXN0ZW5lcihvbmNoYW5nZSk7XG5cblx0Ly8gTWVudSBJdGVtc1xuXHRjb25zdCBsaW5rcyA9IGRhdGEubWVudS5tYXAoXG5cdFx0KGl0ZW0sIGluZGV4KSA9PiAkKCdsaScsIHtjbGFzczogYCR7cHJlZml4fS1tZW51LWl0ZW1gLCBpZDogYCR7cHJlZml4fS1tZW51LWxpbmstLSR7aW5kZXh9YH0sXG5cdFx0XHQkKCdzcGFuJyxcblx0XHRcdFx0e1xuXHRcdFx0XHRcdGNsYXNzOiBgJHtwcmVmaXh9LW1lbnUtbGlua2AsXG5cdFx0XHRcdFx0cm9sZTogJ2hlYWRpbmcnXG5cdFx0XHRcdH0sXG5cdFx0XHRcdGl0ZW0ubGFiZWxcblx0XHRcdCksXG5cdFx0XHQvLyBTdWJtZW51XG5cdFx0XHQkKCdkaXYnLFxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0Y2xhc3M6IGAke3ByZWZpeH0tbWVudS0tc3ViYCwgaWQ6IGAke3ByZWZpeH0tbWVudS0tc3ViLS0ke2luZGV4fWAsXG5cdFx0XHRcdFx0YXJpYToge2xhYmVsbGVkYnk6IGAke3ByZWZpeH0tbWVudS1saW5rLS0ke2luZGV4fWB9XG5cdFx0XHRcdH0sXG5cdFx0XHRcdCQoJ3VsJyxcblx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRjbGFzczogYCR7cHJlZml4fS1tZW51LWxpc3QtLXN1YmAsXG5cdFx0XHRcdFx0XHRyb2xlOiAncHJlc2VudGF0aW9uJ1xuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0Ly8gU3VibWVudSBJdGVtc1xuXHRcdFx0XHRcdC4uLml0ZW0ubWVudS5tYXAoXG5cdFx0XHRcdFx0XHQoc3ViaXRlbSkgPT4gJCgnbGknLCB7Y2xhc3M6IGAke3ByZWZpeH0tbWVudS1pdGVtLS1zdWJgfSxcblx0XHRcdFx0XHRcdFx0JCgnYScsIHtjbGFzczogYCR7cHJlZml4fS1tZW51LWxpbmstLXN1YmAsIGhyZWY6IHN1Yml0ZW0uaHJlZn0sXG5cdFx0XHRcdFx0XHRcdFx0c3ViaXRlbS5sYWJlbFxuXHRcdFx0XHRcdFx0XHQpXG5cdFx0XHRcdFx0XHQpXG5cdFx0XHRcdFx0KVxuXHRcdFx0XHQpXG5cdFx0XHQpXG5cdFx0KVxuXHQpO1xuXG5cdC8vIE1lbnVcblx0Y29uc3QgJHRhcmdldCA9ICQoJ2RpdicsXG5cdFx0e1xuXHRcdFx0Y2xhc3M6IGAke3ByZWZpeH0tbWVudWAsXG5cdFx0XHRhcmlhOiB7bGFiZWw6IGRhdGEubGFiZWx9XG5cdFx0fSxcblx0XHQkKCd1bCcsXG5cdFx0XHR7XG5cdFx0XHRcdGNsYXNzOiBgJHtwcmVmaXh9LW1lbnUtbGlzdGAsXG5cdFx0XHRcdHJvbGU6ICdwcmVzZW50YXRpb24nXG5cdFx0XHR9LFxuXHRcdFx0Li4ubGlua3Ncblx0XHQpXG5cdCk7XG5cblx0b25jaGFuZ2UoKTtcblxuXHRyZXR1cm4gJHRhcmdldDtcblxuXHQvLyAuLi5cblx0ZnVuY3Rpb24gb25jaGFuZ2UoKSB7XG5cdFx0aWYgKG1lZGlhTWF0Y2hlcyAhPT0gbWVkaWEubWF0Y2hlcykge1xuXHRcdFx0bWVkaWFNYXRjaGVzID0gbWVkaWEubWF0Y2hlcztcblxuXHRcdFx0bGlua3MuZm9yRWFjaCgobGluaykgPT4ge1xuXHRcdFx0XHRpZiAobWVkaWFNYXRjaGVzKSB7XG5cdFx0XHRcdFx0dHJhbnNmb3JtQXNUb3VjaChsaW5rLmZpcnN0Q2hpbGQpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGRldHJhbnNmb3JtQXNUb3VjaChsaW5rLmZpcnN0Q2hpbGQpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9XG5cdH1cblxuXHQvLyAuLi5cblx0ZnVuY3Rpb24gdHJhbnNmb3JtQXNUb3VjaChsaW5rKSB7XG5cdFx0Y29uc3QgaXNWaXNpYmxlID0gJ3RydWUnICE9PSBsaW5rLm5leHRFbGVtZW50U2libGluZy5nZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJyk7XG5cblx0XHQkKGxpbmssIHtcblx0XHRcdHRhYmluZGV4OiAwLFxuXHRcdFx0cm9sZTogJ2J1dHRvbicsIGFyaWE6IHtleHBhbmRlZDogIWlzVmlzaWJsZSwgaGFzcG9wdXA6ICFpc1Zpc2libGV9XG5cdFx0fSk7XG5cblx0XHRsaW5rLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb25jbGljayk7XG5cdFx0bGluay5hZGRFdmVudExpc3RlbmVyKCdrZXlwcmVzcycsIG9ua2V5cHJlc3MpO1xuXG5cdFx0JChsaW5rLm5leHRFbGVtZW50U2libGluZywge2FyaWE6IHtoaWRkZW46IHRydWV9fSk7XG5cdH1cblxuXHQvLyAuLi5cblx0ZnVuY3Rpb24gZGV0cmFuc2Zvcm1Bc1RvdWNoKGxpbmspIHtcblx0XHRsaW5rLnJlbW92ZUF0dHJpYnV0ZSgnYXJpYS1jb250cm9scycpO1xuXHRcdGxpbmsucmVtb3ZlQXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJyk7XG5cdFx0bGluay5yZW1vdmVBdHRyaWJ1dGUoJ2FyaWEtaGFzcG9wdXAnKTtcblx0XHRsaW5rLnJlbW92ZUF0dHJpYnV0ZSgncm9sZScpO1xuXHRcdGxpbmsucmVtb3ZlQXR0cmlidXRlKCd0YWJpbmRleCcpO1xuXG5cdFx0bGluay5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9uY2xpY2spO1xuXHRcdGxpbmsuYWRkRXZlbnRMaXN0ZW5lcigna2V5cHJlc3MnLCBvbmtleXByZXNzKTtcblxuXHRcdGxpbmsubmV4dEVsZW1lbnRTaWJsaW5nLnJlbW92ZUF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nKTtcblx0fVxuXG5cdC8vIC4uLlxuXHRmdW5jdGlvbiBvbmNsaWNrKGV2ZW50KSB7XG5cdFx0Y29uc3QgY3VycmVudFRhcmdldCA9IGV2ZW50LmN1cnJlbnRUYXJnZXQ7XG5cdFx0Y29uc3QgbmV4dFRhcmdldCA9IGN1cnJlbnRUYXJnZXQubmV4dEVsZW1lbnRTaWJsaW5nO1xuXHRcdGNvbnN0IGlzVmlzaWJsZSA9ICd0cnVlJyAhPT0gbmV4dFRhcmdldC5nZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJyk7XG5cblx0XHQkKGN1cnJlbnRUYXJnZXQsIHthcmlhOiB7ZXhwYW5kZWQ6ICFpc1Zpc2libGUsIGhhc3BvcHVwOiAhaXNWaXNpYmxlfX0pO1xuXG5cdFx0JChuZXh0VGFyZ2V0LCB7YXJpYToge2hpZGRlbjogaXNWaXNpYmxlfX0pO1xuXG5cdFx0aWYgKGlzVmlzaWJsZSkge1xuXHRcdFx0JChjdXJyZW50VGFyZ2V0LCB7YXJpYToge2NvbnRyb2xzOiAwfX0pO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQkKGN1cnJlbnRUYXJnZXQsIHthcmlhOiB7Y29udHJvbHM6IG5leHRUYXJnZXQuaWR9fSk7XG5cdFx0fVxuXHR9XG5cblx0Ly8gLi4uXG5cdGZ1bmN0aW9uIG9ua2V5cHJlc3MoZXZlbnQpIHtcblx0XHRpZiAoZXZlbnQua2V5Q29kZSA9PT0gMTMgfHwgZXZlbnQua2V5Q29kZSA9PT0gMzIpIHtcblx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cblx0XHRcdCRkaXNwYXRjaChldmVudC5jdXJyZW50VGFyZ2V0LCAnY2xpY2snKTtcblx0XHR9XG5cdH1cbn07XG4iLCJpbXBvcnQgeyRhc3NpZ24gYXMgJCwgJGRpc3BhdGNoLCAkZW5hYmxlRm9jdXNSaW5nfSBmcm9tICcuLi8uLi9zaGFyZWQvanMvc2hhcmVkJztcblxuaW1wb3J0IGJyYW5kIGZyb20gJy4vZm9vdGVyLWJyYW5kJztcbmltcG9ydCBsYW5ndWFnZSBmcm9tICcuL2Zvb3Rlci1sYW5ndWFnZSc7XG5pbXBvcnQgbWVudSBmcm9tICcuL2Zvb3Rlci1tZW51JztcbmltcG9ydCBpbmZvIGZyb20gJy4vZm9vdGVyLWluZm8nO1xuaW1wb3J0IHNvY2lhbCBmcm9tICcuL2Zvb3Rlci1zb2NpYWwnO1xuXG4vKiBHbG9iYWwgRm9vdGVyXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5leHBvcnQgZGVmYXVsdCAoZGF0YSkgPT4ge1xuXHRjb25zdCBwcmVmaXggPSBkYXRhLnByZWZpeCB8fCAnZXNyaS1mb290ZXInO1xuXG5cdC8qIEZvb3RlciBDb21wb25lbnRzXG5cdC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXHRjb25zdCAkZm9vdGVyQnJhbmQgPSBicmFuZChkYXRhLmJyYW5kLCBwcmVmaXgpO1xuXHRjb25zdCAkZm9vdGVySW5mbyA9IGluZm8oZGF0YS5pbmZvLCBwcmVmaXgpO1xuXHRjb25zdCAkZm9vdGVyTGFuZ3VhZ2UgPSBkYXRhLmxhbmd1YWdlID8gbGFuZ3VhZ2UoZGF0YS5sYW5ndWFnZSwgcHJlZml4KSA6ICQoJ2RpdicsIHtjbGFzczogYGVzcmktZm9vdGVyLWxhbmd1YWdlYH0pO1xuXHRjb25zdCAkZm9vdGVyTWVudSA9IG1lbnUoZGF0YS5tZW51LCBwcmVmaXgpO1xuXHRjb25zdCAkZm9vdGVyU29jaWFsID0gc29jaWFsKGRhdGEuc29jaWFsLCBwcmVmaXgpO1xuXG5cdGNvbnN0ICRmb290ZXIgPSAkKCdmb290ZXInLFxuXHRcdHtcblx0XHRcdGNsYXNzOiBgJHtwcmVmaXh9ICR7ZGF0YS5oaWRlTWVudXMgPyAnc2tpbm55LWZvb3RlcicgOiAnJ31gLFxuXHRcdFx0cm9sZTogJ25hdmlnYXRpb24nLFxuXHRcdFx0YXJpYToge2xhYmVsOiBkYXRhLmxhYmVsfVxuXHRcdH0sXG5cblx0XHQvKiBBcHBlbmQgRm9vdGVyIENvbXBvbmVudHNcblx0XHQvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblx0XHQkKCdkaXYnLCB7Y2xhc3M6IGAke3ByZWZpeH0tc2VjdGlvbi0tMSAke2RhdGEuaGlkZU1lbnVzID8gJ2hpZGRlbicgOiAnJ31gfSxcblx0XHRcdCRmb290ZXJCcmFuZCxcblx0XHRcdCRmb290ZXJTb2NpYWxcblx0XHQpLFxuXHRcdCQoJ2RpdicsIHtjbGFzczogYCR7cHJlZml4fS1zZWN0aW9uLS0yICR7ZGF0YS5oaWRlTWVudXMgPyAnaGlkZGVuJyA6ICcnfWB9LFxuXHRcdFx0JGZvb3Rlck1lbnVcblx0XHQpLFxuXHRcdCQoJ2RpdicsIHtjbGFzczogYCR7cHJlZml4fS1zZWN0aW9uLS0zYH0sXG5cdFx0XHQkZm9vdGVyTGFuZ3VhZ2UsXG5cdFx0XHQkZm9vdGVySW5mb1xuXHRcdClcblx0KTtcblxuXHQvKiBPbiBET01Ob2RlSW5zZXJ0ZWRcblx0LyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cdCRmb290ZXIuYWRkRXZlbnRMaXN0ZW5lcignRE9NTm9kZUluc2VydGVkJywgZnVuY3Rpb24gb25ET01Ob2RlSW5zZXJ0ZWQoKSB7XG5cdFx0Ly8gVW5iaW5kIE5vZGUgSW5zZXJ0ZWRcblx0XHQkZm9vdGVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ0RPTU5vZGVJbnNlcnRlZCcsIG9uRE9NTm9kZUluc2VydGVkKTtcblxuXHRcdC8vIFNjcm9sbCB0byBGb290ZXIgb24gZm9jdXNcblx0XHQkZm9vdGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzaW4nLCAoKSA9PiB7XG5cdFx0XHRjb25zdCBzY3JvbGxZID0gJGZvb3Rlci5vd25lckRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxIZWlnaHQgLSAkZm9vdGVyLnNjcm9sbEhlaWdodDtcblxuXHRcdFx0aWYgKHNjcm9sbFkgPiAkZm9vdGVyLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcucGFnZVlPZmZzZXQpIHtcblx0XHRcdFx0JGZvb3Rlci5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3LnNjcm9sbFRvKDAsIHNjcm9sbFkpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0aWYgKGRhdGEuaGlkZU1lbnVzKSB7XG5cdFx0XHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZXNyaS1mb290ZXItYmFycmllcicpLmNsYXNzTGlzdC5hZGQoJ3NraW5ueS1mb290ZXInKTtcblx0XHR9XG5cblx0XHQvLyBVcGRhdGUgSGVhZGVyXG5cdFx0JGRpc3BhdGNoKCRmb290ZXIsICdmb290ZXI6dXBkYXRlJywgZGF0YSk7XG5cdH0pO1xuXG5cdCRlbmFibGVGb2N1c1JpbmcoJGZvb3Rlcik7XG5cblx0LyogT24gRm9vdGVyIFVwZGF0ZVxuXHQvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblx0JGZvb3Rlci5hZGRFdmVudExpc3RlbmVyKCdmb290ZXI6dXBkYXRlJywgKHtkZXRhaWx9KSA9PiB7XG5cdFx0aWYgKGRldGFpbC5icmFuZCkge1xuXHRcdFx0JGRpc3BhdGNoKCRmb290ZXJCcmFuZCwgJ2Zvb3Rlcjp1cGRhdGU6YnJhbmQnLCBkZXRhaWwuYnJhbmQpO1xuXHRcdH1cblxuXHRcdGlmIChkZXRhaWwuaW5mbykge1xuXHRcdFx0JGRpc3BhdGNoKCRmb290ZXJJbmZvLCAnZm9vdGVyOnVwZGF0ZTppbmZvJywgZGV0YWlsLmluZm8pO1xuXHRcdH1cblxuXHRcdGlmIChkZXRhaWwubGFuZ3VhZ2UpIHtcblx0XHRcdCRkaXNwYXRjaCgkZm9vdGVyTGFuZ3VhZ2UsICdmb290ZXI6dXBkYXRlOmxhbmd1YWdlJywgZGV0YWlsLmxhbmd1YWdlKTtcblx0XHR9XG5cblx0XHRpZiAoZGV0YWlsLm1lbnUpIHtcblx0XHRcdCRkaXNwYXRjaCgkZm9vdGVyTWVudSwgJ2Zvb3Rlcjp1cGRhdGU6bWVudScsIGRldGFpbC5tZW51KTtcblx0XHR9XG5cblx0XHRpZiAoZGV0YWlsLnNvY2lhbCkge1xuXHRcdFx0JGRpc3BhdGNoKCRmb290ZXJTb2NpYWwsICdmb290ZXI6dXBkYXRlOnNvY2lhbCcsIGRldGFpbC5zb2NpYWwpO1xuXHRcdH1cblxuXHRcdCRmb290ZXIub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBvbnNjcm9sbCk7XG5cblx0XHRvbnNjcm9sbCgpO1xuXG5cdFx0ZnVuY3Rpb24gb25zY3JvbGwoKSB7XG5cdFx0XHRjb25zdCBoaWRkZW4gPSAwID4gd2luZG93LnBhZ2VZT2Zmc2V0O1xuXG5cdFx0XHQkKCRmb290ZXIsIHtkYXRhOiB7aGlkZGVufX0pO1xuXHRcdH1cblx0fSk7XG5cblx0cmV0dXJuICRmb290ZXI7XG59O1xuIiwiaW1wb3J0IHskYXNzaWduIGFzICQsICRyZW5kZXJTdmdPckltZ30gZnJvbSAnLi4vLi4vc2hhcmVkL2pzL3NoYXJlZCc7XG5cbi8vIENyZWF0ZSBicmFuZGluZyBhbmQgc29jaWFsIHNlY3Rpb25zXG5leHBvcnQgZGVmYXVsdCAoZGF0YSwgcHJlZml4KSA9PiAkKCdkaXYnLCB7Y2xhc3M6IGAke3ByZWZpeH0tYnJhbmRgfSxcblx0JCgnYScsXG5cdFx0e1xuXHRcdFx0Y2xhc3M6IGAke3ByZWZpeH0tYnJhbmQtbGlua2AsXG5cdFx0XHRocmVmOiBkYXRhLmhyZWYsXG5cdFx0XHRhcmlhOiB7bGFiZWw6IGRhdGEubGFiZWx9XG5cdFx0fSxcblx0XHQkcmVuZGVyU3ZnT3JJbWcoe2ltZ0RlZjogZGF0YS5wYXRoLCBpbWdDbGFzczogYCR7cHJlZml4fS1icmFuZC1pbWFnZWB9KVxuXHQpXG4pO1xuIiwiLyogR2xvYmFsIEZvb3RlcjogVG9vbGluZ1xuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuaW1wb3J0IHskYXNzaWduIGFzICR9IGZyb20gJy4uLy4uL3NoYXJlZC9qcy9zaGFyZWQnO1xuXG4vKiBHbG9iYWwgRm9vdGVyXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5leHBvcnQgZGVmYXVsdCAoZGF0YSwgcHJlZml4KSA9PlxuXHQkKCdkaXYnLCB7Y2xhc3M6IGAke3ByZWZpeH0taW5mb2AsIGFyaWE6IHtsYWJlbDogZGF0YS5sYWJlbH19LFxuXHRcdCQoJ3VsJywge2NsYXNzOiBgJHtwcmVmaXh9LWluZm8tbGlzdGAsIHJvbGU6ICdwcmVzZW50YXRpb24nfSxcblx0XHRcdC4uLmRhdGEubWVudS5tYXAoXG5cdFx0XHRcdChpdGVtLCBpbmRleCkgPT4gJCgnbGknLCB7Y2xhc3M6IGAke3ByZWZpeH0taW5mby1pdGVtYCwgaWQ6IGAke3ByZWZpeH0taW5mby1saW5rLS0ke2luZGV4fWB9LFxuXHRcdFx0XHRcdCQoJ2EnLCB7Y2xhc3M6IGAke3ByZWZpeH0taW5mby1saW5rYCwgaHJlZjogaXRlbS5ocmVmfSxcblx0XHRcdFx0XHRcdGl0ZW0ubGFiZWxcblx0XHRcdFx0XHQpXG5cdFx0XHRcdClcblx0XHRcdClcblx0XHQpXG5cdCk7XG4iLCJpbXBvcnQgeyRhc3NpZ24gYXMgJCwgJHJlbmRlclN2Z09ySW1nfSBmcm9tICcuLi8uLi9zaGFyZWQvanMvc2hhcmVkJztcblxuZXhwb3J0IGRlZmF1bHQgKGRhdGEsIHByZWZpeCkgPT4ge1xuXHRjb25zdCAkc29jaWFsSWNvbnMgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XG5cblxuXHRkYXRhLm1lbnUuZm9yRWFjaCgoaXRlbSkgPT4gJCgkc29jaWFsSWNvbnMsXG5cdFx0JCgnbGknLCB7Y2xhc3M6IGAke3ByZWZpeH0tc29jaWFsLWl0ZW1gfSxcblx0XHRcdCQoJ2EnLFxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0Y2xhc3M6IGAke3ByZWZpeH0tc29jaWFsLWxpbmsgLSR7aXRlbS5sYWJlbC50b0xvd2VyQ2FzZSgpfWAsXG5cdFx0XHRcdFx0aHJlZjogaXRlbS5ocmVmLFxuXHRcdFx0XHRcdGFyaWE6IHtsYWJlbDogaXRlbS5sYWJlbH1cblx0XHRcdFx0fSxcblx0XHRcdFx0JHJlbmRlclN2Z09ySW1nKHtpbWdEZWY6IGl0ZW0uaW1hZ2UucGF0aCwgaW1nQ2xhc3M6IGAke3ByZWZpeH0tc29jaWFsLWltYWdlYCwgaW1nV2lkdGg6IDMwLCBpbWdIZWlnaHQ6MzAsIHZpZXdCb3ggOiBpdGVtLmltYWdlLnZpZXdCb3h9KVxuXHRcdFx0KVxuXHRcdCkpKTtcblxuXHRyZXR1cm4gJCgnZGl2Jyxcblx0XHR7Y2xhc3M6IGAke3ByZWZpeH0tc29jaWFsYCwgYXJpYToge2xhYmVsOiBkYXRhLmxhYmVsfX0sXG5cdFx0JCgndWwnLCB7Y2xhc3M6IGAke3ByZWZpeH0tc29jaWFsLWxpc3RgLCByb2xlOiAncHJlc2VudGF0aW9uJ30sXG5cdFx0XHQkc29jaWFsSWNvbnMpKTtcbn07XG4iLCJpbXBvcnQgY3JlYXRlSGVhZGVyIGZyb20gJy4vaGVhZGVyL2pzL2hlYWRlcic7XG5pbXBvcnQgY3JlYXRlRm9vdGVyIGZyb20gJy4vZm9vdGVyL2pzL2Zvb3Rlcic7XG5cbndpbmRvdy5lc3JpSGVhZGVyID0ge2NyZWF0ZTogY3JlYXRlSGVhZGVyfTtcbndpbmRvdy5lc3JpRm9vdGVyID0ge2NyZWF0ZTogY3JlYXRlRm9vdGVyfTtcblxuZnVuY3Rpb24gYnVpbGRIZWFkZXIoe3RhcmdldEVsbSwgbWVudURhdGF9KSB7XG5cdGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0RWxtKS5jbGFzc0xpc3QuYWRkKCdlc3JpLWhlYWRlci1iYXJyaWVyJyk7XG5cdGNvbnN0ICRlc3JpSGVhZGVyID0gY3JlYXRlSGVhZGVyKG1lbnVEYXRhLmhlYWRlcik7XG5cdGNvbnN0ICRoZWFkZXJCYXJyaWVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXRFbG0pO1xuXHQkaGVhZGVyQmFycmllci5hcHBlbmRDaGlsZCgkZXNyaUhlYWRlcik7XG59XG5cbmZ1bmN0aW9uIGJ1aWxkRm9vdGVyKHt0YXJnZXRFbG0sIG1lbnVEYXRhfSkge1xuXHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhcmdldEVsbSkuY2xhc3NMaXN0LmFkZCgnZXNyaS1mb290ZXItYmFycmllcicpO1xuXHRjb25zdCAkZXNyaUZvb3RlciA9IGNyZWF0ZUZvb3RlcihtZW51RGF0YS5mb290ZXIpO1xuXHRjb25zdCAkZm9vdGVyQmFycmllciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0RWxtKTtcblx0JGZvb3RlckJhcnJpZXIuYXBwZW5kQ2hpbGQoJGVzcmlGb290ZXIpO1xufVxuXG5leHBvcnQgZGVmYXVsdCB7XG5cdGNyZWF0ZUhlYWRlcjogYnVpbGRIZWFkZXIsXG5cdGNyZWF0ZUZvb3RlcjogYnVpbGRGb290ZXIsXG5cdGNyZWF0ZTogKHtoZWFkZXJFbG0sIGZvb3RlckVsbSwgbWVudURhdGF9KSA9PiB7XG5cdFx0YnVpbGRIZWFkZXIoe21lbnVEYXRhLCB0YXJnZXRFbG0gOiBoZWFkZXJFbG19KTtcblx0XHRidWlsZEZvb3Rlcih7bWVudURhdGEsIHRhcmdldEVsbSA6IGZvb3RlckVsbX0pO1xuXHR9XG59O1xuIl0sIm5hbWVzIjpbIiRhc3NpZ24iLCJpZCIsImVsZW1lbnQiLCJOb2RlIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50Iiwic2xpY2UiLCJjYWxsIiwiYXJndW1lbnRzIiwiZm9yRWFjaCIsInNvdXJjZSIsImFwcGVuZENoaWxkIiwiaW5uZXJIVE1MIiwiYXNzaWduU291cmNlIiwicHJlZml4Iiwia2V5IiwiYWRkRXZlbnRMaXN0ZW5lciIsIk9iamVjdCIsInNldEF0dHJpYnV0ZSIsIiRyZXBsYWNlQWxsIiwicGFyZW50Tm9kZSIsImxhc3RDaGlsZCIsInJlbW92ZUNoaWxkIiwibm9kZXMiLCJmcmFnbWVudCIsImNyZWF0ZURvY3VtZW50RnJhZ21lbnQiLCJub2RlIiwiY3JlYXRlVGV4dE5vZGUiLCIkZGlzcGF0Y2giLCJ0YXJnZXQiLCJ0eXBlIiwiZGV0YWlsIiwiZXZlbnQiLCJjcmVhdGVFdmVudCIsImluaXRDdXN0b21FdmVudCIsImRpc3BhdGNoRXZlbnQiLCIkZW5hYmxlRm9jdXNSaW5nIiwia2V5Ym9hcmRUaHJvdHRsZVRpbWVvdXRJRCIsImFjdGl2ZUVsZW1lbnRzIiwiYWN0aXZlRWxlbWVudCIsInJlbW92ZUF0dHJpYnV0ZSIsIkVsZW1lbnQiLCJwdXNoIiwiY2xlYXJUaW1lb3V0Iiwic2V0VGltZW91dCIsIiRyZW5kZXJTdmdPckltZyIsImltZ0RlZiIsImltZ0NsYXNzIiwiaW1nV2lkdGgiLCJpbWdIZWlnaHQiLCJ2aWV3Qm94IiwiJHRhcmdldEVsbSIsIiRpbWdXcmFwcGVyIiwic3ZnUHJvcHMiLCJjbGFzcyIsInJvbGUiLCJ3aWR0aCIsImhlaWdodCIsImluZGV4T2YiLCJsZW5ndGgiLCJ1cmwiLCJjYWxsYmFjayIsIm9uRXJyb3IiLCJ4aHIiLCJYTUxIdHRwUmVxdWVzdCIsInJlYWR5U3RhdGUiLCJzdGF0dXMiLCJyZXNwb25zZVRleHQiLCJvcGVuIiwic2VuZCIsInN2Z0NvbnRlbnRzIiwiZmlyc3RFbGVtZW50Q2hpbGQiLCIkaW1nIiwiY3JlYXRlRWxlbWVudE5TIiwibWFwIiwiZCIsInJlbmRlckltZ1RhZyIsInZhcmlhbnQiLCIkdGFyZ2V0IiwiJCIsImNsYXNzTGlzdCIsImFkZCIsIiR0b2dnbGUiLCJjb250cm9scyIsImV4cGFuZGVkIiwiaGFzcG9wdXAiLCJsYWJlbGxlZGJ5IiwiJGNvbnRlbnQiLCJoaWRkZW4iLCJtZW51IiwidXVpZCIsImFyaWEiLCJpdGVtIiwic3V1aWQiLCIkbGlua0ljb24iLCJpY29uIiwicGF0aCIsIiRzdWJjb250cm9sIiwiaGlkZUxhYmVsSW5EZXNrdG9wIiwiaHJlZiIsImxhYmVsIiwiZGF0YSIsIiRsaSIsImhhc01lbnVJdGVtcyIsIm1lbnVzIiwiaGFzRmVhdHVyZWRJdGVtcyIsInRpbGVzIiwiJHN1YnRvZ2dsZSIsIiRzdWJjb250ZW50IiwiZmlsbGVkIiwiY2hpbGRpdGVtIiwiJHN1YmxpbmsiLCJuZXdDb250ZXh0IiwicXVlcnlTZWxlY3RvciIsImdldEVsZW1lbnRCeUlkIiwicXVlcnlTZWxlY3RvckFsbCIsImNvbGxhcHNlIiwiaSIsIiRjb250cm9sIiwiaGlkZSIsImltYWdlIiwiZGlhbG9nIiwiJGRpYWxvZyIsIiRsYWJlbCIsInF1ZXJ5TGFiZWwiLCJuYW1lIiwiYXV0b2NvbXBsZXRlIiwiYXV0b2NvcnJlY3QiLCJzcGVsbGNoZWNrIiwiJG1lYXN1cmVUZXh0Tm9kZSIsIiRtZWFzdXJlVGV4dCIsIiRtZWFzdXJlIiwiJHN1Ym1pdCIsInN1Ym1pdExhYmVsIiwiJHNlYXJjaCIsImFjdGlvbiIsImZvY3VzIiwiY29udHJvbElzRmlsbGVkIiwiY29udHJvbFZhbHVlIiwib25pbnB1dCIsInZhbHVlIiwibmV3Q29udHJvbFZhbHVlIiwibm9kZVZhbHVlIiwiY3VycmVudFdpZHRoIiwic2Nyb2xsV2lkdGgiLCJzdHlsZSIsIm9uc3VibWl0Iiwib25ET01Ob2RlSW5zZXJ0ZWQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwib3duZXJEb2N1bWVudCIsImRlZmF1bHRWaWV3IiwibWF0Y2hNZWRpYSIsImFkZExpc3RlbmVyIiwib251bmxvYWQiLCJlc3JpU2VhcmNoIiwiJGRpYWxvZ0NhbmNlbEJ1dHRvbiIsImNhbmNlbExhYmVsIiwiZ2V0QXR0cmlidXRlIiwidmlld3BvcnRJc1NtYWxsIiwidmlld3BvcnRJc1NtYWxsTWVkaXVtIiwiJGhlYWRlckNhbnZhcyIsIiRicmFuZFN0cmlwZSIsImJhY2tncm91bmRDb2xvciIsInRvcFN0cmlwZSIsIiRicmFuZCIsImJyYW5kVGV4dCIsIiRicmFuZFRleHQiLCIkYWNjb3VudCIsIiRjb250cm9sU2lnbmluVGV4dCIsIiRjb250cm9sU2lnbmluIiwiJGNvbnRyb2xJbWFnZSIsIiRjb250cm9sTmFtZVRleHQiLCIkY29udHJvbE5hbWUiLCIkY29udHJvbElkVGV4dCIsIiRjb250cm9sSWQiLCIkY29udGVudFRvZ2dsZVRleHQiLCIkY29udGVudFRvZ2dsZSIsIiRjb250ZW50SW1hZ2UiLCIkY29udGVudEluZm9OYW1lVGV4dCIsIiRjb250ZW50SW5mb0lkVGV4dCIsIiRjb250ZW50SW5mb0dyb3VwVGV4dCIsIiRjb250ZW50SW5mbyIsIiRjb250ZW50TWVudSIsIiRjb250ZW50U2lnbmluU3dpdGNoVGV4dCIsIiRjb250ZW50U2lnbmluU3dpdGNoIiwiJGNvbnRlbnRTaWduaW5TaWdub3V0VGV4dCIsIiRjb250ZW50U2lnbmluU2lnbm91dCIsIiRjb250ZW50U2lnbmluTWVudSIsInNpZ25pbiIsInN3aXRjaCIsInNpZ25vdXQiLCJ1c2VyIiwiZ3JvdXAiLCJjcmVhdGVBY2NvdW50IiwiJG1vYmlsZU1lbnVzIiwiY3JlYXRlTWVudXMiLCIkZGVza3RvcE1lbnVzIiwiY3JlYXRlU2VhcmNoIiwiJGFwcHMiLCIkYXBwU3dpdGNoZXJJY29uIiwiJGNvbnRyb2xDb250YWluZXIiLCIkZHJvcGRvd24iLCJjb250YWlucyIsImNyZWF0ZURlZmF1bHRBcHBMYXlvdXQiLCIkdG9wQXBwQ29udGFpbmVyIiwiY3VycmVudEFwcCIsImFiYnJldmlhdGlvblNpemVzIiwibGlzdEl0ZW0iLCJhcHBMaW5rIiwiYXBwSW1hZ2VDb250YWluZXIiLCJzdHJpbmdXaWR0aCIsIk1hdGgiLCJyb3VuZCIsImdldFRleHRXaWR0aCIsImFiYnIiLCJhYmJyZXZpYXRpb25TaXplIiwic3Vic3RyIiwic3VyZmFjZURpdiIsInN1cmZhY2VTcGFuIiwicGxhY2VIb2xkZXJJY29uIiwicCIsInRleHQiLCJmb250IiwiY29udGV4dCIsImNhbnZhcyIsImdldENvbnRleHQiLCJtZWFzdXJlVGV4dCIsImljb25zIiwiY2xhc3NOYW1lIiwibnVtYmVyT2ZBcHBzIiwiZHJvcGRvd25XaWR0aCIsIm1heEFwcHNQZXJEaWFsb2ciLCIkZHJvcGRvd25XcmFwcGVyIiwiJGRyb3Bkb3duTmF2IiwiY3JlYXRlQXBwcyIsIiRjbGllbnQiLCIkbGluZUJyZWFrIiwiJGhlYWRlciIsInRoZW1lIiwiYnJhbmQiLCJtYXJnaW5Ub3AiLCJjb2xsYXBzZU1lbnVzIiwic2VhcmNoIiwiYWNjb3VudCIsImFwcHMiLCJrZXlDb2RlIiwiZXZlbnRUeXBlIiwiY29udHJvbCIsImFjY291bnREZXRhaWwiLCJzZWFyY2hEZXRhaWwiLCJtZW51c0RldGFpbCIsIm1lbnVEZXRhaWwiLCJhcHBzRGV0YWlsIiwiaXNNZW51VG9nZ2xlIiwiY29udGVudCIsIm1hdGNoZXMiLCJzdGF0ZSIsImRvY3VtZW50RWxlbWVudCIsImhlYWRlci1pcy1vcGVuIiwiY3VycmVudERldGFpbCIsImNhbnZhc1Nob3VsZENsb3NlIiwib25sb2FkIiwiJGhlYWRlckRvY3VtZW50IiwiJGhlYWRlcldpbmRvdyIsIiRzdHlsZSIsIm92ZXJmbG93WSIsIm9ucmVzaXplIiwiY2xpZW50V2lkdGgiLCJjbGllbnRIZWlnaHQiLCJzY3JvbGxIZWlnaHQiLCJnZXRDb21wdXRlZFN0eWxlIiwicmVwbGFjZSIsInJlbW92ZSIsIm9uVmlld3BvcnRJc1NtYWxsQ2hhbmdlIiwib25WaWV3cG9ydElzU21hbGxNZWRpdW1DaGFuZ2UiLCJoZWFkIiwiYnV0dG9uTGFiZWwiLCIkYmFycmllciIsInByZXZlbnREZWZhdWx0IiwiJGNhbnZhcyIsIiRjaG9pY2UiLCIkbGFuZ3VhZ2UiLCIkbGFuZ3VhZ2VEaWFsb2ciLCJvcHRpb25zTGFiZWwiLCJvcHRpb25zIiwib3B0aW9uIiwib3B0IiwiZGVzY3JpYmVkYnkiLCJncmVldGluZ0xhYmVsIiwibWVzc2FnZUxhYmVsIiwibG9jYXRpb24iLCIkbGFuZ3VhZ2VEaWFsb2dDbG9zZSIsImNsb3NlTGFiZWwiLCJjbG9zZURpYWxvZyIsIiRjYW5jZWxDYW52YXMiLCJib2R5IiwibWVkaWEiLCJtZWRpYU1hdGNoZXMiLCJvbmNoYW5nZSIsImxpbmtzIiwiaW5kZXgiLCJzdWJpdGVtIiwibGluayIsImlzVmlzaWJsZSIsImZpcnN0Q2hpbGQiLCJuZXh0RWxlbWVudFNpYmxpbmciLCJvbmNsaWNrIiwib25rZXlwcmVzcyIsImN1cnJlbnRUYXJnZXQiLCJuZXh0VGFyZ2V0IiwiJHNvY2lhbEljb25zIiwiJGZvb3RlckJyYW5kIiwiJGZvb3RlckluZm8iLCJpbmZvIiwiJGZvb3Rlckxhbmd1YWdlIiwibGFuZ3VhZ2UiLCIkZm9vdGVyTWVudSIsIiRmb290ZXJTb2NpYWwiLCJzb2NpYWwiLCJ0b0xvd2VyQ2FzZSIsIiRmb290ZXIiLCJoaWRlTWVudXMiLCJzY3JvbGxZIiwicGFnZVlPZmZzZXQiLCJzY3JvbGxUbyIsIm9uc2Nyb2xsIiwid2luZG93IiwiYnVpbGRIZWFkZXIiLCJ0YXJnZXRFbG0iLCJtZW51RGF0YSIsIiRlc3JpSGVhZGVyIiwiY3JlYXRlSGVhZGVyIiwiaGVhZGVyIiwiYnVpbGRGb290ZXIiLCIkZXNyaUZvb3RlciIsImNyZWF0ZUZvb3RlciIsImZvb3RlciIsImVzcmlIZWFkZXIiLCJjcmVhdGUiLCJlc3JpRm9vdGVyIiwiaGVhZGVyRWxtIiwiZm9vdGVyRWxtIl0sIm1hcHBpbmdzIjoieUxBdUJBLFNBQVNBLEVBQVFDLE9BTVBDLEVBQVVELGFBQWNFLEtBQU9GLEVBQUtHLFNBQVNDLGNBQWNKLFlBRTlESyxNQUFNQyxLQUFLQyxVQUFXLEdBQUdDLFFBQVEsU0FBQ0MsR0FDN0JBLGFBQWtCUCxPQUVWUSxZQUFZRCxHQUNiLGlCQUFvQkEsSUFFbkJFLFVBQVlGLEVBaENoQyxTQUFTRyxFQUFhWCxFQUFTUSxFQUFRSSxPQUM5QixJQUFNQyxLQUFPTCxFQUNWLG1CQUFzQkEsRUFBT0ssS0FFckJDLGlCQUFpQkYsRUFBU0MsRUFBS0wsRUFBT0ssSUFDdkNFLE9BQU9QLEVBQU9LLE1BQVVMLEVBQU9LLEtBRXpCYixFQUFTUSxFQUFPSyxHQUFTRCxFQUFTQyxTQUd2Q0csYUFBYUosRUFBU0MsRUFBS0wsRUFBT0ssS0F3QjdCYixFQUFTUSxFQUFRLE1BSS9CUixFQWtCWCxTQUFTaUIsRUFBWUMsUUFJVkEsRUFBV0MsYUFDSEMsWUFBWUYsRUFBV0MsV0EwQjFDLElBQW9CRSxFQUNWQyxXQXhCS2IsYUF1QktZLEVBdEJEZixVQXVCVGdCLEVBQVdwQixTQUFTcUIsNEJBRXZCbkIsTUFBTUMsS0FBS2dCLEVBQU8sR0FBR2QsUUFBUSxTQUFDaUIsR0FDekJBLGFBQWdCdkIsT0FDUFEsWUFBWWUsS0FFWmYsWUFDTFAsU0FBU3VCLGVBQWVELE1BSzdCRixJQWhDQUosMGhDQ3BFWCxTQUFTUSxFQUFVQyxFQUFRQyxFQUFNQyxPQUUxQkMsRUFBUTVCLFNBQVM2QixZQUFZLGlCQUU3QkMsZ0JBQWdCSixHQUFNLEdBQU0sRUFBTUMsS0FFakNJLGNBQWNILEdBR3RCLFNBQVNJLEVBQWlCUCxPQUdyQlEsU0FFRUMsT0FFQ3RCLGlCQUFpQixPQUFRLGFBQ2hCUCxRQUFRLFNBQUM4QixLQUNUQyxnQkFBZ0IsY0FDaEJBLGdCQUFnQixxQkFFN0IsS0FFSXhCLGlCQUFpQixRQUFTLGVBQzFCdUIsRUFBZ0JuQyxTQUFTbUMsY0FFM0JBLGFBQXlCRSxZQUNkdkIsYUFBYSxXQUFZLElBRW5DbUIsS0FDV25CLGFBQWEsZ0JBQWlCLE1BRzlCd0IsS0FBS0gsTUFFbkIsS0FFSXZCLGlCQUFpQixVQUFXLGFBQ04yQixhQUFhTixJQUE4Qk8sV0FBVyxhQUNyRCxHQUMxQixPQUNELEdBdUJKLFNBQVNDLGFBQWlCQyxPQUFBQSxhQUFTLFNBQUlDLFNBQUFBLGFBQVcsS0FBSUMsSUFBQUEsU0FBVUMsSUFBQUEsVUFBV0MsSUFBQUEsUUFBU2pELElBQUFBLEdBQUlrRCxJQUFBQSxXQUNqRkMsRUFBY3BELEVBQVEsUUFFdEJxRCxHQUFZQyxNQUFPUCxFQUFVUSxLQUFNLG1CQUNyQ1AsR0FBWUMsTUFDTk8sTUFBUVIsSUFDUlMsT0FBU1IsR0FFZkMsTUFDTUEsUUFBVUEsR0FFaEJqRCxNQUNNQSxHQUFLQSxHQUdPLGlCQUFYNkMsRUFDTkEsRUFBT1ksUUFBUSxVQUFZWixFQUFPYSxPQUFTLEVBcENqRCxTQUFnQkMsRUFBS0MsT0FBVUMseURBQVUsYUFFbENDLEVBQU0sSUFBSUMsaUJBRVpoRCxpQkFBaUIsbUJBQW9CLFdBQ3BDLElBQU0rQyxFQUFJRSxhQUNULE1BQVFGLEVBQUlHLFNBQ05ILEVBQUlJLHVCQU9aQyxLQUFLLE1BQU9SLEtBQ1pTLFFBc0JLdkIsRUFBUSxTQUFDd0IsS0FDSDFELFVBQVkwRCxJQUNYbEIsRUFBWW1CLGtCQUNYbEIsSUFDWixjQUNZRCxjQUFhbkQsS0FBSTZDLFNBQVFDLFdBQVVDLFdBQVVDLG1CQUc5Q0csY0FBYW5ELEtBQUk2QyxTQUFRQyxXQUFVQyxXQUFVQyxrQkFFdEQsS0FDQXVCLEVBQU94RSxFQUFRSSxTQUFTcUUsZ0JBQWdCLDZCQUE4QixPQUMzRXBCLEVBQ0FyRCxnQkFBUUksU0FBU3FCLG1DQUNicUIsRUFBTzRCLElBQ1QsU0FBQ0MsVUFBTTNFLEVBQ05JLFNBQVNxRSxnQkFBZ0IsNkJBQThCLFNBQ3RERSxjQUlPaEUsWUFBWTZELFVBR3JCckIsTUFDUXZDLFVBQVksS0FDWkQsWUFBWXlDLElBR2pCQSxXQUVFd0IsU0FBY3hCLElBQUFBLFlBQWFuRCxJQUFBQSxHQUFJNkMsSUFBQUEsT0FBUUMsSUFBQUEsU0FBVUMsSUFBQUEsU0FBVUMsSUFBQUEsWUFDdkR0QyxZQUFZWCxFQUFRLGdCQUUxQjhDLFFBQ0VDLFNBQ0lDLFdBQW9CQSxPQUFlLFVBQU9DLFlBQXNCQSxPQUFnQixRQ3hIOUYsSUFBTW5DLEVBQVMsc0JDQVRBLEVBQVMsb0JDQVRBLEVBQVMsOEJDQVRBLEVBQVMsMENBRUUrRCxRQUFBQSxhQUFVLFlBQ3BCQyxFQUFVQyxFQUFFLE9BQVF6QixNQUFPeEMsRUFBUWIsR0FBT2EsTUFBVStELFNBQ2xERyxVQUFVQyxRQUFRSixHQUVWLFdBQVpBLEVBQXNCLEtBQ25CSyxFQUFVSCxFQUFFLGdCQUNQakUsWUFBaUJiLEdBQU9hLE1BQVUrRCxrQkFDckNNLFNBQWFyRSxhQUFrQnNFLFVBQVUsRUFBT0MsVUFBVSxFQUFNQyxXQUFZLHlCQUc1RXRFLGlCQUFpQixRQUFTLFNBQUNnQixLQUN4QmtELEVBQVMsOEJBQ1RBLFVBQ0FLLFFBQ0gsUUFDQyxjQUNDVCxPQUNGLDRCQUtOQSxFQUFTSSxPQU1OSyxFQUFXUixFQUFFLGFBQ1JqRSxtQkFDSDBFLFFBQVEsRUFBTUosVUFBVSxjQUc5Qk4sRUFBU1MsS0FTSHZFLGlCQUFpQixzQkFBdUIsZ0JBQUVlLElBQUFBLHVCQUVoRHdELFlBQ0d4RCxFQUFPMkMsSUFDVCxTQUFDZSxFQUFNQyxVQUFTWCxFQUFFLGFBRU5qRSxlQUNKLFNBRVBpRSxnQkFBRSxZQUVVakUsZUFDSixhQUFjNkUsTUFBT0wsV0FBWSxnQ0FFckNHLEVBQUtmLElBQUksU0FBQ2tCLEVBQU1DLE9BSVpDLEVBQVlGLEVBQUtHLEtBQ3BCbEQsR0FBaUJDLE9BQVE4QyxFQUFLRyxLQUFLQyxLQUFNakQsU0FBYWpDLGVBQW9Ca0MsU0FBVTRDLEVBQUtHLEtBQUt2QyxPQUFTLE9BQVFQLFVBQVcyQyxFQUFLRyxLQUFLdEMsUUFBVSxTQUM5SSxLQUVHd0MsRUFBY2xCLEVBQUUsV0FFVmpFLFlBQWU4RSxFQUFLTSxtQkFBcUIsY0FBZ0IsSUFBTWpHLEdBQU9hLFdBQWU0RSxNQUFRRyxPQUNqR0QsRUFBS08sTUFBUSxnQkFFcEJMLEVBQ0FmLEVBQUUsUUFBU3pCLE1BQVd4QyxpQkFBc0I4RSxFQUFLUSxRQUc5Q1IsRUFBS1MsY0FFRFQsRUFBS1MsV0FJUEMsRUFBTXZCLEVBQUUsTUFBT3pCLE1BQVV4QyxXQUFnQm1GLEdBRXpDTSxFQUFlWCxFQUFLWSxPQUFTWixFQUFLWSxNQUFNN0MsT0FDeEM4QyxFQUFtQmIsRUFBS2MsT0FBU2QsRUFBS2MsTUFBTS9DLFVBRTlDNEMsR0FBZ0JFLEVBQWtCLEtBSS9CRSxFQUFhNUIsRUFBRSxVQUFXekIsTUFBVXhDLHFCQUN6QzhFLEVBQUtRLE9BR0FRLEVBQWM3QixFQUFFLGFBRVZqRSxhQUFrQmIsR0FBT2EsTUFBVStELGNBQW1CYSxNQUFRRyxPQUNsRSxRQUFTRixNQUFPSCxRQUFRLEVBQU1KLFVBQVUsU0FDdkN5QixPQUFTakIsRUFBS1ksT0FBNkIsR0FBcEJaLEVBQUtZLE1BQU03QyxPQUFlaUMsRUFBS1ksTUFBTWxHLE1BQU0sRUFBRyxJQUFJcUQsT0FBUyxLQUUxRmdELEdBR0dKLEtBQ0RLLEVBQ0Q3QixnQkFBRSxZQUVVakUsa0JBQ0osYUFBYzZFLE1BQU9MLFdBQWV4RSxNQUFVK0QsV0FBZ0JhLE1BQVFHLGNBSTFFRCxFQUFLWSxNQUFNbEcsTUFBTSxFQUFHLElBQUlvRSxJQUMxQixTQUFDb0MsT0FDTUMsRUFBV2hDLEVBQUUsV0FFUGpFLGtCQUNKZ0csRUFBVVgsTUFFakJXLEVBQVVWLGNBR1BVLEVBQVVULFFBQ1hVLFFBQ0tELEVBQVVULE9BSWRTLEVBQVVFLGNBQ1hELFVBQ08sYUFDSCxhQUlBaEMsRUFBRSxNQUFPekIsTUFBVXhDLGNBQ3pCaUcsU0FRRk4sS0FFREcsRUFDRDdCLGdCQUFFLFlBRVVqRSw0QkFDSixhQUFjNkUsTUFBT0wsV0FBZXhFLFdBQWU0RSxNQUFRRyxTQUMxRGdCLFVBQVdqQixFQUFLYyxNQUFNcEcsTUFBTSxFQUFHLEdBQUdxRCxtQkFLdkNpQyxFQUFLYyxNQUFNcEcsTUFBTSxFQUFHLEdBQUdvRSxJQUN6QixTQUFDb0MsT0FDTUMsRUFBV2hDLEVBQUUsV0FFUGpFLDRCQUNKZ0csRUFBVVgsTUFFakJ0RCxHQUFpQkMsT0FBUWdFLEVBQVVmLEtBQU1oRCxTQUFhakMsbUJBQXdCa0MsU0FBVThELEVBQVV0RCxNQUFPUCxVQUFXNkQsRUFBVXJELFNBQzlIc0IsRUFBRSxRQUFTekIsTUFBVXhDLG1CQUNwQmdHLEVBQVVWLGVBSVJVLEVBQVVULFFBQ1hVLFFBQ0tELEVBQVVULE9BSWRTLEVBQVVFLGNBQ1hELFVBQ08sYUFDSCxhQUlBaEMsRUFBRSxNQUFPekIsTUFBVXhDLHdCQUN6QmlHLFdBUUpULEVBQ0RNLEtBR1c1RixpQkFBaUIsUUFBUyxhQUMzQmlGLEVBQWEsOEJBQ2JBLFVBQ0FXLFdBQ0EsUUFDRixZQUNELG9CQUlHNUYsaUJBQWlCLFFBQVMsYUFDMUIyRixFQUFZLDZCQUNaVixXQUNBLFVBQ0FXLE9BQ0gsd0JBS0ZOLGlCQVFMdEYsaUJBQWlCLDhCQUErQixnQkFBRWUsSUFBQUEsVUFDckRBLElBQWtDLEVBQXhCQSxFQUFPMkIsU0FBUSxHQUFZLFVBQy9CdUQsY0FBYyw2QkFBNkJqQyxVQUFVQyxJQUFJLHFCQUN6RGlDLGVBQWUscUJBQXFCbEMsVUFBVUMsSUFBSSx3QkFDbERpQyxlQUFlLDRCQUE0QmxDLFVBQVVDLElBQUksdUJBRTVEdUIsS0FBV2xHLE1BQU1DLEtBQUt1RSxFQUFRcUMsaUJBQWlCLDhCQUM5QzFHLFFBQVEsU0FBQzJHLEVBQVVDLEdBQ3JCRCxLQUNHQyxHQUFHckMsVUFBVUMsSUFBSSxtQkFNcEJILEdDN09GaEUsRUFBUyxzQ0FNUndHLEVBQVd2QyxFQUFFLGdCQUVQakUsYUFBa0JiLEdBQU9hLG1CQUM1QnNFLFVBQVUsRUFBT0QsU0FBYXJFLGtCQUk5QkUsaUJBQWlCLFFBQVMsU0FBQ2dCLEtBQ3pCc0YsRUFBVSx1QkFBd0J0RixZQUVsQ3NGLEVBQVUsOEJBQ1ZBLFVBQ0EvQixRQUNGLGdCQUNDVCxPQUNGLGdDQVFGUyxFQUFXUixFQUFFLGFBQ1JqRSxhQUFrQmIsR0FBT2EsbUJBQzVCc0UsVUFBVSxFQUFPRSxXQUFleEUsZ0JBTWxDZ0UsRUFBVUMsRUFBRSxPQUFRekIsTUFBT3hDLEdBQ2hDd0csRUFBVS9CLFlBTUh2RSxpQkFBaUIsdUJBQXdCLGdCQUFFZSxJQUFBQSxXQUM3Q0EsRUFBT3dGLFNBQ1RELEdBQVczQixNQUFPUyxNQUFPckUsRUFBT3FFLFlBQ2pCdEQsT0FBUWYsRUFBT3lGLE1BQU96RSxTQUFhakMsV0FBZ0JiLEdBQU9hLFdBQWdCcUMsV0FBWW1FLElBRW5HdkYsRUFBTzBGLFFBQVEsR0FDWEEsT0FBTzNHLE9BQVMsZ0NBRWpCNEcsV0NsRE1yQixPQUlUc0IsRUFBUzVDLEVBQUUsZUFDTnNCLEVBQUt2RixvQkFDUHVGLEVBQUt2Rix5QkFDWHVGLEVBQUt1QixZQUVGTixFQUFXdkMsRUFBRSxlQUNSc0IsRUFBS3ZGLGtCQUFrQmIsR0FBT29HLEVBQUt2Rix1QkFDdkMsU0FBVStHLEtBQU0sbUJBQ04sTUFBT0MsYUFBYyxNQUFPQyxZQUFhLE1BQU9DLFdBQVksVUFHdkVDLEVBQW1CN0gsU0FBU3VCLGVBQWUsSUFFM0N1RyxFQUFlbkQsRUFBRSxhQUNac0IsRUFBS3ZGLDZCQUNSMEUsUUFBUSxJQUNieUMsR0FFR0UsRUFBV3BELEVBQUUsT0FBUXpCLE1BQVUrQyxFQUFLdkYsbUJBQW1Cb0gsR0FFdkRFLEVBQVVyRCxFQUFFLGdCQUNQc0IsRUFBS3ZGLGlCQUFpQmdCLEtBQU0sZUFDL0JzRSxNQUFPQyxFQUFLZ0MsZUFHZEMsRUFBVXZELEVBQUUsY0FDUHNCLEVBQUt2RixlQUFleUgsT0FBUWxDLEVBQUtrQyxZQUNyQyxTQUFVNUMsTUFBT1MsTUFBT0MsRUFBS0QsUUFDakN1QixFQUFRTCxFQUFVYSxFQUFVQyxLQUt2QnBILGlCQUFvQnFGLEVBQUt2RixnQkFBZ0IsYUFDdkMwSCxjQU1OQyxHQUFrQixFQUNsQkMsRUFBZSxZQUVWQyxFQUFRM0csR0FJWkEsR0FBUyxVQUFZQSxFQUFNRixTQUNyQjhHLE1BQVEsUUFNWkMsRUFBa0J2QixFQUFTc0IsTUFFN0JDLElBQW9CSCxNQUNSRyxJQUVMUCxFQUFZakMsRUFBS3ZGLHVCQUNuQjRILGFBUUxELElBQW9CSSxNQUNMLElBRVhyRyxnQkFBZ0IsaUJBQ2ZBLGdCQUFnQixpQkFDYmlHLEdBQW1CSSxPQUNaLElBRWhCbEIsR0FBU3RCLE1BQU9RLE9BQVEsUUFDeEJ1QixHQUFVL0IsTUFBT1EsT0FBUSxTQU1YaUMsVUFBWUQsTUFFdkJFLEVBQWtCYixFQUFhYyxtQkFFNUJDLE1BQU16RixNQUFRdUYsV0FNZkcsRUFBU2xILEtBQ1BzRyxFQUFZakMsRUFBS3ZGLHdCQUNuQndHLEVBQVNzQix5QkFRVjVILGlCQUFpQixrQkFBbUIsU0FBU21JLElBRWhEYixFQUFRbEgsZUFFSGdJLG9CQUFvQixrQkFBbUJELEtBR3JDYixFQUFZakMsRUFBS3ZGLGlCQUFpQnVGLFFBT3RDckYsaUJBQW9CcUYsRUFBS3ZGLGlCQUFpQixXQUluQ3dILEVBQVFlLGNBQWNDLFlBQVlDLFdBQVdsRCxFQUFLa0QsWUFBYyxzQkFFeEVDLFlBQVliLEtBS1QzSCxpQkFBaUIsUUFBUzJILEtBRTNCM0gsaUJBQWlCLFFBQVMySCxLQUMxQjNILGlCQUFpQixTQUFVa0ksS0FDM0JsSSxpQkFBb0JxRixFQUFLdkYsaUJBQWlCMkksWUFHNUNuQixFRHpGWW9CLENBQVczSCxFQUFPMEYsUUFFNUJrQyxFQUFzQjVFLEVBQUUsZ0JBQ3JCLHdDQUNELFNBRVBBLEVBQUUsT0FDRGhELEVBQU8wRixPQUFPbUMsZ0JBSUk1SSxpQkFBaUIsUUFBUyxTQUFDZ0IsS0FDcENzRixFQUFVLDZCQUNWQSxVQUNBL0IsUUFDRixjQUNELDZCQUtObUMsRUFDRGlDLEtBR1dwRSxFQUNYbUMsS0FHUTFHLGlCQUFpQixRQUFTLFNBQUNnQixHQUMvQixTQUFXc0YsRUFBU3VDLGFBQWEsb0JBQzFCbkMsRUFBWTNGLEVBQU8wRixPQUFPM0csaUJBQWlCa0IsZUFPbkQ4QyxHRXhGRmhFLEVBQVMsOEJDT0N1RixPQUNYeUQsU0FDQUMsU0FLRUMsRUFBZ0JqRixFQUFFLGdCQUNoQiw4QkFDRyxXQUNIWCxNQUFNLE9BR0FwRCxpQkFBaUIsUUFBUyxhQUM3QmdKLEVBQWUsMkJMckJwQmxGLEVEQUFBLEVNMkJBbUYsSUwzQkFuRixFQUFVQyxFQUFFLE9BQVF6QixNQUFPeEMsRUFBUWIsR0FBSWEsS0FJckNFLGlCQUFpQixzQkFBdUIsZ0JBQUVlLElBQUFBLFNBQ3pDa0gsTUFBTWlCLGdCQUFrQm5JLEVBQU9vSSxZQUMvQm5GLFVBQVVDLElBQUksY0FHaEJILEdLbUJEc0YsSU41QkF0RixFQUFVQyxFQUFFLEtBQU16QixNQUFPeEMsRUFBUWIsR0FBSWEsS0FHbkNFLGlCQUFpQixRQUFTLFNBQUNnQixLQUN4QjhDLEVBQVMsc0JBQXVCOUMsY0FLbkNoQixpQkFBaUIsc0JBQXVCLGdCQUFFZSxJQUFBQSxZQUMvQytDLEdBQVVxQixLQUFNcEUsRUFBT29FLE9BQ3JCcEUsRUFBT3lGLFVBQ1IxQyxHQUFVYSxNQUFPUyxNQUFPckUsRUFBT3FFLFlBQ2hCdEQsT0FBUWYsRUFBT3lGLE1BQU96RSxTQUFhakMsV0FBZ0JrQyxTQUFVakIsRUFBT3lCLE1BQU9QLFVBQVVsQixFQUFPMEIsT0FBUU4sV0FBVzJCLEtBRTdIL0MsRUFBT3NJLFVBQVcsS0FFZkMsRUFBYXZGLEVBQUUsUUFBU3pCLE1BRFp2QixFQUFPeUYsTUFBVzFHLHFCQUE4QkEsV0FDakJpQixFQUFPc0ksYUFDdER2RixFQUFTd0YsTUFJTnhGLEdNT0R5RixpQlA3QkF6RixFQUFVQyxFQUFFLE9BQVF6QixNQUFPeEMsSUFLM0IwSixFQUFxQnBLLFNBQVN1QixlQUFlLElBQzdDOEksRUFBaUIxRixFQUFFLFVBQVd6QixNQUFVeEMsY0FBa0JBLHNCQUMvRDBKLEtBSWN4SixpQkFBaUIsUUFBUyxTQUFDZ0IsS0FDL0J5SSxFQUFnQix1QkFBd0J6SSxnQkFNN0MwSSxFQUFnQjNGLEVBQUUsUUFFbEI0RixFQUFtQnZLLFNBQVN1QixlQUFlLElBQzNDaUosRUFBZTdGLEVBQUUsUUFBU3pCLE1BQVV4QyxXQUN6QzZKLEdBR0tFLEVBQWlCekssU0FBU3VCLGVBQWUsSUFDekNtSixFQUFhL0YsRUFBRSxRQUFTekIsTUFBVXhDLFNBQ3ZDK0osR0FHS3ZELEVBQVd2QyxFQUFFLGdCQUVQakUsY0FBa0JBLHVCQUE0QmIsR0FBT2EsbUJBQ3hEcUUsU0FBYXJFLFVBQWVzRSxVQUFVLEVBQU9DLFVBQVUsSUFFL0RxRixFQUNBRSxFQUNBRSxLQUlROUosaUJBQWlCLFFBQVMsU0FBQ2dCLEtBQ3pCc0YsRUFBVSx3QkFBeUJ0RixZQUVuQ3NGLEVBQVUsK0JBQ1YsVUFDQUEsVUFDQS9CLFFBQ0YsY0FDQ1QsT0FDRix5QkFRRmlHLEVBQXFCM0ssU0FBU3VCLGVBQWUsSUFDN0NxSixFQUFpQmpHLEVBQUUsVUFBV3pCLE1BQVV4QyxxQkFDN0NpSyxLQUdjL0osaUJBQWlCLFFBQVMsYUFDOUJnSyxFQUFnQiw2QkFDaEIxRCxVQUNBL0IsT0FDSCx3QkFLRjBGLEVBQWdCbEcsRUFBRSxRQUdsQm1HLEVBQXVCOUssU0FBU3VCLGVBQWUsSUFDL0N3SixFQUFxQi9LLFNBQVN1QixlQUFlLElBQzdDeUosRUFBd0JoTCxTQUFTdUIsZUFBZSxJQUNoRDBKLEVBQWV0RyxFQUFFLE9BQVF6QixNQUFVeEMsbUJBQ3hDbUssRUFDQWxHLEVBQUUsUUFBU3pCLE1BQVV4QyxtQkFDcEJvSyxHQUVEbkcsRUFBRSxRQUFTekIsTUFBVXhDLGlCQUNwQnFLLEdBRURwRyxFQUFFLFFBQVN6QixNQUFVeEMsb0JBQ3BCc0ssSUFLSUUsRUFBZXZHLEVBQUUsWUFDWmpFLHVCQUNKLGFBQWM2RSxNQUFPTCxXQUFleEUsZ0JBSXJDeUssRUFBMkJuTCxTQUFTdUIsZUFBZSxJQUNuRDZKLEVBQXVCekcsRUFBRSxVQUFXekIsTUFBVXhDLDZCQUNuRHlLLEtBSW9CdkssaUJBQWlCLFFBQVMsU0FBQ2dCLEtBQ3JDd0osRUFBc0IsdUJBQXdCeEosZ0JBSW5EeUosRUFBNEJyTCxTQUFTdUIsZUFBZSxJQUNwRCtKLEVBQXdCM0csRUFBRSxVQUFXekIsTUFBVXhDLDZCQUNwRDJLLEtBSXFCekssaUJBQWlCLFFBQVMsU0FBQ2dCLEtBQ3RDMEosRUFBdUIsd0JBQXlCMUosZ0JBSXJEMkosRUFBcUI1RyxFQUFFLFlBRWpCakUsc0JBQ0osU0FFUGlFLEVBQUUsTUFBT3pCLE1BQVV4QyxrQkFDbEIwSyxHQUVEekcsRUFBRSxNQUFPekIsTUFBVXhDLGtCQUNsQjRLLElBS0luRyxFQUFXUixFQUFFLGFBRVBqRSxVQUFlYixHQUFPYSxlQUMxQixRQUFTNkUsTUFBT1AsVUFBVSxFQUFPSSxRQUFRLElBRWhEd0YsRUFDQUssRUFDQUMsRUFDQUssWUFNTzNLLGlCQUFpQix3QkFBeUIsZ0JBQUVlLElBQUFBLFNBQ2pEdUYsR0FBVzNCLE1BQU9TLE1BQU9yRSxFQUFPcUUsV0FHZjBDLFVBQVkvRyxFQUFPcUUsUUFDbkIwQyxVQUFZL0csRUFBT29ELFNBQVN5RyxTQUN0QjlDLFVBQVkvRyxFQUFPb0QsU0FBUzBHLFNBQzNCL0MsVUFBWS9HLEVBQU9vRCxTQUFTMkcsUUFHbEQvSixFQUFPZ0ssUUFFT2pELFVBQVlvQyxFQUFxQnBDLFVBQVkvRyxFQUFPZ0ssS0FBS2xFLE9BQzNEaUIsVUFBWXFDLEVBQW1CckMsVUFBWS9HLEVBQU9nSyxLQUFLOUwsS0FDaEQ2SSxVQUFZL0csRUFBT2dLLEtBQUtDLFNBRTdCbEosT0FBUWYsRUFBT2dLLEtBQUt2RSxNQUFPekUsU0FBYWpDLFdBQWdCcUMsV0FBWXVILE9BQ3BFNUgsT0FBUWYsRUFBT2dLLEtBQUt2RSxNQUFPekUsU0FBYWpDLG1CQUF3QnFDLFdBQVk4SCxvQkFHakZLLFlBQ1J2SixFQUFPeUUsTUFBTTlCLElBQ2YsU0FBQ2tCLFVBQVNiLEVBQUUsTUFBT3pCLE1BQVV4QyxtQkFDNUJpRSxFQUFFLEtBQU16QixNQUFVeEMsa0JBQXVCcUYsS0FBTVAsRUFBS08sTUFDbkRQLEVBQUtRLGVBT0d0QixFQUFTd0MsRUFBVS9CLE1BR25CVCxFQUFTMkYsS0FJaEIzRixFTzdKVW1ILEdBQ1hDLEVBQWVDLEdBQWF0SCxRQUFTLFdBQ3JDdUgsRUFBZ0JELEdBQWF0SCxRQUFTLFlBQ3RDeUQsRUFBVStELElBQ1ZDLGlCRDNCQS9HLEVBQVdSLEVBQUUsYUFDUmpFLGdCQUNIQSxtQkFDQXNFLFVBQVUsRUFBT0UsV0FBZXhFLGdCQUdsQ3lMLEVBQW1CeEgsRUFBRSxjQUNuQiw0QkFDTyxzQkFNVHlILEVBQW9CekgsRUFBRSxnQkFDakJqRSwyQkFBZ0NiLEdBQU9hLGVBRzVDMkwsRUFBWTFILEVBQUUsYUFDWixlQUdVcEUsWUFBWThMLE9BRXhCbkYsRUFBV2tGLElBRUN4TCxpQkFBaUIsUUFBUyxTQUFDZ0IsS0FDbENzRixFQUFVLHFCQUFzQnRGLFVBR3RDQSxFQUFNSCxPQUFPbUQsVUFBVTBILFNBQVk1TCwwQkFFN0J3RyxFQUFVLDRCQUNaLGNBQ0N4QyxPQUNGLHNCQUNHd0MsVUFDQS9CLGtCQVFMVCxFQUFVQyxFQUFFLE9BQVF6QixNQUFPeEMsR0FDaEN3RyxHQU1LcUYsRUFBeUIsU0FBQ0MsRUFBa0JDLE9BQzNDQyxHQUFxQixNQUFPLE9BQVEsT0FBUSxPQUFRLE9BQVEsT0FBUSxRQUVwRUMsRUFBV2hJLEVBQUUsVUFDYixTQUNLakUsMkRBQ0osYUFHRGtNLEVBQVVqSSxFQUFFLFVBQ1g4SCxFQUFXakosV0FDVCxlQUNELGVBR0ppSixFQUFXckYsTUFBTyxLQUNmeUYsRUFBb0JsSSxFQUFFLE9BQVF6QixNQUFTLG9CQUM1QlIsT0FBUStKLEVBQVdyRixNQUFPeEUsU0FBVSxHQUFJQyxVQUFXLEdBQUlFLFdBQVk4SixNQUM1RXRNLFlBQVlzTSxPQUNkLEtBQ0FDLEVBQWNDLEtBQUtDLE1BQU1DLEVBQWFSLEVBQVdTLE1BQVEsR0FBSSxVQUFZLEdBQzNFQyxFQUFtQlQsRUFBa0JJLEdBQ3ZCLEVBQWRBLE1BQ1FJLEtBQU9ULEVBQVdTLEtBQUtFLE9BQU8sRUFBRyxLQUN6QlYsRUFBa0IsUUFFaENXLEVBQWExSSxFQUFFLE9BQVF6QixNQUFTLGlCQUNoQ29LLEVBQWMzSSxFQUFFLDRCQUNBd0ksUUFDZCx5QkFDTFYsRUFBV1MsUUFDSDNNLFlBQVkrTSxLQUNaL00sWUFBWWtDLEdBQWlCQyxPQUFRK0osRUFBV2MsZ0JBQWlCM0ssU0FBVSxHQUFJQyxVQUFXLFFBQzdGdEMsWUFBWThNLE9BRWZHLEVBQUk3SSxFQUFFLEtBQU1rRSxNQUFPLG9DQUFxQzRELEVBQVd6RyxTQUNqRXpGLFlBQVlpTixLQUNYak4sWUFBWXFNLEtBQ0pyTSxZQUFZb00sSUFHeEJNLEVBQWUsU0FBZkEsRUFBZ0JRLEVBQU1DLE9BRXJCQyxHQURTVixFQUFhVyxTQUFXWCxFQUFhVyxPQUFTNU4sU0FBU0MsY0FBYyxZQUM3RDROLFdBQVcsZUFDMUJILEtBQU9BLEVBQ0NDLEVBQVFHLFlBQVlMLEdBQ3JCckssZ0JBTVJ4QyxpQkFBaUIscUJBQXNCLGdCQUFFZSxJQUFBQSxhQUMvQmUsT0FBUWYsRUFBT3lGLE1BQU14QixLQUFNaEQsU0FBVWpCLEVBQU95RixNQUFNaEUsTUFBT1AsVUFBV2xCLEVBQU95RixNQUFNL0QsT0FBUVYsU0FBYWpDLFdBQWdCcUMsV0FBWW9KLElBRS9JeEssRUFBT29NLE1BQU8sR0FDVHhOLFlBQVk0RSxLQUNYNkksVUFBZXROLGVBRXRCd0csR0FBVzNCLE1BQU9TLE1BQU9yRSxFQUFPcUUsaUJBRTVCaUksRUFBZXRNLEVBQU9vTSxNQUFNeEssT0FDNUIySyxzQkFBb0NELEVBQWUsRUFBSUEsRUFBZSxHQUl0RXpCLEVBQW1CN0gsRUFBRSxZQUNoQmpFLHdDQUNKLFNBR0R5TixFQUFtQyxLQUFoQkYsRUFBc0IsSUFBTUEsRUFDNUNoSCxFQUFJLEVBQUdBLEVBQUlrSCxFQUFrQmxILEdBQUssSUFDbkJ1RixFQUFrQjdLLEVBQU9vTSxNQUFNOUcsUUFJakRtSCxFQUFtQnpKLEVBQUUsT0FBUXpCLE1BQVV4Qyx1QkFBNEI4TCxHQUVuRTZCLEVBQWUxSixFQUFFLGFBQ1pqRSwrRUFBbUZ3TixPQUN2RixRQUNKRSxLQUVTL0IsRUFBV0YsRUFBa0JrQyxNQUlwQzNKLEVDakhPNEosR0FFUkMsRUFBVTVKLEVBQUUsT0FBUXpCLE1BQU8sc0JBQ2hDaUgsR0FHS3FFLEVBQWE3SixFQUFFLE9BQVF6QixNQUFPLDBCQUU5QnVMLEVBQVU5SixFQUFFLE9BQVF6Qix1QkFBdUIrQyxFQUFLeUksT0FBUyxRQUM5RDlFLEVBQ0FDLEVBQ0FHLEVBQ0E4QixFQUNBRSxFQUNBOUQsRUFDQXNHLEVBQ0F0QyxFQUNBcUMsS0FHZ0JFLEtBS1Q3TixpQkFBaUIsZ0JBQWlCLGdCQUFFZSxJQUFBQSxPQUN2Q0EsRUFBT2dOLFFBQ05oTixFQUFPZ04sTUFBTTVFLGNBQ05GLEVBQWMsc0JBQXVCbEksRUFBT2dOLFNBQzlDOUYsTUFBTStGLFVBQVksU0FFakI1RSxFQUFRLHNCQUF1QnJJLEVBQU9nTixRQUc3Q2hOLEVBQU95RSxVQUNBNEYsRUFBZSxzQkFBdUJySyxFQUFPeUUsU0FDN0MwRixFQUFjLHNCQUF1Qm5LLEVBQU95RSxRQUduRHpFLEVBQU9rTixrQkFDQTdDLEVBQWUsOEJBQStCckssRUFBT2tOLGlCQUNyRC9DLEVBQWMsOEJBQStCbkssRUFBT2tOLGdCQUczRGxOLEVBQU9tTixVQUNBNUcsRUFBUyx1QkFBd0J2RyxFQUFPbU4sUUFHL0NuTixFQUFPb04sV0FDQVIsRUFBUXROLFVBQVcsd0JBQXlCVSxFQUFPb04sU0FHMURwTixFQUFPb04sV0FDQVIsRUFBUXROLFVBQVcsd0JBQXlCVSxFQUFPb04sU0FHMURwTixFQUFPcU4sUUFDQTlDLEVBQU8scUJBQXNCdkssRUFBT3FOLFFBR3ZDL0YsY0FBY0MsWUFBWXRJLGlCQUFpQixVQUFXLFlBQ3pELE9BRDJEcU8sV0FFcERSLEVBQVMsMkJBUWQ3TixpQkFBaUIscUJBQXNCLGdCQUFFZSxJQUFBQSxPQUUxQ3VOLEVBRG9CLFNBQVd2TixFQUFPd04sUUFBUTFGLGFBQWEsaUJBQzNCLG1CQUFxQixzQkFFakQ5SCxFQUFPd04sUUFBU0QsRUFBV3ZOLFNBTWxDeU4sRUFBZ0IsS0FDaEJDLEVBQWUsS0FDZkMsRUFBYyxLQUNkQyxFQUFhLEtBQ2JDLEVBQWEsY0FFVDVPLGlCQUFpQixtQkFBb0IsZ0JBQUVlLElBQUFBLE9BQ3hDOE4sRUFBZSxnQkFBa0I5TixFQUFPRCxPQUc1Q0MsRUFBT3dOLFNBQVU1SixNQUFPUCxVQUFVLE9BQ2xDckQsRUFBTytOLFNBQVVuSyxNQUFPUCxVQUFVLEVBQU1JLFFBQVEsS0FFOUNtSyxHQUFjQSxFQUFXSixVQUFZeE4sRUFBT3dOLFdBQ3JDSSxFQUFXSixRQUFTLG9CQUFxQkksR0FHaEQsZ0JBQWtCNU4sRUFBT0QsU0FDZkMsR0FHVnVHLElBQVl2RyxFQUFPRixTQUNQRSxFQUNMME4sTUFDQW5ILEVBQVMsb0JBQXFCbUgsS0FDekIsTUFHWnJELElBQWtCckssRUFBT0YsUUFBVXFLLElBQWlCbkssRUFBT0YsU0FDaERFLEdBQ0oyTixHQUFnQkcsR0FBaUIvRixFQUFnQmlHLFlBQ2pEM0QsRUFBZSxvQkFBcUJzRCxLQUNwQ3hELEVBQWMsb0JBQXFCd0QsS0FDL0IsTUFHWG5GLElBQWF4SSxFQUFPRixTQUNQRSxFQUNOeU4sTUFDQWpGLEVBQVUsb0JBQXFCaUYsS0FFekIsTUFHYmxELElBQVV2SyxFQUFPRixTQUNQRSxFQUNINk4sTUFDQXRELEVBQU8sb0JBQXFCc0QsS0FFekIsUUFJWjVGLEdBQWdCM0QsTUFBT2pDLE1BQU0sRUFBTTRMLE1BQU9qTyxFQUFPaU8sV0FHakRuQixFQUFReEYsY0FBYzRHLGlCQUFrQjVKLE1BQU82SixrQkFBa0IsU0FNNURsUCxpQkFBaUIsb0JBQXFCLGdCQUN2Q21QLElBRHlDcE8sUUFDZjJOLEdBQWVELEdBQWdCRCxHQUFpQkksR0FBY0QsS0FFMUZRLEVBQWUsR0FFaEJBLEVBQWNaLFNBQVU1SixNQUFPUCxVQUFVLE9BQ3pDK0ssRUFBY0wsU0FBVW5LLE1BQU9QLFVBQVUsRUFBT0ksUUFBUSxTQUVwRDRLLEdBQXFCckcsRUFBc0JnRyxTQUFXLGVBQWlCSSxFQUFjck8sTUFBUSxrQkFBb0JxTyxFQUFjck8sS0FFakkyTixHQUFnQkEsRUFBYUYsVUFBWVksRUFBY1osV0FDaERFLEVBQWFLLFFBQVF6TyxVQUFXLFNBR3ZDK08sTUFFRHBHLEdBQWdCM0QsTUFBT2pDLE1BQU0sT0FHdkJpRixjQUFjNEcsZ0JBQWdCek4sZ0JBQWdCLDZCQVFqRHhCLGlCQUFpQixrQkFBbUIsU0FBU3FQLFFBRTlDQyxFQUFrQnpCLEVBQVF4RixjQUMxQmtILEVBQWdCRCxFQUFnQmhILFlBRWhDa0gsRUFBU3pMLEVBQUUsU0FFYjBMLGtCQWtDS0MsUUFDRmxOLEVBQVE4TSxFQUFnQkwsZ0JBQWdCVSxZQUN4Q2xOLEVBQVM2TSxFQUFnQkwsZ0JBQWdCVyxhQUN6Q0MsRUFBZVAsRUFBZ0JMLGdCQUFnQlksZUFFekNDLGlCQUFpQlIsRUFBZ0JMLGlCQUFpQlEsVUFBVU0sUUFBUSxVQUEwQnROLEVBQWZvTixFQUF3QixTQUFXLGFBRWxITCxxQkFDUWhOLGtCQUFxQkMsb0NBQXdDRCxlQUFrQkMsbUJBQXVCZ04sVUFHbEdGLEVBQWNoSCxXQUFXLHdCQUN2QndHLFdBQ1g5SSxjQUFjLDhCQUE4QmpDLFVBQVVDLElBQUksWUFDM0RnQyxjQUFjLDhCQUE4QmpDLFVBQVVnTSxPQUFPLGNBRTVEL0osY0FBYyw4QkFBOEJqQyxVQUFVZ00sT0FBTyxZQUM5RC9KLGNBQWMsOEJBQThCakMsVUFBVUMsSUFBSSxvQkFJaEVnTSxJQUNKbkgsRUFBZ0JpRyxXQUNUbEIsRUFBUyx5QkFFTnhOLFVBQVVWLFlBQVk0SixLQUNyQmxKLFVBQVVWLFlBQVk0SixPQUUxQnNFLEVBQVMsNkJBRVhsTyxZQUFZNEosYUFJYjJHLElBQ0puSCxFQUFzQmdHLFdBQ2ZsQixFQUFTLDBCQUNqQnpDLEVBQWMvSyxXQUFZc0UsTUFBT0gsT0FBUSxVQUFZNEcsRUFBYy9LLFVBQVV3SSxhQUFhLHdCQUVsRmdGLEVBQVMsOEJBQ2pCekMsRUFBYy9LLFdBQVlzRSxNQUFPSCxRQUFRLE1BeEV6Q3FKLEVBQVF6TixlQUVIZ0ksb0JBQW9CLGtCQUFtQmlILEtBR3JDeEIsRUFBUyxnQkFBaUJ4SSxLQUtsQ2lLLEVBQWdCYSxLQUNqQlgsS0FHYXhQLGlCQUFpQixvQkFBcUIwUCxLQUN0QzFQLGlCQUFpQixTQUFVMFAsS0FLdkJILEVBQWNoSCxXQUFXLHdCQUNuQmdILEVBQWNoSCxXQUFXLHlCQUVqQ0MsWUFBWXlILEtBQ056SCxZQUFZMEgsa0JBcUQ3QnJDLGNDM1JReEksRUFBTXZGLEdBRUZWLFNBQVN1QixlQUFlMEUsRUFBSytLLGlCQUMxQzlKLEVBQVdsSCxTQUFTQyxjQUFjLFlBQy9CMkUsVUFBVUMsSUFBT25FLHlCQUNqQkksYUFBYSxrQkFBcUJKLGlCQUNsQ0YsVUFBWXlGLEVBQUsrSyxnQkFFcEJDLEVBQVd0TSxFQUFFLE9BQVF6QixNQUFVeEMsZUFBb0J3RyxLQUVoRHRHLGlCQUFpQixpQkEwQk5nQixLQUNic1AsbUJBRUpDLFNBQ01uTSxVQUFVLFNBM0JkdEUsT0FBWUEseUJDbEJGdUYsRUFDVG1MLEVBZ0JBQyxFREdBQyxHQ25CQUYsRUFBVXpNLGdCQUFFLGlCQURIc0IsRURvQndCQSxHQ2pCdEJ2RiwyQkFDSixTQUNKc0YsTUFBT0MsRUFBS3NMLHlCQUVqQnRMLEVBQUt1TCxRQUFRbE4sSUFDZixTQUFDbU4sT0FDTUMsRUFBTTFSLFNBQVNDLGNBQWMsbUJBQy9CdUksTUFBUWlKLEVBQU9qSixRQUNmaEksVUFBWWlSLEVBQU96TCxNQUNoQjBMLFFBS0pMLEVBQVkxTSxFQUFFLGNBQ1hzQixFQUFLdkYsYUFDTHdFLFdBQWVlLEVBQUt2RixrQkFBa0JpUixZQUFhLHVCQUUzRGhOLEVBQUUsS0FBTXpCLE1BQVUrQyxFQUFLdkYsa0JBQWtCYixHQUFPb0csRUFBS3ZGLG1CQUNwRGlFLEVBQUUsU0FBVXNCLEVBQUsyTCxlQUNqQixJQUNBM0wsRUFBSzRMLGNBRU5ULEVBQ0F6TSxFQUFFLGdCQUNTc0IsRUFBS3ZGLHNCQUNULGVBQ0NzRixNQUFVQyxFQUFLZ0MsZ0JBQWVoQyxFQUFLc0wsZUFDeEN0TCxFQUFLZ0MsZUFHQ3JILGlCQUFpQixTQUFVLFNBQUNnQixLQUMvQnNQLHdCQUVDWSxTQUFTL0wsS0FBT3FMLEVBQVE1SSxRQUd6QjZJLEdEakJEVSxFQUF1QnBOLEVBQUUsZ0JBQ3BCakUsMkJBQWdDYixHQUFJLCtCQUNuQ29HLEVBQUsrTCxlQUdJcFIsaUJBQWlCLFFBQVNxUixLQUU3Q1gsRUFBaUJTLE9BR2JHLEVBQWdCdk4sRUFBRSxnQkFDYmpFLHdDQUNKLG1CQUNLLGFBYUh1UixFQUFZclEsS0FDZHNQLG1CQUVKQyxTQUNNbk0sVUFBVSxPQWRMcEUsaUJBQWlCLFFBQVNxUixPQW1CbENkLEVBQVV4TSxFQUFFLGFBQ1BqRSxtQ0FDSHNFLFVBQVUsSUFDZnNNLEVBQWlCWSxZQUdYdFIsaUJBQWlCLFFBQVMsYUFDeEJzRyxFQUFVLHdCQUF5QmpCLE9BSXJDckYsaUJBQWlCLHlCQUEwQixnQkFBRWUsSUFBQUEsU0FDNUNuQixVQUFZbUIsRUFBT3FQLGNBRW5CL0gsY0FBY2tKLEtBQUs1UixZQUMzQjRRLEtBR1FsSSxjQUFjQyxZQUFZdEksaUJBQWlCLFVBQVcsV0FDMUQsNkRBRHVFZ0IsT0FBWHFOLFdBRW5Eck4sV0FLUnFQLGNFbEZRaEwsRUFBTXZGLE9BRWYwUixFQUFRakosV0FBVyxzQkFFckJrSixHQUFlLElBRWJqSixZQUFZa0osT0FHWkMsRUFBUXRNLEVBQUtaLEtBQUtmLElBQ3ZCLFNBQUNrQixFQUFNZ04sVUFBVTdOLEVBQUUsTUFBT3pCLE1BQVV4QyxlQUFvQmIsR0FBT2EsaUJBQXFCOFIsR0FDbkY3TixFQUFFLGNBRVVqRSxvQkFDSixXQUVQOEUsRUFBS1EsU0FHSixhQUVVdEYsZUFBb0JiLEdBQU9hLGlCQUFxQjhSLFFBQ25EdE4sV0FBZXhFLGlCQUFxQjhSLElBRTVDN04sZ0JBQUUsWUFFVWpFLHlCQUNKLDBCQUdKOEUsRUFBS0gsS0FBS2YsSUFDWixTQUFDbU8sVUFBWTlOLEVBQUUsTUFBT3pCLE1BQVV4QyxxQkFDL0JpRSxFQUFFLEtBQU16QixNQUFVeEMsb0JBQXlCcUYsS0FBTTBNLEVBQVExTSxNQUN4RDBNLEVBQVF6TSxpQkFVVHRCLEVBQVVDLEVBQUUsYUFFTmpFLGdCQUNIc0YsTUFBT0MsRUFBS0QsUUFFcEJyQixnQkFBRSxZQUVVakUsb0JBQ0osMEJBRUo2UixpQkFNRTdOLFdBR0U0TixJQUNKRCxJQUFpQkQsRUFBTXpDLFlBQ1h5QyxFQUFNekMsVUFFZnRQLFFBQVEsU0FBQ3FTLE9BMEJXQSxFQWZGQSxFQUNuQkMsRUFYQU4sR0FVbUJLLEVBVExBLEVBQUtFLFdBVW5CRCxFQUFZLFNBQVdELEVBQUtHLG1CQUFtQnBKLGFBQWEsaUJBRWhFaUosWUFDUyxPQUNKLFNBQVVuTixNQUFPUCxVQUFXMk4sRUFBVzFOLFVBQVcwTixPQUdwRC9SLGlCQUFpQixRQUFTa1MsS0FDMUJsUyxpQkFBaUIsV0FBWW1TLEtBRWhDTCxFQUFLRyxvQkFBcUJ0TixNQUFPSCxRQUFRLFFBSWhCc04sRUF0QkxBLEVBQUtFLFlBdUJ0QnhRLGdCQUFnQixtQkFDaEJBLGdCQUFnQixtQkFDaEJBLGdCQUFnQixtQkFDaEJBLGdCQUFnQixVQUNoQkEsZ0JBQWdCLGNBRWhCeEIsaUJBQWlCLFFBQVNrUyxLQUMxQmxTLGlCQUFpQixXQUFZbVMsS0FFN0JGLG1CQUFtQnpRLGdCQUFnQiw0QkFJaEMwUSxFQUFRbFIsT0FDVm9SLEVBQWdCcFIsRUFBTW9SLGNBQ3RCQyxFQUFhRCxFQUFjSCxtQkFDM0JGLEVBQVksU0FBV00sRUFBV3hKLGFBQWEsaUJBRW5EdUosR0FBZ0J6TixNQUFPUCxVQUFXMk4sRUFBVzFOLFVBQVcwTixPQUV4RE0sR0FBYTFOLE1BQU9ILE9BQVF1TixPQUczQkssRUFEQ0wsR0FDZXBOLE1BQU9SLFNBQVUsS0FFakJRLE1BQU9SLFNBQVVrTyxFQUFXcFQsZUFLdkNrVCxFQUFXblIsR0FDRyxLQUFsQkEsRUFBTXFOLFNBQW9DLEtBQWxCck4sRUFBTXFOLFlBQzNCaUMsbUJBRUl0UCxFQUFNb1IsY0FBZSx1QkMxSGxCL00sT0NSQUEsRUFBTXZGLEVDS051RixFQUFNdkYsRUNOTnVGLEVBQU12RixFQUNmd1MsRUhTQXhTLEVBQVN1RixFQUFLdkYsUUFBVSxjQUt4QnlTLEdDZFNsTixFRGNZQSxFQUFLMEksTUNkQWhLLEVBQUUsT0FBUXpCLE9BQXJCeEMsRURja0JBLGFDYnZDaUUsRUFBRSxXQUVVakUscUJBQ0p1RixFQUFLRixXQUNKQyxNQUFPQyxFQUFLRCxRQUVwQnZELEdBQWlCQyxPQUFRdUQsRUFBS0wsS0FBTWpELFNBQWFqQyxzQkRRNUMwUyxHRVZTbk4sRUZVVUEsRUFBS29OLEtFVDlCMU8sRUFBRSxPQUFRekIsT0FEV3hDLEVGVWVBLFdFVEQ2RSxNQUFPUyxNQUFPQyxFQUFLRCxRQUNyRHJCLGdCQUFFLE1BQU96QixNQUFVeEMsZUFBb0J5QyxLQUFNLDBCQUN6QzhDLEVBQUtaLEtBQUtmLElBQ1osU0FBQ2tCLEVBQU1nTixVQUFVN04sRUFBRSxNQUFPekIsTUFBVXhDLGVBQW9CYixHQUFPYSxpQkFBcUI4UixHQUNuRjdOLEVBQUUsS0FBTXpCLE1BQVV4QyxlQUFvQnFGLEtBQU1QLEVBQUtPLE1BQ2hEUCxFQUFLUSxlRktKc04sRUFBa0JyTixFQUFLc04sU0FBV0EsRUFBU3ROLEVBQUtzTixTQUFVN1MsR0FBVWlFLEVBQUUsT0FBUXpCLCtCQUM5RXNRLEVBQWNuTyxFQUFLWSxFQUFLWixLQUFNM0UsR0FDOUIrUyxHR25CU3hOLEVIbUJjQSxFQUFLeU4sT0duQmJoVCxFSG1CcUJBLEVHbEJwQ3dTLEVBQWVsVCxTQUFTcUIsMkJBR3pCZ0UsS0FBS2hGLFFBQVEsU0FBQ21GLFVBQVNiLEVBQUV1TyxFQUM3QnZPLEVBQUUsTUFBT3pCLE1BQVV4QyxrQkFDbEJpRSxFQUFFLFdBRVVqRSxtQkFBdUI4RSxFQUFLUSxNQUFNMk4sbUJBQ3RDbk8sRUFBS08sV0FDSkMsTUFBT1IsRUFBS1EsUUFFcEJ2RCxHQUFpQkMsT0FBUThDLEVBQUs0QixNQUFNeEIsS0FBTWpELFNBQWFqQyxrQkFBdUJrQyxTQUFVLEdBQUlDLFVBQVUsR0FBSUMsUUFBVTBDLEVBQUs0QixNQUFNdEUsZUFJM0g2QixFQUFFLE9BQ1B6QixNQUFVeEMsWUFBaUI2RSxNQUFPUyxNQUFPQyxFQUFLRCxRQUMvQ3JCLEVBQUUsTUFBT3pCLE1BQVV4QyxpQkFBc0J5QyxLQUFNLGdCQUM5QytQLEtIRUlVLEVBQVVqUCxFQUFFLGdCQUVOakUsT0FBVXVGLEVBQUs0TixVQUFZLGdCQUFrQixTQUNqRCxtQkFDQzdOLE1BQU9DLEVBQUtELFVBS2xCLE9BQVE5QyxNQUFVeEMsa0JBQXFCdUYsRUFBSzROLFVBQVksU0FBVyxLQUNwRVYsRUFDQU0sR0FFRDlPLEVBQUUsT0FBUXpCLE1BQVV4QyxrQkFBcUJ1RixFQUFLNE4sVUFBWSxTQUFXLEtBQ3BFTCxHQUVEN08sRUFBRSxPQUFRekIsTUFBVXhDLGlCQUNuQjRTLEVBQ0FGLGFBT014UyxpQkFBaUIsa0JBQW1CLFNBQVNtSSxNQUU1Q0Msb0JBQW9CLGtCQUFtQkQsS0FHdkNuSSxpQkFBaUIsVUFBVyxlQUM3QmtULEVBQVVGLEVBQVEzSyxjQUFjNEcsZ0JBQWdCWSxhQUFlbUQsRUFBUW5ELGFBRXpFcUQsRUFBVUYsRUFBUTNLLGNBQWNDLFlBQVk2SyxlQUN2QzlLLGNBQWNDLFlBQVk4SyxTQUFTLEVBQUdGLEtBSTVDN04sRUFBSzROLG9CQUNDaE4sY0FBYyx3QkFBd0JqQyxVQUFVQyxJQUFJLG1CQUlwRCtPLEVBQVMsZ0JBQWlCM04sT0FHcEIyTixLQUtUaFQsaUJBQWlCLGdCQUFpQixnQkFBRWUsSUFBQUEsZ0JBeUJsQ3NTLFFBQ0Y3TyxFQUFhOE8sT0FBT0gsWUFBWCxJQUViSCxHQUFVM04sTUFBT2IsWUEzQmhCekQsRUFBT2dOLFNBQ0F3RSxFQUFjLHNCQUF1QnhSLEVBQU9nTixPQUduRGhOLEVBQU8wUixRQUNBRCxFQUFhLHFCQUFzQnpSLEVBQU8wUixNQUdqRDFSLEVBQU80UixZQUNBRCxFQUFpQix5QkFBMEIzUixFQUFPNFIsVUFHekQ1UixFQUFPMEQsUUFDQW1PLEVBQWEscUJBQXNCN1IsRUFBTzBELE1BR2pEMUQsRUFBTytSLFVBQ0FELEVBQWUsdUJBQXdCOVIsRUFBTytSLFVBR2pEekssY0FBY0MsWUFBWXRJLGlCQUFpQixTQUFVcVQsU0FXdkRMLEdJcEdSLFNBQVNPLFNBQWFDLElBQUFBLFVBQVdDLElBQUFBLGtCQUN2QnhOLGNBQWN1TixHQUFXeFAsVUFBVUMsSUFBSSwyQkFDMUN5UCxFQUFjQyxFQUFhRixFQUFTRyxRQUNuQnhVLFNBQVM2RyxjQUFjdU4sR0FDL0I3VCxZQUFZK1QsR0FHNUIsU0FBU0csU0FBYUwsSUFBQUEsVUFBV0MsSUFBQUEsa0JBQ3ZCeE4sY0FBY3VOLEdBQVd4UCxVQUFVQyxJQUFJLDJCQUMxQzZQLEVBQWNDLEVBQWFOLEVBQVNPLFFBQ25CNVUsU0FBUzZHLGNBQWN1TixHQUMvQjdULFlBQVltVSxpQkFkckJHLFlBQWNDLE9BQVFQLEdBQzdCTCxPQUFPYSxZQUFjRCxPQUFRSCxpQkFpQmRSLGVBQ0FNLFNBQ04sZ0JBQUVPLElBQUFBLFVBQVdDLElBQUFBLFVBQVdaLElBQUFBLFlBQ2xCQSxXQUFVRCxVQUFZWSxPQUN0QlgsV0FBVUQsVUFBWWEifQ=="}